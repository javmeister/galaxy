var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});(self.webpackChunkvelorum=self.webpackChunkvelorum||[]).push([[179],{9541:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var platform_browser=__webpack_require__(6550),animations=__webpack_require__(4275),router=__webpack_require__(1894),http=__webpack_require__(3144),fesm2022_forms=__webpack_require__(5030),clipboard=__webpack_require__(1247),ngx_markdown=__webpack_require__(4868),base_path=__webpack_require__(4262),common=(__webpack_require__(882),__webpack_require__(6883),__webpack_require__(2290),__webpack_require__(1295),__webpack_require__(6396),__webpack_require__(6817),__webpack_require__(9414),__webpack_require__(5692),__webpack_require__(3479),__webpack_require__(1097),__webpack_require__(1356),__webpack_require__(4755)),asyncToGenerator=__webpack_require__(9671),firstValueFrom=__webpack_require__(3905),Subject=__webpack_require__(7579),ReplaySubject=__webpack_require__(4707);class Event{dispose(subscription){if(subscription){const subIndex=this.subscriptions.findIndex(sub=>sub===subscription);return this.subscriptions[subIndex]?.unsubscribe?.(),void this.subscriptions.splice(subIndex,1)}this.subscriptions.forEach(sub=>sub?.unsubscribe?.()),this.subscriptions=[]}}__name(Event,"Event");class ReplayEvent{dispose(subscription){if(subscription){const subIndex=this.subscriptions.findIndex(sub=>sub===subscription);return this.subscriptions[subIndex]?.unsubscribe?.(),void this.subscriptions.splice(subIndex,1)}this.subscriptions.forEach(sub=>sub?.unsubscribe?.()),this.subscriptions=[]}}__name(ReplayEvent,"ReplayEvent");class base_event_BaseEvent extends Event{constructor(){super(...arguments),this.subject=new Subject.x,this.subscriptions=[]}subscribe(next){const sub=this.subject.subscribe(next);return this.subscriptions.push(sub),sub}emit(params){this.subject.next(params)}}__name(base_event_BaseEvent,"base_event_BaseEvent");class base_event_BaseReplayEvent extends ReplayEvent{constructor(){super(...arguments),this.subject=new ReplaySubject.t(1),this.subscriptions=[]}subscribe(next){const sub=this.subject.subscribe(next);return this.subscriptions.push(sub),sub}emit(params){this.subject.next(params)}}__name(base_event_BaseReplayEvent,"base_event_BaseReplayEvent"),__name(class OnNumberEvent extends(null){constructor(){super(...arguments),this.name="OnNumberEvent"}},"OnNumberEvent"),__name(class OnStringEvent extends(null){constructor(){super(...arguments),this.name="OnStringEvent"}},"OnStringEvent"),__name(class OnBooleanEvent extends(null){constructor(){super(...arguments),this.name="OnBooleanEvent"}},"OnBooleanEvent");class OnGalaxyModelReadyEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnGalaxyModelReadyEvent"}}__name(OnGalaxyModelReadyEvent,"OnGalaxyModelReadyEvent");class OnDataLoadedEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnDataLoadedEvent"}}__name(OnDataLoadedEvent,"OnDataLoadedEvent");class OnPlayerClaimedSectorsLoadedEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnPlayerClaimedSectorsLoadedEvent"}}__name(OnPlayerClaimedSectorsLoadedEvent,"OnPlayerClaimedSectorsLoadedEvent");class OnPlayerClaimedSolarSystemsLoadedEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnPlayerClaimedSolarSystemsLoadedEvent"}}__name(OnPlayerClaimedSolarSystemsLoadedEvent,"OnPlayerClaimedSolarSystemsLoadedEvent"),__name(class OnMintedSolarSystemsLoadedEvent extends(null){constructor(){super(...arguments),this.name="OnMintedSolarSystemsLoadedEvent"}},"OnMintedSolarSystemsLoadedEvent");class OnMintedAvailableSolarSystemsLoadedEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnMintedAvailableSolarSystemsLoadedEvent"}}__name(OnMintedAvailableSolarSystemsLoadedEvent,"OnMintedAvailableSolarSystemsLoadedEvent");class OnScenesReadyEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnScenesReadyEvent"}}__name(OnScenesReadyEvent,"OnScenesReadyEvent");class OnLoadingScreenFadedOutEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnLoadingScreenFadedOutEvent"}}__name(OnLoadingScreenFadedOutEvent,"OnLoadingScreenFadedOutEvent");class OnGameStartedEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnGameStartedEvent"}}__name(OnGameStartedEvent,"OnGameStartedEvent"),__name(class OnGalaxyCalloutClickEvent extends(null){constructor(){super(...arguments),this.name="OnGalaxyCalloutClickEvent"}},"OnGalaxyCalloutClickEvent");class OnGalaxyCalloutToggleEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnGalaxyCalloutToggleEvent"}}__name(OnGalaxyCalloutToggleEvent,"OnGalaxyCalloutToggleEvent");class OnGalaxySectorClickEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnGalaxySectorClickEvent"}}__name(OnGalaxySectorClickEvent,"OnGalaxySectorClickEvent");class OnSectorSelectedEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnSectorSelectedEvent"}}__name(OnSectorSelectedEvent,"OnSectorSelectedEvent");class OnSectorDeselectedEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnSectorDeselectedEvent"}}__name(OnSectorDeselectedEvent,"OnSectorDeselectedEvent");class OnClickSolarSystemEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnClickSolarSystemEvent"}}__name(OnClickSolarSystemEvent,"OnClickSolarSystemEvent"),__name(class OnSelectSolarSystemEvent extends(null){constructor(){super(...arguments),this.name="OnSelectSolarSystemEvent"}},"OnSelectSolarSystemEvent");class OnSolarSystemSelectedEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnSolarSystemSelectedEvent"}}__name(OnSolarSystemSelectedEvent,"OnSolarSystemSelectedEvent");class OnSolarSystemDeselectedEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnSolarSystemDeselectedEvent"}}__name(OnSolarSystemDeselectedEvent,"OnSolarSystemDeselectedEvent");class OnGalaxyClickEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnGalaxyClickEvent"}}__name(OnGalaxyClickEvent,"OnGalaxyClickEvent");class OnGoBackToGalaxyEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnGoBackToGalaxyEvent"}}__name(OnGoBackToGalaxyEvent,"OnGoBackToGalaxyEvent");class OnIntroAlreadyCompletedEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnIntroAlreadyCompletedEvent"}}__name(OnIntroAlreadyCompletedEvent,"OnIntroAlreadyCompletedEvent");class OnIntroArgosCalloutClickEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnIntroArgosCalloutClickEvent"}}__name(OnIntroArgosCalloutClickEvent,"OnIntroArgosCalloutClickEvent");class OnIntroBackToGalaxyViewEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnIntroBackToGalaxyViewEvent"}}__name(OnIntroBackToGalaxyViewEvent,"OnIntroBackToGalaxyViewEvent");class OnIntroCompleteEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnIntroCompleteEvent"}}__name(OnIntroCompleteEvent,"OnIntroCompleteEvent");class OnIntroCompleteSaveEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnIntroCompleteSaveEvent"}}__name(OnIntroCompleteSaveEvent,"OnIntroCompleteSaveEvent"),__name(class OnIntroPlaySequenceEvent extends(null){constructor(){super(...arguments),this.name="OnIntroPlaySequenceEvent"}},"OnIntroPlaySequenceEvent"),__name(class OnIntroSequenceStepEndEvent extends(null){constructor(){super(...arguments),this.name="OnIntroSequenceStepEndEvent"}},"OnIntroSequenceStepEndEvent"),__name(class OnIntroSequenceStepStartEvent extends(null){constructor(){super(...arguments),this.name="OnIntroSequenceStepStartEvent"}},"OnIntroSequenceStepStartEvent"),__name(class OnIntroShowAllCalloutsEvent extends(null){constructor(){super(...arguments),this.name="OnIntroShowAllCalloutsEvent"}},"OnIntroShowAllCalloutsEvent");class OnIntroShowArgosCalloutEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnIntroShowArgosCalloutEvent"}}__name(OnIntroShowArgosCalloutEvent,"OnIntroShowArgosCalloutEvent");class OnIntroShowSaulCalloutEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnIntroShowSaulCalloutEvent"}}__name(OnIntroShowSaulCalloutEvent,"OnIntroShowSaulCalloutEvent");class OnIntroShowSystemReticleEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnIntroShowSystemReticleEvent"}}__name(OnIntroShowSystemReticleEvent,"OnIntroShowSystemReticleEvent"),__name(class OnIntroStartEvent extends(null){constructor(){super(...arguments),this.name="OnIntroStartEvent"}},"OnIntroStartEvent");class OnIntroSystemReticleClickEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnIntroSystemReticleClickEvent"}}__name(OnIntroSystemReticleClickEvent,"OnIntroSystemReticleClickEvent");class OnShowHeadlineEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnShowHeadlineEvent"}}__name(OnShowHeadlineEvent,"OnShowHeadlineEvent");class OnShowSocialIconsEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnShowSocialIconsEvent"}}__name(OnShowSocialIconsEvent,"OnShowSocialIconsEvent");class OnShowActionButtonsEvent extends base_event_BaseReplayEvent{constructor(){super(...arguments),this.name="OnShowActionButtonsEvent"}}__name(OnShowActionButtonsEvent,"OnShowActionButtonsEvent");class OnShowVersionNumberEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnShowVersionNumberEvent"}}__name(OnShowVersionNumberEvent,"OnShowVersionNumberEvent");class OnShowGalaxyStatsEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnShowGalaxyStatsEvent"}}__name(OnShowGalaxyStatsEvent,"OnShowGalaxyStatsEvent");class OnShowSectorStatsEvent extends base_event_BaseEvent{constructor(){super(...arguments),this.name="OnShowSectorStatsEvent"}}__name(OnShowSectorStatsEvent,"OnShowSectorStatsEvent");var three_module=__webpack_require__(6682);class Bounds{constructor(from,to){this._from=from,this._to=to}get from(){return this._from}get to(){return this._to}get center(){return new three_module.FM8((Math.abs(this.to.x)-Math.abs(this.from.x))/2,(Math.abs(this.to.y)-Math.abs(this.from.y))/2)}static IsPointWithinBounds(point,bounds){return point.x>=bounds.from.x&&point.x<bounds.to.x&&point.y>=bounds.from.y&&point.y<bounds.to.y}static Is3DPointWithBounds(point,bounds){return Bounds.IsPointWithinBounds(new three_module.FM8(point.x,point.z),bounds)}static Zero(){return new Bounds(new three_module.FM8(0,0),new three_module.FM8(0,0))}toString(){return`From: ${this.from.x},${this.from.y}, To: ${this.to.x},${this.to.y}`}}__name(Bounds,"Bounds");class Galaxy{constructor(name){this._loaded=!1,this.name=name,this._sectors=[],this._solarSystems=[],this._planets=[],this._celestials=[],this._poi=[],this._bounds=Bounds.Zero()}dispose(){this.SelectedSector&&(this.SelectedSector.SelectedSystem&&this.SelectedSector.SelectedSystem.deselect(),this.SelectedSector.deselect()),this.HighlightedSector&&(this.HighlightedSector.highlighted=!1)}get loaded(){return this._loaded}set loaded(value){this._loaded=value}get bounds(){return this._bounds}set bounds(value){this._bounds=value}get sectors(){return this._sectors}set sectors(value){this._sectors=value}get solarSystems(){return this._solarSystems}set solarSystems(value){this._solarSystems=value,this.addSolarSystemsToSectors()}get planets(){return this._planets}set planets(value){this._planets=value,this.addPlanetsToSolarSystems()}get celestials(){return this._celestials}set celestials(value){this._celestials=value}get poi(){return this._poi}set poi(value){this._poi=value}get SelectedSector(){return this._sectors.find(s=>s.selected)}get HighlightedSector(){return this._sectors.find(s=>s.highlighted)}get Styx(){return this._solarSystems.find(s=>"Styx"===s.name)}get Saul(){return this._poi.find(s=>"Saul McGrail"===s.name)}SelectSector(id){const sector=this._sectors.find(s=>s.id===id);return sector.selected=!0,sector}GetSectorByTileCoordinates(coordinates){return this._sectors.find(s=>s.coordinates.equals(new three_module.Pa4(coordinates.x,0,coordinates.y)))}addSolarSystemsToSectors(){this._solarSystems.forEach(system=>{this._sectors[system.sector].solarSystems.push(system),system.sectorCenter=this._sectors[system.sector].bounds.center})}addPlanetsToSolarSystems(){this._planets.forEach(planet=>{this._solarSystems[planet.id].planets.push(planet)})}}__name(Galaxy,"Galaxy");const THREE_SUBSET={MOUSE:three_module.RsA,Vector2:three_module.FM8,Vector3:three_module.Pa4,Vector4:three_module.Ltg,Quaternion:three_module._fP,Matrix4:three_module.yGw,Spherical:three_module.$V,Box3:three_module.ZzF,Sphere:three_module.aLr,Raycaster:three_module.iMs,MathUtils:{DEG2RAD:three_module.M8C.DEG2RAD,clamp:three_module.M8C.clamp}},SectorS=593/Math.cos(three_module.M8C.degToRad(30)),SectorHS=(1341.762-SectorS)/2+SectorS;class Sector{constructor(...fields){this._selected=!1,this._highlighted=!1,this._solarSystems=[],this.id=parseInt(fields[0],10),this.regionId=parseInt(fields[1],10),this.name=fields[2],this.tile=new three_module.FM8(parseInt(fields[3]),parseInt(fields[4])),this.center=new three_module.Pa4(parseFloat(fields[6]),0,parseFloat(fields[5])),this._coordinates=new three_module.Pa4(this.tile.y%2==0?1186*this.tile.x:1186*this.tile.x+593,0,this.tile.y*SectorHS),this.bounds=new Bounds(new three_module.FM8(this.coordinates.x-593,this.coordinates.y-670.881),new three_module.FM8(this.coordinates.x+593,this.coordinates.y+670.881))}get selected(){return this._selected}set selected(value){this._selected=value}get highlighted(){return this._highlighted}set highlighted(value){this._highlighted=value}get solarSystems(){return this._solarSystems}set solarSystems(value){this._solarSystems=value,this._solarSystems=this._solarSystems.sort((a,b)=>b.id-a.id)}get stars(){return this._solarSystems.map(s=>s.stars).flat()}get coordinates(){return this._coordinates}select(){this._selected=!0}deselect(){this._selected=!1}toggle(){this._selected=!this._selected}get SelectedSystem(){return this._solarSystems.find(s=>s.selected)}SelectSystem(id){const system=this._solarSystems.find(s=>s.id===id);return system.selected=!0,system.primary.select(),system}DeselectSystem(id){const system=this._solarSystems.find(s=>s.id===id);return system.selected=!1,system.primary.deselect(),system.secondary?.deselect?.(),system}toJson(compressed=!1){return compressed?`"${this.id}:${this.name}:${this.tile.x}:${this.tile.y}:${this.center.z}:${this.center.x}"`:`{"i":${this.id},"n":"${this.name}","t":"${this.tile.x}:${this.tile.y}","c":"${this.center.z}:${this.center.x}"}`}}__name(Sector,"Sector");var slugify=__webpack_require__(766),slugify_default=__webpack_require__.n(slugify);class Star{constructor(id,name,coordinates,systemCoordinates,type,temperature,radius,magnitude,mass,primary=!1,secondary=!1){this._selected=!1,this.id=id,this._name=name,this.coordinates=coordinates,this.systemCoordinates=systemCoordinates,this.type=type,this.temperature=temperature,this.radius=radius,this.magnitude=magnitude,this.mass=mass,this.primary=primary,this.secondary=secondary}get name(){return this.primary||this.secondary?`${this._name}${this.primary?" A":" B"}`:this._name}get selected(){return this._selected}set selected(value){this._selected=value}select(){this._selected=!0}deselect(){this._selected=!1}toggle(){this._selected=!this._selected}get stellarClass(){switch(this.type){case 0:default:return"G-Type (G2)";case 1:return"Red Dwarf";case 2:return"Red Giant";case 3:return"Blue Giant";case 4:return"Supergiant";case 5:return"White Dwarf";case 6:return"Pulsar";case 7:return"Neutron Star"}}get spectralType(){switch(this.type){case 0:default:return"G2";case 1:case 2:return"M";case 3:return"B";case 4:return"O";case 5:case 6:case 7:return"D"}}get classId(){switch(this.type){case 0:default:return"g2";case 1:return"rd";case 2:return"rg";case 3:return"bg";case 4:return"sg";case 5:return"wd";case 6:return"psr";case 7:return"ns"}}get stellarClassId(){return this.stellarClass.replace(" ","-").toLowerCase()}get stellarClassSlug(){return this.slug(this.stellarClass)}toJson(){return`${this.type}:${this.temperature}:${this.radius}:${this.magnitude}:${this.mass}`}slug(value){return slugify_default()(value,{replacement:"-",remove:void 0,lower:!0,strict:!0,locale:"en",trim:!0})}}__name(Star,"Star");class SolarSystem{constructor(...fields){if(this.resources={uncommon:0,common:0,rare:0},this._stars=[],this._planets=[],this._celestials=[],this._selected=!1,this.id=parseInt(fields[0],10),this.name=fields[2],this.coordinates=new three_module.Pa4(parseFloat(fields[3]),parseFloat(fields[4]),parseFloat(fields[5])),this.sector=parseInt(fields[1],10),this.resources.common=parseFloat(fields[6]),this.resources.uncommon=parseFloat(fields[7]),this.resources.rare=parseFloat(fields[8]),this._stars.push(new Star(this.id,this.name,this.coordinates,this.coordinates,parseInt(fields[9],10),parseFloat(fields[10]),parseFloat(fields[11]),parseFloat(fields[12]),parseFloat(fields[13]),14===fields.length,!1)),19===fields.length){const positionA=this.coordinates.clone();positionA.add(new three_module.Pa4(4,0,0));const positionB=this.coordinates.clone();positionB.add(new three_module.Pa4(-4,0,0)),this._stars.push(new Star(this.id,this.name,positionB,this.coordinates,parseInt(fields[14],10),parseFloat(fields[15]),parseFloat(fields[16]),parseFloat(fields[17]),parseFloat(fields[18]),!1,!0)),this._stars[0].coordinates=positionA}}get stars(){return this._stars}set stars(value){this._stars=value}get planets(){return this._planets}set planets(value){this._planets=value}get celestials(){return this._celestials}set celestials(value){this._celestials=value}get type(){return this.primary.type}get temperature(){return this.primary.temperature}get radius(){return this.primary.radius}get rarity(){let rarity="common";switch(this.classId){case"g2":case"rd":case"wd":case"g2g2":case"g2rd":rarity="common";break;case"rg":case"bg":case"sg":case"wdg2":rarity="uncommon";break;case"psr":case"ns":rarity="rare";break;case"wdwd":case"psrwd":case"nswd":rarity="epic"}return rarity}get sectorCenter(){return this._sectorCenter}set sectorCenter(value){this._sectorCenter=value}get isSingle(){return 1===this._stars.length}get isBinary(){return 2===this._stars.length}get isDDBS(){return"wdwd"===this.classId||"psrwd"===this.classId||"nswd"===this.classId}get selected(){return this._selected}set selected(value){this._selected=value}get primary(){return this._stars[0]}get secondary(){return this.isBinary?this._stars[1]:void 0}get selectedStar(){return this._stars.find(s=>s.selected)}get stellarClass(){return this.isBinary?`Binary ${this.primary.stellarClass}+${this.secondary?.stellarClass}`:this.primary.stellarClass}get extended(){let description=`${this.name} is a `;return this.isBinary?(description+=this.isDDBS?"Double Degenerate Binary System ":"Binary Star System ",description+="located in Sector [SECTORNAME]."):description+="Single Star System located in Sector [SECTORNAME].",description}get normalizedCoordinates(){return new three_module.Pa4(this.coordinates.x-this._sectorCenter.x,this.coordinates.y,this.coordinates.z-this._sectorCenter.y)}select(){this._selected=!0}deselect(){this._selected=!1,this.primary.deselect(),this.secondary?.deselect()}toggle(){this._selected=!this._selected}get classId(){return this._stars.map(star=>star.classId).join("")}get starsJson(){return this._stars.map(star=>star.toJson()).join(":")}get planetsJson(){return this._planets.map(planet=>planet.toJson()).join(":")}get celestialsJson(){return this._celestials.map(celestial=>celestial.toJson()).join(":")}toJson(compressed=!1){return compressed?`"${this.id}:${this.sector}:${this.name}:${this.coordinates.x}:${this.coordinates.y}:${this.coordinates.z}:${this.resources.common}:${this.resources.uncommon}:${this.resources.rare}:${this.starsJson}"`:`{"i":${this.id},"s":${this.sector},"n":"${this.name}","c":"${this.coordinates.x}:${this.coordinates.y}:${this.coordinates.z}","r":"${this.resources.common}:${this.resources.uncommon}:${this.resources.rare}","d":"${this.starsJson}"}`}planetsToJson(compressed=!1){return compressed?`"${this.id}:${this.planetsJson}"`:`{"i":${this.id},"p":"${this.planetsJson}"}`}celestialsToJson(compressed=!1){return compressed?`"${this.id}:${this.celestialsJson}"`:`{"i":${this.id},"c":"${this.celestialsJson}"}`}}__name(SolarSystem,"SolarSystem");var PlanetClass=(()=>((PlanetClass=PlanetClass||{})[PlanetClass.D=0]="D",PlanetClass[PlanetClass.Y=1]="Y",PlanetClass[PlanetClass.N=2]="N",PlanetClass[PlanetClass.H=3]="H",PlanetClass[PlanetClass.J=4]="J",PlanetClass[PlanetClass.T=5]="T",PlanetClass[PlanetClass.K=6]="K",PlanetClass[PlanetClass.L=7]="L",PlanetClass[PlanetClass.M=8]="M",PlanetClass))();class Planet{constructor(id,orbit,name,type,radius,mass){this._selected=!1,this._moons=[],this.id=id,this._name=name,this.orbit=orbit,this.type=type,this.radius=radius,this.mass=mass}get name(){return this._name}get moons(){return this._moons}set moons(value){this._moons=value}get selected(){return this._selected}set selected(value){this._selected=value}select(){this._selected=!0}deselect(){this._selected=!1}toggle(){this._selected=!this._selected}get moonsJson(){return this._moons.map(moon=>moon.toJson()).join(":")}get planetClassDescription(){switch(this.type){case PlanetClass.D:return"Small, No Atmosphere";case PlanetClass.Y:return"Toxic, High Temperatures";case PlanetClass.L:return"Habitable, No Animal Life";case PlanetClass.M:return"Habitable, Terrestrial";case PlanetClass.K:return"Habitable, Pressure Domes";case PlanetClass.T:case PlanetClass.J:return"Gas Giant";case PlanetClass.N:return"Uninhabitable, Sulfuric";case PlanetClass.H:return"Uninhabitable, Rocky";default:return""}}toJson(){return`${this.type}:${this.radius}:${this.mass}`}}__name(Planet,"Planet");var core=__webpack_require__(2223),LogLevel=(()=>((LogLevel=LogLevel||{})[LogLevel.All=0]="All",LogLevel[LogLevel.Debug=1]="Debug",LogLevel[LogLevel.Info=2]="Info",LogLevel[LogLevel.Warn=3]="Warn",LogLevel[LogLevel.Error=4]="Error",LogLevel[LogLevel.Fatal=5]="Fatal",LogLevel[LogLevel.Off=6]="Off",LogLevel))();let LogManagerService=(()=>{class LogManagerService2{constructor(environment2){this.environment=environment2,this.name="LogManagerService",this.level=LogLevel.All,this.logWithDate=!0,this.logWithDate=environment2.log.date,this.level=environment2.log.level}debug(msg,context,data){this.writeToLog(msg,LogLevel.Debug,context,data)}info(msg,context,data){this.writeToLog(msg,LogLevel.Info,context,data)}warn(msg,context,data){this.writeToLog(msg,LogLevel.Warn,context,data)}error(msg,context,data){this.writeToLog(msg,LogLevel.Error,context,data)}fatal(msg,context,data){this.writeToLog(msg,LogLevel.Fatal,context,data)}log(msg,context,data){this.writeToLog(msg,LogLevel.All,context,data)}writeToLog(msg,level,context,data){if(this.shouldLog(level)){const entry=new LogEntry,name=context?context.name||context.constructor.name:"";entry.message=`${name?"["+name+"] ":""}${msg}`,entry.level=level,entry.logWithDate=this.logWithDate,this.color(entry.log,entry.level,data)}}color(msg,level,data){let color="#fff";switch(level){case LogLevel.Info:color="#316ed3";break;case LogLevel.Debug:color="#3fbd3f";break;case LogLevel.Error:case LogLevel.Fatal:color="#ee4e4e";break;case LogLevel.Warn:color="#ff9900";break;default:color="#fff"}data?console.log("%c"+msg,"color:"+color,data):console.log("%c"+msg,"color:"+color)}shouldLog(level){let ret=!1;return(level>=this.level&&level!==LogLevel.Off||this.level===LogLevel.All)&&(ret=!0),ret}}return __name(LogManagerService2,"LogManagerService"),LogManagerService2.\u0275fac=__name(function(t){return new(t||LogManagerService2)(core.LFG("environment"))},"LogManagerService_Factory"),LogManagerService2.\u0275prov=core.Yz7({token:LogManagerService2,factory:LogManagerService2.\u0275fac}),LogManagerService2})();class LogEntry{constructor(){this.entryDate=new Date,this.message="",this.level=LogLevel.Debug,this.logWithDate=!0}get log(){let ret="";return this.logWithDate&&(ret=new Date+" - "),ret+=this.message,ret}}__name(LogEntry,"LogEntry");let EventManagerService=(()=>{class EventManagerService2{constructor(log){this.log=log,this.name="EventManagerService",this._events=[]}get events(){return this._events}on(event,next,context){return this._events.find(e=>e.name===event.name)||this._events.push(new event),this.log.debug(`Subscribing to ${event.name||event.constructor.name} ${context?"from ["+(context.name||context.constructor.name||"")+"]":""}`,this),this._events.find(e=>e.name===event.name)?.subscribe(next)}off(event,subscription){this._events.find(e=>e.name===event.name)?.dispose?.(subscription)}emit(event,params,context){this._events.find(e=>e.name===event.name)||this._events.push(new event);const nev=this._events.find(e=>e.name===event.name);this.log.info(`Invoking ${nev.name||nev.constructor.name} ${context?"from ["+(context.name||context.constructor.name||"")+"] ":""}to ${nev.subscriptions.length} subscribers.`,this,params),nev?.emit(params)}dispose(){this._events.forEach(event=>event?.dispose?.()),this._events=[]}}return __name(EventManagerService2,"EventManagerService"),EventManagerService2.\u0275fac=__name(function(t){return new(t||EventManagerService2)(core.LFG(LogManagerService))},"EventManagerService_Factory"),EventManagerService2.\u0275prov=core.Yz7({token:EventManagerService2,factory:EventManagerService2.\u0275fac}),EventManagerService2})(),LoadingManagerService=(()=>{class LoadingManagerService2{constructor(environment2,httpClient,eventManager){this.environment=environment2,this.httpClient=httpClient,this.eventManager=eventManager,this.name="LoadingManagerService",this._sectors=[],this._systems=[],this._planets=[],this._pois=[]}init(){var _this=this;return(0,asyncToGenerator.Z)(function*(){const[sectors,systems,planets,pois]=yield Promise.all([_this.getSectors(_this.environment.cdn.host,_this.environment.cdn.path),_this.getSystems(_this.environment.cdn.host,_this.environment.cdn.path),_this.getPlanets(_this.environment.cdn.host,_this.environment.cdn.path),_this.getPois(_this.environment.cdn.host,_this.environment.cdn.path)]);_this.eventManager.emit(OnDataLoadedEvent,{sectors,systems,planets,pois},_this)})()}get sectors(){return this._sectors}get systems(){return this._systems}get planets(){return this._planets}get pois(){return this._pois}getSectors(host,path){var _this2=this;return(0,asyncToGenerator.Z)(function*(){return 0===_this2._sectors.length&&(yield _this2.loadSectors(host,path)),Promise.resolve(_this2._sectors)})()}getSystems(host,path){var _this3=this;return(0,asyncToGenerator.Z)(function*(){return 0===_this3._systems.length&&(yield _this3.loadSystems(host,path)),Promise.resolve(_this3._systems)})()}getPlanets(host,path){var _this4=this;return(0,asyncToGenerator.Z)(function*(){return 0===_this4._planets.length&&(yield _this4.loadPlanets(host,path)),Promise.resolve(_this4._planets)})()}getPois(host,path){var _this5=this;return(0,asyncToGenerator.Z)(function*(){return 0===_this5._pois.length&&(yield _this5.loadPOIs(host,path)),Promise.resolve(_this5._pois)})()}loadSectors(host,path){var _this6=this;return(0,asyncToGenerator.Z)(function*(){const cdnSectors=(yield _this6.getDataFromCDN(host,path,"galaxy/sectors-compressed-meco.json")).map(s=>s.split(":")).map(s=>new Sector(...s));cdnSectors.length>0?_this6._sectors=[...cdnSectors]:(console.warn("Sectors couldn't be downloaded from the CDN, trying fallback."),_this6._sectors=[])})()}loadSystems(host,path){var _this7=this;return(0,asyncToGenerator.Z)(function*(){const cdnSystems=(yield _this7.getDataFromCDN(host,path,"galaxy/solar-systems-compressed-meco.json")).map(s=>s.split(":")).map(s=>new SolarSystem(...s));_this7._systems=[...cdnSystems]})()}loadPlanets(host,path){var _this8=this;return(0,asyncToGenerator.Z)(function*(){const cdnPlanets=(yield _this8.getDataFromCDN(host,path,"galaxy/planets-compressed-meco.json")).map(s=>s.split(":")).map(s=>{const count=(s.length-1)/3,p=[];for(let i=0;i<count;i++)p.push(new Planet(parseInt(s[0],10),i+1,`${(i+1).toString()}`,parseInt(s[3*i+1]),parseFloat(s[3*i+2]),parseFloat(s[3*i+3])));return p}).flat();_this8._planets=[...cdnPlanets]})()}loadPOIs(host,path){var _this9=this;return(0,asyncToGenerator.Z)(function*(){const poi=yield _this9.getDataFromCDN(host,path,"galaxy/points-of-interest.json");_this9._pois=[...poi]})()}getDataFromCDN(host,path,file){var _this10=this;return(0,asyncToGenerator.Z)(function*(){const data$=_this10.httpClient.get(`https://${host}/${path}/${file}`);return yield(0,firstValueFrom.z)(data$)})()}}return __name(LoadingManagerService2,"LoadingManagerService"),LoadingManagerService2.\u0275fac=__name(function(t){return new(t||LoadingManagerService2)(core.LFG("environment"),core.LFG(http.eN),core.LFG(EventManagerService))},"LoadingManagerService_Factory"),LoadingManagerService2.\u0275prov=core.Yz7({token:LoadingManagerService2,factory:LoadingManagerService2.\u0275fac}),LoadingManagerService2})(),DataManagerService=(()=>{class DataManagerService2{constructor(loadingManager,eventManager){this.loadingManager=loadingManager,this.eventManager=eventManager,this.name="DataManagerService",this.velorum=new Galaxy("Velorum"),this._sub=this.eventManager.on(OnDataLoadedEvent,data=>{this.velorum.sectors=data.sectors,this.velorum.solarSystems=data.systems,this.velorum.planets=data.planets,this.velorum.poi=data.pois,this.velorum.loaded=!0,this.eventManager.emit(OnGalaxyModelReadyEvent,void 0,this)},this),this.loadingManager.init()}ngOnDestroy(){this.dispose()}dispose(){this.velorum.dispose(),this.eventManager.off(OnDataLoadedEvent,this._sub)}}return __name(DataManagerService2,"DataManagerService"),DataManagerService2.\u0275fac=__name(function(t){return new(t||DataManagerService2)(core.LFG(LoadingManagerService),core.LFG(EventManagerService))},"DataManagerService_Factory"),DataManagerService2.\u0275prov=core.Yz7({token:DataManagerService2,factory:DataManagerService2.\u0275fac}),DataManagerService2})(),SharedLibModule=(()=>{class SharedLibModule2{static forRoot(environment2){return{ngModule:SharedLibModule2,providers:[LoadingManagerService,{provide:"environment",useValue:environment2}]}}}return __name(SharedLibModule2,"SharedLibModule"),SharedLibModule2.\u0275fac=__name(function(t){return new(t||SharedLibModule2)},"SharedLibModule_Factory"),SharedLibModule2.\u0275mod=core.oAB({type:SharedLibModule2}),SharedLibModule2.\u0275inj=core.cJS({providers:[LogManagerService,EventManagerService,LoadingManagerService,DataManagerService],imports:[common.ez]}),SharedLibModule2})();var Scene=__webpack_require__(6267);class GameScene extends Scene.x{}__name(GameScene,"GameScene");var StellarClass=(()=>((StellarClass=StellarClass||{})[StellarClass.GType=0]="GType",StellarClass[StellarClass.RedDwarf=1]="RedDwarf",StellarClass[StellarClass.RedGiant=2]="RedGiant",StellarClass[StellarClass.BlueGiant=3]="BlueGiant",StellarClass[StellarClass.SuperGiant=4]="SuperGiant",StellarClass[StellarClass.WhiteDwarf=5]="WhiteDwarf",StellarClass[StellarClass.Pulsar=6]="Pulsar",StellarClass[StellarClass.NeutronStar=7]="NeutronStar",StellarClass))();let StellarSize=(()=>{class StellarSize2{static NormalizeToRange(valueToNormalize,minValue,maxValue,normalizedMin,normalizedMax){return(valueToNormalize-minValue)/(maxValue-minValue)*(normalizedMax-normalizedMin)+normalizedMin}}return __name(StellarSize2,"StellarSize"),StellarSize2.Clamp=(num,min,max)=>Math.min(Math.max(num,min),max),StellarSize2})();class ColorTemperature{constructor(temperature,r,g,b,hex,darkhex){this.Temperature=parseFloat(temperature),this.R=parseFloat(r),this.G=parseFloat(g),this.B=parseFloat(b),this.Hex=hex,this.DarkHex=darkhex||hex}get r(){return this.R/255}get g(){return this.G/255}get b(){return this.B/255}get Color(){return parseInt(this.Hex.toString().replace("#",""),16)}}__name(ColorTemperature,"ColorTemperature");class TemperatureToColor{static GetColorFromExactTemperature(kelvin){return this.Colors.find(c=>c.Temperature===kelvin)}static GetColorFromStellarClass(type){return this.StellarClassColors[type]}static GetColorFromTemperature(kelvin){return this.Colors.sort((x,y)=>Math.abs(x.Temperature-kelvin)>Math.abs(y.Temperature-kelvin)?1:-1)[0]}}__name(TemperatureToColor,"TemperatureToColor"),TemperatureToColor.Colors=[new ColorTemperature("1000","255","51","0","#ff3300"),new ColorTemperature("1100","255","69","0","#ff4500"),new ColorTemperature("1200","255","82","0","#ff5200"),new ColorTemperature("1300","255","93","0","#ff5d00"),new ColorTemperature("1400","255","102","0","#ff6600"),new ColorTemperature("1500","255","111","0","#ff6f00"),new ColorTemperature("1600","255","118","0","#ff7600"),new ColorTemperature("1700","255","124","0","#ff7c00"),new ColorTemperature("1800","255","130","0","#ff8200"),new ColorTemperature("1900","255","135","0","#ff8700"),new ColorTemperature("2000","255","141","11","#ff8d0b"),new ColorTemperature("2100","255","146","29","#ff921d"),new ColorTemperature("2200","255","152","41","#ff9829"),new ColorTemperature("2300","255","157","51","#ff9d33"),new ColorTemperature("2400","255","162","60","#ffa23c"),new ColorTemperature("2500","255","166","69","#ffa645"),new ColorTemperature("2600","255","170","77","#ffaa4d"),new ColorTemperature("2700","255","174","84","#ffae54"),new ColorTemperature("2800","255","178","91","#ffb25b"),new ColorTemperature("2900","255","182","98","#ffb662"),new ColorTemperature("3000","255","185","105","#ffb969"),new ColorTemperature("3100","255","189","111","#ffbd6f"),new ColorTemperature("3200","255","192","118","#ffc076"),new ColorTemperature("3300","255","195","124","#ffc37c"),new ColorTemperature("3400","255","198","130","#ffc682"),new ColorTemperature("3500","255","201","135","#ffc987"),new ColorTemperature("3600","255","203","141","#ffcb8d"),new ColorTemperature("3700","255","206","146","#ffce92"),new ColorTemperature("3800","255","208","151","#ffd097"),new ColorTemperature("3900","255","211","156","#ffd39c"),new ColorTemperature("4000","255","213","161","#ffd5a1"),new ColorTemperature("4100","255","215","166","#ffd7a6"),new ColorTemperature("4200","255","217","171","#ffd9ab"),new ColorTemperature("4300","255","219","175","#ffdbaf"),new ColorTemperature("4400","255","221","180","#ffddb4"),new ColorTemperature("4500","255","223","184","#ffdfb8"),new ColorTemperature("4600","255","225","188","#ffe1bc"),new ColorTemperature("4700","255","226","192","#ffe2c0"),new ColorTemperature("4800","255","228","196","#ffe4c4"),new ColorTemperature("4900","255","229","200","#ffe5c8"),new ColorTemperature("5000","255","231","204","#ffe7cc"),new ColorTemperature("5100","255","232","208","#ffe8d0"),new ColorTemperature("5200","255","234","211","#ffead3"),new ColorTemperature("5300","255","235","215","#ffebd7"),new ColorTemperature("5400","255","237","218","#ffedda"),new ColorTemperature("5500","255","238","222","#ffeede"),new ColorTemperature("5600","255","239","225","#ffefe1"),new ColorTemperature("5700","255","240","228","#fff0e4"),new ColorTemperature("5800","255","241","231","#fff1e7"),new ColorTemperature("5900","255","243","234","#fff3ea"),new ColorTemperature("6000","255","244","237","#fff4ed"),new ColorTemperature("6100","255","245","240","#fff5f0"),new ColorTemperature("6200","255","246","243","#fff6f3"),new ColorTemperature("6300","255","247","245","#fff7f5"),new ColorTemperature("6400","255","248","248","#fff8f8"),new ColorTemperature("6500","255","249","251","#fff9fb"),new ColorTemperature("6600","255","249","253","#fff9fd"),new ColorTemperature("6700","254","250","255","#fefaff"),new ColorTemperature("6800","252","248","255","#fcf8ff"),new ColorTemperature("6900","250","247","255","#faf7ff"),new ColorTemperature("7000","247","245","255","#f7f5ff"),new ColorTemperature("7100","245","244","255","#f5f4ff"),new ColorTemperature("7200","243","243","255","#f3f3ff"),new ColorTemperature("7300","241","241","255","#f1f1ff"),new ColorTemperature("7400","239","240","255","#eff0ff"),new ColorTemperature("7500","238","239","255","#eeefff"),new ColorTemperature("7600","236","238","255","#eceeff"),new ColorTemperature("7700","234","237","255","#eaedff"),new ColorTemperature("7800","233","236","255","#e9ecff"),new ColorTemperature("7900","231","234","255","#e7eaff"),new ColorTemperature("8000","229","233","255","#e5e9ff"),new ColorTemperature("8100","228","233","255","#e4e9ff"),new ColorTemperature("8200","227","232","255","#e3e8ff"),new ColorTemperature("8300","225","231","255","#e1e7ff"),new ColorTemperature("8400","224","230","255","#e0e6ff"),new ColorTemperature("8500","223","229","255","#dfe5ff"),new ColorTemperature("8600","221","228","255","#dde4ff"),new ColorTemperature("8700","220","227","255","#dce3ff"),new ColorTemperature("8800","219","226","255","#dbe2ff"),new ColorTemperature("8900","218","226","255","#dae2ff"),new ColorTemperature("9000","217","225","255","#d9e1ff"),new ColorTemperature("9100","216","224","255","#d8e0ff"),new ColorTemperature("9200","215","223","255","#d7dfff"),new ColorTemperature("9300","214","223","255","#d6dfff"),new ColorTemperature("9400","213","222","255","#d5deff"),new ColorTemperature("9500","212","221","255","#d4ddff"),new ColorTemperature("9600","211","221","255","#d3ddff"),new ColorTemperature("9700","210","220","255","#d2dcff"),new ColorTemperature("9800","209","220","255","#d1dcff"),new ColorTemperature("9900","208","219","255","#d0dbff"),new ColorTemperature("10000","207","218","255","#cfdaff"),new ColorTemperature("10100","207","218","255","#cfdaff"),new ColorTemperature("10200","206","217","255","#ced9ff"),new ColorTemperature("10300","205","217","255","#cdd9ff"),new ColorTemperature("10400","204","216","255","#ccd8ff"),new ColorTemperature("10500","204","216","255","#ccd8ff"),new ColorTemperature("10600","203","215","255","#cbd7ff"),new ColorTemperature("10700","202","215","255","#cad7ff"),new ColorTemperature("10800","202","214","255","#cad6ff"),new ColorTemperature("10900","201","214","255","#c9d6ff"),new ColorTemperature("11000","200","213","255","#c8d5ff"),new ColorTemperature("11100","200","213","255","#c8d5ff"),new ColorTemperature("11200","199","212","255","#c7d4ff"),new ColorTemperature("11300","198","212","255","#c6d4ff"),new ColorTemperature("11400","198","212","255","#c6d4ff"),new ColorTemperature("11500","197","211","255","#c5d3ff"),new ColorTemperature("11600","197","211","255","#c5d3ff"),new ColorTemperature("11700","196","210","255","#c4d2ff"),new ColorTemperature("11800","196","210","255","#c4d2ff"),new ColorTemperature("11900","195","210","255","#c3d2ff"),new ColorTemperature("12000","195","209","255","#c3d1ff"),new ColorTemperature("12100","194","209","255","#c2d1ff"),new ColorTemperature("12200","194","208","255","#c2d0ff"),new ColorTemperature("12300","193","208","255","#c1d0ff"),new ColorTemperature("12400","193","208","255","#c1d0ff"),new ColorTemperature("12500","192","207","255","#c0cfff"),new ColorTemperature("12600","192","207","255","#c0cfff"),new ColorTemperature("12700","191","207","255","#bfcfff"),new ColorTemperature("12800","191","206","255","#bfceff"),new ColorTemperature("12900","190","206","255","#beceff"),new ColorTemperature("13000","190","206","255","#beceff"),new ColorTemperature("13100","190","206","255","#beceff"),new ColorTemperature("13200","189","205","255","#bdcdff"),new ColorTemperature("13300","189","205","255","#bdcdff"),new ColorTemperature("13400","188","205","255","#bccdff"),new ColorTemperature("13500","188","204","255","#bcccff"),new ColorTemperature("13600","188","204","255","#bcccff"),new ColorTemperature("13700","187","204","255","#bbccff"),new ColorTemperature("13800","187","204","255","#bbccff"),new ColorTemperature("13900","187","203","255","#bbcbff"),new ColorTemperature("14000","186","203","255","#bacbff"),new ColorTemperature("14100","186","203","255","#bacbff"),new ColorTemperature("14200","186","203","255","#bacbff"),new ColorTemperature("14300","185","202","255","#b9caff"),new ColorTemperature("14400","185","202","255","#b9caff"),new ColorTemperature("14500","185","202","255","#b9caff"),new ColorTemperature("14600","184","202","255","#b8caff"),new ColorTemperature("14700","184","201","255","#b8c9ff"),new ColorTemperature("14800","184","201","255","#b8c9ff"),new ColorTemperature("14900","184","201","255","#b8c9ff"),new ColorTemperature("15000","183","201","255","#b7c9ff"),new ColorTemperature("15100","183","201","255","#b7c9ff"),new ColorTemperature("15200","183","200","255","#b7c8ff"),new ColorTemperature("15300","182","200","255","#b6c8ff"),new ColorTemperature("15400","182","200","255","#b6c8ff"),new ColorTemperature("15500","182","200","255","#b6c8ff"),new ColorTemperature("15600","182","200","255","#b6c8ff"),new ColorTemperature("15700","181","199","255","#b5c7ff"),new ColorTemperature("15800","181","199","255","#b5c7ff"),new ColorTemperature("15900","181","199","255","#b5c7ff"),new ColorTemperature("16000","181","199","255","#b5c7ff"),new ColorTemperature("16100","180","199","255","#b4c7ff"),new ColorTemperature("16200","180","198","255","#b4c6ff"),new ColorTemperature("16300","180","198","255","#b4c6ff"),new ColorTemperature("16400","180","198","255","#b4c6ff"),new ColorTemperature("16500","179","198","255","#b3c6ff"),new ColorTemperature("16600","179","198","255","#b3c6ff"),new ColorTemperature("16700","179","198","255","#b3c6ff"),new ColorTemperature("16800","179","197","255","#b3c5ff"),new ColorTemperature("16900","179","197","255","#b3c5ff"),new ColorTemperature("17000","178","197","255","#b2c5ff"),new ColorTemperature("17100","178","197","255","#b2c5ff"),new ColorTemperature("17200","178","197","255","#b2c5ff"),new ColorTemperature("17300","178","197","255","#b2c5ff"),new ColorTemperature("17400","178","196","255","#b2c4ff"),new ColorTemperature("17500","177","196","255","#b1c4ff"),new ColorTemperature("17600","177","196","255","#b1c4ff"),new ColorTemperature("17700","177","196","255","#b1c4ff"),new ColorTemperature("17800","177","196","255","#b1c4ff"),new ColorTemperature("17900","177","196","255","#b1c4ff"),new ColorTemperature("18000","176","196","255","#b0c4ff"),new ColorTemperature("18100","176","195","255","#b0c3ff"),new ColorTemperature("18200","176","195","255","#b0c3ff"),new ColorTemperature("18300","176","195","255","#b0c3ff"),new ColorTemperature("18400","176","195","255","#b0c3ff"),new ColorTemperature("18500","176","195","255","#b0c3ff"),new ColorTemperature("18600","175","195","255","#afc3ff"),new ColorTemperature("18700","175","195","255","#afc3ff"),new ColorTemperature("18800","175","194","255","#afc2ff"),new ColorTemperature("18900","175","194","255","#afc2ff"),new ColorTemperature("19000","175","194","255","#afc2ff"),new ColorTemperature("19100","175","194","255","#afc2ff"),new ColorTemperature("19200","174","194","255","#aec2ff"),new ColorTemperature("19300","174","194","255","#aec2ff"),new ColorTemperature("19400","174","194","255","#aec2ff"),new ColorTemperature("19500","174","194","255","#aec2ff"),new ColorTemperature("19600","174","194","255","#aec2ff"),new ColorTemperature("19700","174","193","255","#aec1ff"),new ColorTemperature("19800","174","193","255","#aec1ff"),new ColorTemperature("19900","173","193","255","#adc1ff"),new ColorTemperature("20000","173","193","255","#adc1ff"),new ColorTemperature("20100","173","193","255","#adc1ff"),new ColorTemperature("20200","173","193","255","#adc1ff"),new ColorTemperature("20300","173","193","255","#adc1ff"),new ColorTemperature("20400","173","193","255","#adc1ff"),new ColorTemperature("20500","173","193","255","#adc1ff"),new ColorTemperature("20600","173","192","255","#adc0ff"),new ColorTemperature("20700","172","192","255","#acc0ff"),new ColorTemperature("20800","172","192","255","#acc0ff"),new ColorTemperature("20900","172","192","255","#acc0ff"),new ColorTemperature("21000","172","192","255","#acc0ff"),new ColorTemperature("21100","172","192","255","#acc0ff"),new ColorTemperature("21200","172","192","255","#acc0ff"),new ColorTemperature("21300","172","192","255","#acc0ff"),new ColorTemperature("21400","172","192","255","#acc0ff"),new ColorTemperature("21500","171","192","255","#abc0ff"),new ColorTemperature("21600","171","192","255","#abc0ff"),new ColorTemperature("21700","171","191","255","#abbfff"),new ColorTemperature("21800","171","191","255","#abbfff"),new ColorTemperature("21900","171","191","255","#abbfff"),new ColorTemperature("22000","171","191","255","#abbfff"),new ColorTemperature("22100","171","191","255","#abbfff"),new ColorTemperature("22200","171","191","255","#abbfff"),new ColorTemperature("22300","171","191","255","#abbfff"),new ColorTemperature("22400","170","191","255","#aabfff"),new ColorTemperature("22500","170","191","255","#aabfff"),new ColorTemperature("22600","170","191","255","#aabfff"),new ColorTemperature("22700","170","191","255","#aabfff"),new ColorTemperature("22800","170","190","255","#aabeff"),new ColorTemperature("22900","170","190","255","#aabeff"),new ColorTemperature("23000","170","190","255","#aabeff"),new ColorTemperature("23100","170","190","255","#aabeff"),new ColorTemperature("23200","170","190","255","#aabeff"),new ColorTemperature("23300","170","190","255","#aabeff"),new ColorTemperature("23400","169","190","255","#a9beff"),new ColorTemperature("23500","169","190","255","#a9beff"),new ColorTemperature("23600","169","190","255","#a9beff"),new ColorTemperature("23700","169","190","255","#a9beff"),new ColorTemperature("23800","169","190","255","#a9beff"),new ColorTemperature("23900","169","190","255","#a9beff"),new ColorTemperature("24000","169","190","255","#a9beff"),new ColorTemperature("24100","169","190","255","#a9beff"),new ColorTemperature("24200","169","189","255","#a9bdff"),new ColorTemperature("24300","169","189","255","#a9bdff"),new ColorTemperature("24400","169","189","255","#a9bdff"),new ColorTemperature("24500","168","189","255","#a8bdff"),new ColorTemperature("24600","168","189","255","#a8bdff"),new ColorTemperature("24700","168","189","255","#a8bdff"),new ColorTemperature("24800","168","189","255","#a8bdff"),new ColorTemperature("24900","168","189","255","#a8bdff"),new ColorTemperature("25000","168","189","255","#a8bdff"),new ColorTemperature("25100","168","189","255","#a8bdff"),new ColorTemperature("25200","168","189","255","#a8bdff"),new ColorTemperature("25300","168","189","255","#a8bdff"),new ColorTemperature("25400","168","189","255","#a8bdff"),new ColorTemperature("25500","168","189","255","#a8bdff"),new ColorTemperature("25600","168","189","255","#a8bdff"),new ColorTemperature("25700","167","188","255","#a7bcff"),new ColorTemperature("25800","167","188","255","#a7bcff"),new ColorTemperature("25900","167","188","255","#a7bcff"),new ColorTemperature("26000","167","188","255","#a7bcff"),new ColorTemperature("26100","167","188","255","#a7bcff"),new ColorTemperature("26200","167","188","255","#a7bcff"),new ColorTemperature("26300","167","188","255","#a7bcff"),new ColorTemperature("26400","167","188","255","#a7bcff"),new ColorTemperature("26500","167","188","255","#a7bcff"),new ColorTemperature("26600","167","188","255","#a7bcff"),new ColorTemperature("26700","167","188","255","#a7bcff"),new ColorTemperature("26800","167","188","255","#a7bcff"),new ColorTemperature("26900","167","188","255","#a7bcff"),new ColorTemperature("27000","167","188","255","#a7bcff"),new ColorTemperature("27100","166","188","255","#a6bcff"),new ColorTemperature("27200","166","188","255","#a6bcff"),new ColorTemperature("27300","166","188","255","#a6bcff"),new ColorTemperature("27400","166","187","255","#a6bbff"),new ColorTemperature("27500","166","187","255","#a6bbff"),new ColorTemperature("27600","166","187","255","#a6bbff"),new ColorTemperature("27700","166","187","255","#a6bbff"),new ColorTemperature("27800","166","187","255","#a6bbff"),new ColorTemperature("27900","166","187","255","#a6bbff"),new ColorTemperature("28000","166","187","255","#a6bbff"),new ColorTemperature("28100","166","187","255","#a6bbff"),new ColorTemperature("28200","166","187","255","#a6bbff"),new ColorTemperature("28300","166","187","255","#a6bbff"),new ColorTemperature("28400","166","187","255","#a6bbff"),new ColorTemperature("28500","166","187","255","#a6bbff"),new ColorTemperature("28600","166","187","255","#a6bbff"),new ColorTemperature("28700","165","187","255","#a5bbff"),new ColorTemperature("28800","165","187","255","#a5bbff"),new ColorTemperature("28900","165","187","255","#a5bbff"),new ColorTemperature("29000","165","187","255","#a5bbff"),new ColorTemperature("29100","165","187","255","#a5bbff"),new ColorTemperature("29200","165","187","255","#a5bbff"),new ColorTemperature("29300","165","187","255","#a5bbff"),new ColorTemperature("29400","165","187","255","#a5bbff"),new ColorTemperature("29500","165","186","255","#a5baff"),new ColorTemperature("29600","165","186","255","#a5baff"),new ColorTemperature("29700","165","186","255","#a5baff"),new ColorTemperature("29800","165","186","255","#a5baff"),new ColorTemperature("29900","165","186","255","#a5baff"),new ColorTemperature("30000","165","186","255","#a5baff"),new ColorTemperature("30100","165","186","255","#a5baff"),new ColorTemperature("30200","165","186","255","#a5baff"),new ColorTemperature("30300","165","186","255","#a5baff"),new ColorTemperature("30400","165","186","255","#a5baff"),new ColorTemperature("30500","165","186","255","#a5baff"),new ColorTemperature("30600","164","186","255","#a4baff"),new ColorTemperature("30700","164","186","255","#a4baff"),new ColorTemperature("30800","164","186","255","#a4baff"),new ColorTemperature("30900","164","186","255","#a4baff"),new ColorTemperature("31000","164","186","255","#a4baff"),new ColorTemperature("31100","164","186","255","#a4baff"),new ColorTemperature("31200","164","186","255","#a4baff"),new ColorTemperature("31300","164","186","255","#a4baff"),new ColorTemperature("31400","164","186","255","#a4baff"),new ColorTemperature("31500","164","186","255","#a4baff"),new ColorTemperature("31600","164","186","255","#a4baff"),new ColorTemperature("31700","164","186","255","#a4baff"),new ColorTemperature("31800","164","186","255","#a4baff"),new ColorTemperature("31900","164","186","255","#a4baff"),new ColorTemperature("32000","164","185","255","#a4b9ff"),new ColorTemperature("32100","164","185","255","#a4b9ff"),new ColorTemperature("32200","164","185","255","#a4b9ff"),new ColorTemperature("32300","164","185","255","#a4b9ff"),new ColorTemperature("32400","164","185","255","#a4b9ff"),new ColorTemperature("32500","164","185","255","#a4b9ff"),new ColorTemperature("32600","164","185","255","#a4b9ff"),new ColorTemperature("32700","163","185","255","#a3b9ff"),new ColorTemperature("32800","163","185","255","#a3b9ff"),new ColorTemperature("32900","163","185","255","#a3b9ff"),new ColorTemperature("33000","163","185","255","#a3b9ff"),new ColorTemperature("33100","163","185","255","#a3b9ff"),new ColorTemperature("33200","163","185","255","#a3b9ff"),new ColorTemperature("33300","163","185","255","#a3b9ff"),new ColorTemperature("33400","163","185","255","#a3b9ff"),new ColorTemperature("33500","163","185","255","#a3b9ff"),new ColorTemperature("33600","163","185","255","#a3b9ff"),new ColorTemperature("33700","163","185","255","#a3b9ff"),new ColorTemperature("33800","163","185","255","#a3b9ff"),new ColorTemperature("33900","163","185","255","#a3b9ff"),new ColorTemperature("34000","163","185","255","#a3b9ff"),new ColorTemperature("34100","163","185","255","#a3b9ff"),new ColorTemperature("34200","163","185","255","#a3b9ff"),new ColorTemperature("34300","163","185","255","#a3b9ff"),new ColorTemperature("34400","163","185","255","#a3b9ff"),new ColorTemperature("34500","163","185","255","#a3b9ff"),new ColorTemperature("34600","163","185","255","#a3b9ff"),new ColorTemperature("34700","163","185","255","#a3b9ff"),new ColorTemperature("34800","163","185","255","#a3b9ff"),new ColorTemperature("34900","163","185","255","#a3b9ff"),new ColorTemperature("35000","163","184","255","#a3b8ff"),new ColorTemperature("35100","163","184","255","#a3b8ff"),new ColorTemperature("35200","162","184","255","#a2b8ff"),new ColorTemperature("35300","162","184","255","#a2b8ff"),new ColorTemperature("35400","162","184","255","#a2b8ff"),new ColorTemperature("35500","162","184","255","#a2b8ff"),new ColorTemperature("35600","162","184","255","#a2b8ff"),new ColorTemperature("35700","162","184","255","#a2b8ff"),new ColorTemperature("35800","162","184","255","#a2b8ff"),new ColorTemperature("35900","162","184","255","#a2b8ff"),new ColorTemperature("36000","162","184","255","#a2b8ff"),new ColorTemperature("36100","162","184","255","#a2b8ff"),new ColorTemperature("36200","162","184","255","#a2b8ff"),new ColorTemperature("36300","162","184","255","#a2b8ff"),new ColorTemperature("36400","162","184","255","#a2b8ff"),new ColorTemperature("36500","162","184","255","#a2b8ff"),new ColorTemperature("36600","162","184","255","#a2b8ff"),new ColorTemperature("36700","162","184","255","#a2b8ff"),new ColorTemperature("36800","162","184","255","#a2b8ff"),new ColorTemperature("36900","162","184","255","#a2b8ff"),new ColorTemperature("37000","162","184","255","#a2b8ff"),new ColorTemperature("37100","162","184","255","#a2b8ff"),new ColorTemperature("37200","162","184","255","#a2b8ff"),new ColorTemperature("37300","162","184","255","#a2b8ff"),new ColorTemperature("37400","162","184","255","#a2b8ff"),new ColorTemperature("37500","162","184","255","#a2b8ff"),new ColorTemperature("37600","162","184","255","#a2b8ff"),new ColorTemperature("37700","162","184","255","#a2b8ff"),new ColorTemperature("37800","162","184","255","#a2b8ff"),new ColorTemperature("37900","162","184","255","#a2b8ff"),new ColorTemperature("38000","162","184","255","#a2b8ff"),new ColorTemperature("38100","162","184","255","#a2b8ff"),new ColorTemperature("38200","162","184","255","#a2b8ff"),new ColorTemperature("38300","161","184","255","#a1b8ff"),new ColorTemperature("38400","161","184","255","#a1b8ff"),new ColorTemperature("38500","161","184","255","#a1b8ff"),new ColorTemperature("38600","161","183","255","#a1b7ff"),new ColorTemperature("38700","161","183","255","#a1b7ff"),new ColorTemperature("38800","161","183","255","#a1b7ff"),new ColorTemperature("38900","161","183","255","#a1b7ff"),new ColorTemperature("39000","161","183","255","#a1b7ff"),new ColorTemperature("39100","161","183","255","#a1b7ff"),new ColorTemperature("39200","161","183","255","#a1b7ff"),new ColorTemperature("39300","161","183","255","#a1b7ff"),new ColorTemperature("39400","161","183","255","#a1b7ff"),new ColorTemperature("39500","161","183","255","#a1b7ff"),new ColorTemperature("39600","161","183","255","#a1b7ff"),new ColorTemperature("39700","161","183","255","#a1b7ff"),new ColorTemperature("39800","161","183","255","#a1b7ff"),new ColorTemperature("39900","161","183","255","#a1b7ff"),new ColorTemperature("40000","161","183","255","#a1b7ff")],TemperatureToColor.StellarClassColors=[new ColorTemperature("0","1","1","1","#f3d569"),new ColorTemperature("0","1","1","1","#e3866e"),new ColorTemperature("0","1","1","1","#e3866e"),new ColorTemperature("0","1","1","1","#75c8fb"),new ColorTemperature("0","1","1","1","#d4edf7"),new ColorTemperature("0","1","1","1","#ffffff"),new ColorTemperature("0","1","1","1","#e9f2f8"),new ColorTemperature("0","1","1","1","#bddcbd")];const environment={name:"Production",production:!0,log:{level:4,date:!1},cdn:{host:"cdn.velorum.games",path:"dev",map:{stars:"velorum/stars-compressed.json",colors:"velorum/stars-colors.json",names:"velorum/star-names.json"},vcom:{lore:"vcom/lore",speaker:{images:"vcom/speaker",audio:"vcom/speaker/audio"}},game:{sectors:"galaxy/sectors-meco.json",systems:"galaxy/solar-systems-meco.json",celestials:"galaxy/celestials.json",structures:"galaxy/structures.json",colors:"galaxy/colors.json"}}};var camera_controls_module=__webpack_require__(9500),CSS2DRenderer=__webpack_require__(278),PerspectiveCamera=__webpack_require__(9449),constants=__webpack_require__(8007),Clock=__webpack_require__(1164),Raycaster=__webpack_require__(600),MathUtils=__webpack_require__(4090),Vector2=__webpack_require__(2319),WebGLRenderer=__webpack_require__(6080);let SceneManagerService=(()=>{class SceneManagerService2{constructor(){this.name="SceneManagerService",this._initialized=!1,this._mouseState={held:!1,lastClick:0,clicked:!1},this._lastRaycast=0,this._raycastInterval=25,this._queueRaycast=!0,this._scenes=[],this._introComplete=!0}get Camera(){return this._camera}get Controls(){return this._cameraControls}get RendererWebGL(){return this._rendererWebGL}set RendererWebGL(value){this._rendererWebGL=value}get RendererCSS2D(){return this._rendererCSS2D}set RendererCSS2D(value){this._rendererCSS2D=value}get CanvasWebGL(){return this._canvasWebGL}set CanvasWebGL(value){this._canvasWebGL=value}get CanvasCSS2D(){return this._divElementCSS2D}set CanvasCSS2D(value){this._divElementCSS2D=value}get Mouse(){return this._mouse}get MouseState(){return this._mouseState}get QueueRaycast(){return this._queueRaycast}set QueueRaycast(value){this._queueRaycast=value}get RaycastInterval(){return this._raycastInterval}get LastRaycast(){return this._lastRaycast}get Raycaster(){return this._raycaster}get IntroComplete(){return this._introComplete}set IntroComplete(value){this._introComplete=value}dispose(){this._scenes.forEach(scene=>{scene.dispose()}),this._scenes=[],this._scene=null,this._cameraControls.dispose(),this._requestAnimationFrameId&&cancelAnimationFrame(this._requestAnimationFrameId),this._initialized=!1}AddScene(scene,active=!1){this._scenes.push(scene),this._initialized&&scene.init(),active&&this.SetActive(scene)}GetActive(){return this._scene}SetActive(scene){this._scene=this._scenes.find(s=>s.name===scene.name)}SetActiveByName(name){this._scene=this._scenes.find(s=>s.name===name)}GetScene(scene){return this._scenes.find(s=>s.name===scene.name)}GetSceneByName(name){return this._scenes.find(s=>s.name===name)}Init(){this._clock=new Clock.S,this._mouse=new Vector2.F(1,1),camera_controls_module.Z.install({THREE:THREE_SUBSET}),this._rendererWebGL=this.SetupWebGLRenderer(this._canvasWebGL),this._rendererCSS2D=this.SetupCSS2DRenderer(this._divElementCSS2D),this._camera=this.SetupCamera(),this._cameraControls=this.SetupCameraControls(this._camera,this._rendererWebGL),this._raycaster=new Raycaster.i,this._scenes.forEach(scene=>scene.init()),this._initialized=!0}Animate(){this.Update(),this._requestAnimationFrameId=requestAnimationFrame(()=>this.Animate())}Update(){const delta=this._clock.getDelta();this._cameraControls.update(delta),this._mouseState.held||(this._cameraControls.azimuthAngle+=(0,MathUtils.Id)(-.25*delta)),Date.now()-this._lastRaycast>this._raycastInterval&&this._queueRaycast&&(this._raycaster.setFromCamera(this._mouse,this._camera),this._scene?.handleRaycast?.(this.Raycaster),this._lastRaycast=Date.now(),this._queueRaycast=!1),this._scene?.update(delta)}warmUpScenes(){this._scenes.forEach(scene=>scene?.composer?.render?.(0))}OnClick(event){this._scene.onClick?.(this._raycaster)}SetupCamera(){const camera=new PerspectiveCamera.c(27,this._canvasWebGL.clientWidth/this._canvasWebGL.clientHeight,5,5e6);return camera.updateProjectionMatrix(),camera}SetupCameraControls(camera,renderer){const controls=new camera_controls_module.Z(camera,renderer.domElement);return controls.dampingFactor=.01,controls.draggingDampingFactor=.25,controls.mouseButtons.left=camera_controls_module.Z.ACTION.NONE,controls.mouseButtons.right=camera_controls_module.Z.ACTION.ROTATE,controls.mouseButtons.middle=camera_controls_module.Z.ACTION.TRUCK,controls.mouseButtons.wheel=camera_controls_module.Z.ACTION.DOLLY,controls.dollyToCursor=!0,controls}SetupWebGLRenderer(canvas){const rendererWebGL=new WebGLRenderer.C({antialias:!0,alpha:!0,canvas});return rendererWebGL.setClearColor(0,0),rendererWebGL.setPixelRatio(window.devicePixelRatio),rendererWebGL.setSize(window.innerWidth,window.innerHeight),rendererWebGL.toneMapping=constants.LY2,rendererWebGL.toneMappingExposure=.9,rendererWebGL}SetupCSS2DRenderer(canvas){const rendererCSS2D=new CSS2DRenderer.M({element:canvas});return rendererCSS2D.setSize(window.innerWidth,window.innerHeight),rendererCSS2D.domElement.style.position="absolute",rendererCSS2D.domElement.style.top="0",rendererCSS2D}}return __name(SceneManagerService2,"SceneManagerService"),SceneManagerService2.\u0275fac=__name(function(t){return new(t||SceneManagerService2)},"SceneManagerService_Factory"),SceneManagerService2.\u0275prov=core.Yz7({token:SceneManagerService2,factory:SceneManagerService2.\u0275fac,providedIn:"root"}),SceneManagerService2})();const _c0=["dialog"];let GalaxyView=(()=>{class GalaxyView2{constructor(sceneManager,eventManager,log,router2,route,title){this.sceneManager=sceneManager,this.eventManager=eventManager,this.log=log,this.router=router2,this.route=route,this.title=title,this.name="GalaxyView",this.showActionButtons=!1,this._onScenesReadySubscription=this.eventManager.on(OnScenesReadyEvent,()=>{this.init()},this)}ngOnInit(){this.log.warn("onInit",this),this._onShowActionButtonsEventSubscription=this.eventManager.on(OnShowActionButtonsEvent,()=>{this.showActionButtons=!0},this)}ngOnDestroy(){this.log.warn("onDestroy",this),this.removeEvents(),this.sceneManager.GetSceneByName("Galaxy Scene")?.deactivate?.()}ngAfterViewInit(){this.log.warn("onAfterViewInit",this),this.addEvents()}init(){"map-galaxy-view"===this.route.snapshot.data.routeName&&(this.title.setTitle("Velorum Galaxy"),this.sceneManager.GetSceneByName("Galaxy Scene")?.activate?.(),this.eventManager.emit(OnSectorDeselectedEvent,void 0,this))}addEvents(){this._onLoadingScreenFadedOutEventSubscription=this.eventManager.on(OnLoadingScreenFadedOutEvent,()=>this.onLoadingScreenFadedOut(),this),this._onGalaxySectorClickEventSubscription=this.eventManager.on(OnGalaxySectorClickEvent,object=>this.onGalaxySectorClick(object),this)}removeEvents(){this.eventManager.off(OnGalaxySectorClickEvent,this._onGalaxySectorClickEventSubscription),this.eventManager.off(OnLoadingScreenFadedOutEvent,this._onLoadingScreenFadedOutEventSubscription),this.eventManager.off(OnScenesReadyEvent,this._onScenesReadySubscription),this.eventManager.off(OnShowActionButtonsEvent,this._onShowActionButtonsEventSubscription)}close(){this.dialog.nativeElement.hide()}onCalloutsToggleActionClick(event){event?.preventDefault(),event?.stopPropagation(),event?.stopImmediatePropagation(),this.eventManager.emit(OnGalaxyCalloutToggleEvent,void 0,this)}onLoadingScreenFadedOut(){this.sceneManager.IntroComplete&&(this.eventManager.emit(OnIntroAlreadyCompletedEvent,void 0,this),this.eventManager.emit(OnIntroCompleteEvent,void 0,this),this.eventManager.emit(OnShowSocialIconsEvent,void 0,this),this.eventManager.emit(OnShowActionButtonsEvent,void 0,this),this.eventManager.emit(OnShowGalaxyStatsEvent,void 0,this),this.eventManager.emit(OnShowVersionNumberEvent,void 0,this),this.eventManager.emit(OnShowHeadlineEvent,{text:"VELORUM GALAXY",duration:6e3},this)),this.eventManager.emit(OnGameStartedEvent,void 0,this)}onGalaxySectorClick(object){this.router.navigate(["galaxy",object?.id])}}return __name(GalaxyView2,"GalaxyView"),GalaxyView2.\u0275fac=__name(function(t){return new(t||GalaxyView2)(core.Y36(SceneManagerService),core.Y36(EventManagerService),core.Y36(LogManagerService),core.Y36(router.F0),core.Y36(router.gz),core.Y36(platform_browser.Dx))},"GalaxyView_Factory"),GalaxyView2.\u0275cmp=core.Xpm({type:GalaxyView2,selectors:[["velorum-galaxy-view"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.dialog=_t.first)}},"GalaxyView_Query"),inputs:{routeName:"routeName"},decls:0,vars:0,template:__name(function(rf,ctx){},"GalaxyView_Template"),styles:["[_nghost-%COMP%]{display:flex;flex:1;justify-content:space-between;padding:10px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{position:absolute;z-index:6;width:20%;height:58px;bottom:0;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .actions.left[_ngcontent-%COMP%]{padding-left:80px;width:24%;left:0}[_nghost-%COMP%]   .actions.right[_ngcontent-%COMP%]{padding-right:200px;padding-left:20px;width:24%;right:0}[_nghost-%COMP%]   .actions.center[_ngcontent-%COMP%]{width:200px;left:calc(50% - 100px)}[_nghost-%COMP%]   .callouts-toggle-action[_ngcontent-%COMP%]{opacity:0;transition:.25s opacity}[_nghost-%COMP%]   .callouts-toggle-action.fade-in[_ngcontent-%COMP%]{transition:1s opacity;opacity:1}[_nghost-%COMP%]   sl-dialog.poi-dialog[_ngcontent-%COMP%]::part(body){padding:0}[_nghost-%COMP%]   sl-dialog.poi-dialog[_ngcontent-%COMP%]::part(body)::-webkit-scrollbar{width:6px;height:6px}[_nghost-%COMP%]   sl-dialog.poi-dialog[_ngcontent-%COMP%]::part(body)::-webkit-scrollbar-track{background:#3a3e41}[_nghost-%COMP%]   sl-dialog.poi-dialog[_ngcontent-%COMP%]::part(body)::-webkit-scrollbar-thumb{background:#5c6264;border-radius:2px}[_nghost-%COMP%]   sl-dialog.poi-dialog[_ngcontent-%COMP%]::part(body)::-webkit-scrollbar-thumb:hover{background:#1a98cf;border-radius:2px}"]}),GalaxyView2})();var Matrix4=__webpack_require__(7971),Vector3=__webpack_require__(3104),PlaneGeometry=__webpack_require__(5073),TextureLoader=__webpack_require__(5249),MeshBasicMaterial=__webpack_require__(4691),Group=__webpack_require__(2043),Mesh=__webpack_require__(5932);class HighlightedSectorMesh extends Group.Z{constructor(){super(),this.name="HighlightedSectorMesh";const geometry=new PlaneGeometry._(1341.762,1186);geometry.rotateX((0,MathUtils.Id)(90)),geometry.rotateY((0,MathUtils.Id)(90));const hexTexture=(new TextureLoader.d).load("assets/velorum/galaxy-map/basic-hex-tile-4px.png");this._meshMaterial=new MeshBasicMaterial.v({map:hexTexture,blending:constants.WMw,side:constants.ehD,depthTest:!1,depthWrite:!1,transparent:!0,opacity:1,color:680338});const hexSectorMesh=new Mesh.K(geometry,this._meshMaterial),hexSectorMeshInner=new Mesh.K(geometry,this._meshMaterial),hexSectorMeshMiddle=new Mesh.K(geometry,this._meshMaterial),hexSectorMeshBottom=new Mesh.K(geometry,this._meshMaterial);return hexSectorMeshInner.scale.set(.9,1,.9),hexSectorMeshBottom.scale.set(.9,1,.9),hexSectorMeshMiddle.scale.set(.9,1,.9),hexSectorMeshMiddle.position.set(0,-125,0),hexSectorMeshBottom.position.set(0,-200,0),this.add(hexSectorMesh,hexSectorMeshInner,hexSectorMeshMiddle,hexSectorMeshBottom),this}setInstanceId(id){this.instanceId=id}setTileCoordinates(x,y){this.tilex=x,this.tiley=y}moveTo(target){this.position.set(target.x,200,target.y)}update(delta){return this}}__name(HighlightedSectorMesh,"HighlightedSectorMesh");var InstancedMesh=__webpack_require__(4540),MeshStandardMaterial=__webpack_require__(8946);class SectorsGridMesh extends InstancedMesh.S{constructor(sectors){super(void 0,void 0,sectors.length),this._geometry=new PlaneGeometry._(1341.762,1186),this._geometry.rotateX((0,MathUtils.Id)(90)),this._geometry.rotateY((0,MathUtils.Id)(90)),this._texture=(new TextureLoader.d).load("assets/velorum/galaxy-map/basic-hex-tile-4px.png"),this._material=new MeshStandardMaterial.W({map:this._texture,side:constants.ehD,depthTest:!1,depthWrite:!1,transparent:!0,opacity:.2,emissive:680338,emissiveIntensity:1}),this.geometry=this._geometry,this.material=this._material;for(let i=0;i<sectors.length;i++){const sector=sectors[i],matrix=new Matrix4.y;matrix.setPosition(sector.coordinates),this.setMatrixAt(i,matrix)}}dispose(){this._geometry.dispose(),this._material.dispose()}update(delta){return this}}__name(SectorsGridMesh,"SectorsGridMesh");var Color=__webpack_require__(2746),Vector4=__webpack_require__(2131);class GalaxyMesh extends InstancedMesh.S{constructor(systems,camera){super(void 0,void 0,systems.length),this.camera=camera,this._uniforms={camQ:{value:new Vector4.L}},this._geometry=new PlaneGeometry._(15,15),this._texture=(new TextureLoader.d).load("assets/galaxy_star_2_alpha.png"),this._material=new MeshBasicMaterial.v({map:this._texture,alphaTest:.005,transparent:!0,side:constants.ehD,depthWrite:!1,depthTest:!1,color:16777215}),this._material.onBeforeCompile=shader=>{shader.uniforms.camQ=this._uniforms.camQ,shader.vertexShader=`\n        uniform vec4 camQ;\n\n        vec3 applyQuaternionToVector( vec4 q, vec3 v ){\n            return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n        }\n\n        ${shader.vertexShader}\n      `.replace("#include <begin_vertex>","#include <begin_vertex>\n\n        transformed = applyQuaternionToVector(camQ, transformed);\n        ")},this.frustumCulled=!1,this.geometry=this._geometry,this.material=this._material;for(let i=0;i<systems.length;i++){const vector=new Vector3.P,matrix=new Matrix4.y,system=systems[i];vector.x=system.coordinates.z,vector.y=15*system.coordinates.y,vector.z=system.coordinates.x;const distanceToZero=new Vector3.P(0,0,0).distanceTo(vector);let size=0;size=distanceToZero>0&&distanceToZero<6110?StellarSize.NormalizeToRange(system.radius,1e-5,10,3,15):distanceToZero>=6110&&distanceToZero<11750?StellarSize.NormalizeToRange(system.radius,1e-5,10,3.5,20):StellarSize.NormalizeToRange(system.radius,1e-5,10,4,25),matrix.scale(new Vector3.P(size,size,size)),matrix.setPosition(vector.x,vector.y,vector.z),this.setMatrixAt(i,matrix),this.setColorAt(i,new Color.I(TemperatureToColor.GetColorFromExactTemperature(system.temperature)?.Hex))}}dispose(){this._geometry.dispose(),this._material.dispose()}update(delta){return this._uniforms.camQ.value.copy(this.camera.quaternion),this}}__name(GalaxyMesh,"GalaxyMesh");var EffectComposer=__webpack_require__(9018),ShaderPass=__webpack_require__(9263),RenderPass=__webpack_require__(321),UnrealBloomPass=__webpack_require__(4882),Quaternion=__webpack_require__(3972);class NebulaeCloudsMesh extends InstancedMesh.S{constructor(){super(void 0,void 0,51),this._positions=[new Vector3.P(-25619.7,0,51.7),new Vector3.P(-26719.5,0,-5080.7),new Vector3.P(-22691.6,0,5893.8),new Vector3.P(-26667.8,0,-10283.6),new Vector3.P(-25013.4,0,-15025.9),new Vector3.P(-23476.5,0,-18992.7),new Vector3.P(-21131.2,0,7736.2),new Vector3.P(-17535.7,0,11068.5),new Vector3.P(-14588.8,0,13272.8),new Vector3.P(15589.6,0,14269.2),new Vector3.P(13084.6,0,18881.8),new Vector3.P(17168.3,0,7928),new Vector3.P(9659.4,0,22798.6),new Vector3.P(5317.1,0,25322.72),new Vector3.P(1568.7,0,27334.4),new Vector3.P(4267.2,0,17282),new Vector3.P(-454.6,0,19574.3),new Vector3.P(9242.2,0,13044.9),new Vector3.P(-5519.6,0,20765.1),new Vector3.P(-10519.7,0,20289.7),new Vector3.P(-14738.6,0,19743.4),new Vector3.P(11332.9,0,-15431.2),new Vector3.P(15882.9,0,-12814.3),new Vector3.P(5032,0,-17164.3),new Vector3.P(19714.8,0,-9294.4),new Vector3.P(22132,0,-4891.7),new Vector3.P(24051.5,0,-1095.3),new Vector3.P(-4773.2,0,-20677.6),new Vector3.P(140.1,0,-22523.9),new Vector3.P(-10118.3,0,-16918.1),new Vector3.P(5293.5,0,-23241.8),new Vector3.P(10228.3,0,-22306.6),new Vector3.P(14378.7,0,-21372.9),new Vector3.P(33277,0,3081),new Vector3.P(34056.9,0,8271.7),new Vector3.P(30716.2,0,-2931.1),new Vector3.P(33683.11,0,13461.4),new Vector3.P(31738.3,0,18092.1),new Vector3.P(29958.7,0,21956.2),new Vector3.P(-14161.3,0,-16523.2),new Vector3.P(-11038.8,0,-20742.3),new Vector3.P(-16607.2,0,-10463.3),new Vector3.P(-7101.8,0,-24144.2),new Vector3.P(-2450.5,0,-26039.4),new Vector3.P(3792.9,0,-2585),new Vector3.P(-6030.1,0,-2585)],this._scales=[new Vector3.P(27305.09,1,22537.25),new Vector3.P(22238.8,1,22238.8),new Vector3.P(25096.4,1,25096.4),new Vector3.P(23886.15,1,23886.15),new Vector3.P(23787.45,1,23787.45),new Vector3.P(22861.55,1,22861.55),new Vector3.P(20859.35,1,20859.35),new Vector3.P(20859.35,1,20859.35),new Vector3.P(20859.35,1,20859.35),new Vector3.P(27305.09,1,22537.25),new Vector3.P(22238.8,1,22238.8),new Vector3.P(25096.4,1,25096.4),new Vector3.P(23886.15,1,23886.15),new Vector3.P(23787.45,1,23787.45),new Vector3.P(22861.55,1,22861.55),new Vector3.P(27305.09,1,22537.25),new Vector3.P(22238.8,1,22238.8),new Vector3.P(25096.4,1,25096.4),new Vector3.P(23886.15,1,23886.15),new Vector3.P(23787.45,1,23787.45),new Vector3.P(22861.55,1,22861.55),new Vector3.P(27305.09,1,22537.25),new Vector3.P(22238.8,1,22238.8),new Vector3.P(25096.4,1,25096.4),new Vector3.P(23886.15,1,23886.15),new Vector3.P(23787.45,1,23787.45),new Vector3.P(22861.55,1,22861.55),new Vector3.P(23844.07,1,20029.8),new Vector3.P(19791.03,1,19791.03),new Vector3.P(25096.4,1,22077.12),new Vector3.P(23886.15,1,23886.15),new Vector3.P(23787.45,1,23787.45),new Vector3.P(22861.55,1,22861.55),new Vector3.P(27305.09,1,22537.25),new Vector3.P(22238.8,1,22238.8),new Vector3.P(25096.4,1,25096.4),new Vector3.P(23886.15,1,23886.15),new Vector3.P(23787.45,1,23787.45),new Vector3.P(22861.55,1,22861.55),new Vector3.P(27305.09,1,22537.25),new Vector3.P(22238.8,1,22238.8),new Vector3.P(25096.4,1,25096.4),new Vector3.P(23886.15,1,23886.15),new Vector3.P(23787.45,1,23787.45),new Vector3.P(51915.27,1,37611.75),new Vector3.P(51915.27,1,37611.75)],this._rotations=[new Quaternion._(0,.5591929034707469,0,.8290375725550416),new Quaternion._(0,.5150380749100543,0,.8571673007021123),new Quaternion._(0,.7071067811865475,0,.7071067811865476),new Quaternion._(0,.3973080629844951,0,.9176852963230414),new Quaternion._(0,.3450197273182341,0,.9385954334862552),new Quaternion._(0,.970691319633907,0,-.24032969435212184),new Quaternion._(0,.754835520604765,0,.6559141230628699),new Quaternion._(0,.8776360230668884,0,.4793276656060405),new Quaternion._(0,.8110229792631932,0,.5850142964980037),new Quaternion._(0,.9715491199976461,0,-.2368381460656188),new Quaternion._(0,.9826127965436152,0,-.1856666153855772),new Quaternion._(0,.9085081775267219,0,-.41786707380107674),new Quaternion._(0,.998527216584255,0,-.05425308968621406),new Quaternion._(0,.9999979150467948,0,.002042033805650518),new Quaternion._(0,-.1113648644621785,0,.9937795867109167),new Quaternion._(0,.997440782930944,0,.07149744433268597),new Quaternion._(0,.9923319378854888,0,.12360147674049288),new Quaternion._(0,.9927573419294455,0,-.1201368388346469),new Quaternion._(0,.9673120271596827,0,.25358912065036515),new Quaternion._(0,.9515031674499462,0,.30763894801003283),new Quaternion._(0,-.4098275145988876,0,.9121630382106581),new Quaternion._(0,-.5299192642332048,0,.8480480961564261),new Quaternion._(0,-.5735764363510462,0,.8191520442889918),new Quaternion._(0,-.35836794954530027,0,.9335804264972017),new Quaternion._(0,-.6767474861960565,0,.7362152130507209),new Quaternion._(0,-.7171174291411099,0,.6969523605111365),new Quaternion._(0,.6143678294227296,0,.7890197527124425),new Quaternion._(0,.1607425656038262,0,.9869963665602319),new Quaternion._(0,-.16934950384902456,0,.9855560590580779),new Quaternion._(0,.1607425656038262,0,.9869963665602319),new Quaternion._(0,-.29804135033600254,0,.9545529600236397),new Quaternion._(0,-.35130245848710245,0,.9362620267109618),new Quaternion._(0,.8922393061949261,0,.4515628643730538),new Quaternion._(0,-.8459605744452448,0,.5332454467543737),new Quaternion._(0,.8727091252470528,0,-.488240496794893),new Quaternion._(0,-.7286698680161346,0,.6848651133218489),new Quaternion._(0,.9295514379336852,0,-.36869245209987433),new Quaternion._(0,.9488319294754227,0,-.31578152195457276),new Quaternion._(0,.21014756383884062,0,.9776696790903361),new Quaternion._(0,.43365908458754393,0,.9010770213220918),new Quaternion._(0,.1166707370993327,0,.993170649538486),new Quaternion._(0,.35347484377925664,0,.9354440308298675),new Quaternion._(0,-.015532805679965254,0,.9998793586966921),new Quaternion._(0,-.07179338781907432,0,.9974195253079117),new Quaternion._(0,.5591929034707469,0,.8290375725550416),new Quaternion._(0,.8746197071393959,0,-.48480962024633695)],this._geometry=new PlaneGeometry._(1,1),this._geometry.rotateX((0,MathUtils.Id)(-90));const nebulaTexture=(new TextureLoader.d).load("assets/velorum/galaxy-map/nebula2.png");this._material=new MeshBasicMaterial.v({map:nebulaTexture,blending:constants.WMw,side:constants.ehD,depthTest:!1,depthWrite:!1,transparent:!0,opacity:.17}),this.geometry=this._geometry,this.material=this._material;for(let i=0;i<this._rotations.length;i++){const matrix=new Matrix4.y;matrix.makeRotationFromQuaternion(this._rotations[i]),matrix.setPosition(this._positions[i]),matrix.scale(this._scales[i]),this.setMatrixAt(i,matrix)}}update(delta){return this}dispose(){this._geometry.dispose(),this._material.dispose()}}__name(NebulaeCloudsMesh,"NebulaeCloudsMesh");class NebulaeDustMesh extends InstancedMesh.S{constructor(){super(void 0,void 0,4),this._positions=[new Vector3.P(-897.7,0,-686.2),new Vector3.P(-568.7,1,-1137.4),new Vector3.P(277.3,2,-4154.8),new Vector3.P(-869.5,3,733.2)],this._scales=[new Vector3.P(38080.61025,1,27588.765),new Vector3.P(89250.14474999999,1,64625),new Vector3.P(33212.14815,1,24063.765),new Vector3.P(36529.61025,1,26437.5)],this._rotations=[new Quaternion._(0,-.7253743710122877,0,.688354575693754),new Quaternion._(0,-.3255681544571567,0,.9455185755993168),new Quaternion._(0,-.77162458338772,0,.636078220277764),new Quaternion._(0,0,0,1)],this._geometry=new PlaneGeometry._(1,1),this._geometry.rotateX((0,MathUtils.Id)(-90));const dustTexture=(new TextureLoader.d).load("assets/velorum/galaxy-map/dust.png");this._material=new MeshBasicMaterial.v({map:dustTexture,blending:constants.WMw,side:constants.ehD,depthTest:!1,depthWrite:!1,transparent:!0,opacity:.3,color:11591669}),this.geometry=this._geometry,this.material=this._material;for(let i=0;i<this._rotations.length;i++){const matrix=new Matrix4.y;matrix.makeRotationFromQuaternion(this._rotations[i]),matrix.setPosition(this._positions[i]),matrix.scale(this._scales[i]),this.setMatrixAt(i,matrix)}}update(delta){return this}dispose(){this._geometry.dispose(),this._material.dispose()}}__name(NebulaeDustMesh,"NebulaeDustMesh");class NebulaeCoreMesh extends InstancedMesh.S{constructor(){super(void 0,void 0,2),this._positions=[new Vector3.P(0,2,0),new Vector3.P(0,1,0)],this._scales=[new Vector3.P(48692,1,35250),new Vector3.P(27730,1,20022)],this._rotations=[new Quaternion._(0,.9862856015372314,0,-.16504760586067757),new Quaternion._(0,.9862856015372314,0,-.16504760586067757)],this._geometry=new PlaneGeometry._(1,1),this._geometry.rotateX((0,MathUtils.Id)(-90));const dustTexture=(new TextureLoader.d).load("assets/velorum/galaxy-map/center.png");this._material=new MeshBasicMaterial.v({map:dustTexture,blending:constants.WMw,side:constants.ehD,depthTest:!1,depthWrite:!1,transparent:!0,toneMapped:!0,opacity:.05,color:16081421}),this.geometry=this._geometry,this.material=this._material;for(let i=0;i<this._rotations.length;i++){const matrix=new Matrix4.y;matrix.makeRotationFromQuaternion(this._rotations[i]),matrix.setPosition(this._positions[i]),matrix.scale(this._scales[i]),this.setMatrixAt(i,matrix)}}update(delta){return this}dispose(){this._geometry.dispose(),this._material.dispose()}}__name(NebulaeCoreMesh,"NebulaeCoreMesh");class GalaxySectorHoverMesh extends CSS2DRenderer.j{constructor(element,position){super(element),position&&this.position.set(position.x,position.y,position.z)}static SetupCallout(sector){const element=GalaxySectorHoverMesh.CreateHTMLElement(sector?.name);return new GalaxySectorHoverMesh(element,new Vector3.P(0,1e6,0))}static CreateHTMLElement(text){const sectorHover=document.createElement("div");sectorHover.className="sector-hover-label",sectorHover.id="sector-hover-label";const sectorHoverReticle=document.createElement("div");sectorHoverReticle.className="reticle";const sectorHoverInfo=document.createElement("div");return sectorHoverInfo.className="info",sectorHoverInfo.innerHTML=text||"",sectorHover.addEventListener("contextmenu",event=>{event.preventDefault()}),sectorHover.appendChild(sectorHoverReticle),sectorHover.appendChild(sectorHoverInfo),sectorHover}setPosition(position){this.position.set(position.x,position.y,position.z)}setPositionVector2(position){this.position.set(position.x,0,position.y)}setText(text){this.element.querySelector(".info")&&(this.element.querySelector(".info").innerHTML=`SECTOR ${text}`)}update(delta){}}__name(GalaxySectorHoverMesh,"GalaxySectorHoverMesh");class GalaxySectorPlayerOwnedMesh extends CSS2DRenderer.j{constructor(element,position,visible=!1){super(element),this._visible=!1,this.name="GalaxySectorPlayerOwnedMesh",visible&&(this._visible=visible),this.setVisibility(),position&&this.position.set(position.x,position.y,position.z)}static SetupCallout(sector,systems){const element=GalaxySectorPlayerOwnedMesh.CreateHTMLElement(sector?.name),mesh=new GalaxySectorPlayerOwnedMesh(element);return mesh.setText(sector?.name,systems.length),mesh}static CreateHTMLElement(text){const sectorHover=document.createElement("div");sectorHover.className="sector-player-owned-label",sectorHover.id="sector-player-owned-label";const sectorHoverReticle=document.createElement("div");sectorHoverReticle.className="reticle";const sectorHoverInfo=document.createElement("div");return sectorHoverInfo.className="info",sectorHoverInfo.innerHTML=text||"",sectorHover.addEventListener("contextmenu",event=>{event.preventDefault()}),sectorHover.appendChild(sectorHoverReticle),sectorHover.appendChild(sectorHoverInfo),sectorHover}setPosition(position){this.position.set(position.x,position.y,position.z)}setPositionVector2(position){this.position.set(position.x,0,position.y)}setText(sectorName,systemCount){this.element.querySelector(".info")&&(this.element.querySelector(".info").innerHTML=`SECTOR ${sectorName}<br>${systemCount} SYSTEM${systemCount>1?"S":""} CLAIMED`)}update(delta){}show(){this._visible=!0,this.setVisibility()}hide(){this._visible=!1,this.setVisibility()}toggle(){this._visible=!this._visible,this.setVisibility()}setVisibility(){this._visible?(this.element.classList.remove("fade-out"),this.element.classList.add("fade-in")):(this.element.classList.remove("fade-in"),this.element.classList.add("fade-out"))}}__name(GalaxySectorPlayerOwnedMesh,"GalaxySectorPlayerOwnedMesh");var brightness_contrast=__webpack_require__(3820),brightness_contrast_default=__webpack_require__.n(brightness_contrast),shaders_brightness_contrast=__webpack_require__(1555),shaders_brightness_contrast_default=__webpack_require__.n(shaders_brightness_contrast),hue_saturation=__webpack_require__(6527),hue_saturation_default=__webpack_require__.n(hue_saturation),shaders_hue_saturation=__webpack_require__(3761),shaders_hue_saturation_default=__webpack_require__.n(shaders_hue_saturation),Box3=__webpack_require__(7206),CubeTexture=__webpack_require__(8508);let TextureManagerService=(()=>{class TextureManagerService2{constructor(){this.name="TextureManagerService"}LoadSkyboxCubeTexturesFromHTMLImages(){const dramaticBloomPxImage=document.querySelector("#dramatic-bloom-px"),dramaticBloomNxImage=document.querySelector("#dramatic-bloom-nx"),dramaticBloomPyImage=document.querySelector("#dramatic-bloom-py"),dramaticBloomNyImage=document.querySelector("#dramatic-bloom-ny"),dramaticBloomPzImage=document.querySelector("#dramatic-bloom-pz"),dramaticBloomNzImage=document.querySelector("#dramatic-bloom-nz");this.galaxySkybox=new CubeTexture.B,this.galaxySkybox.generateMipmaps=!1,this.galaxySkybox.encoding=constants.rnI,this.galaxySkybox.minFilter=constants.FDw,this.galaxySkybox.magFilter=constants.wem,this.galaxySkybox.images=[dramaticBloomPxImage,dramaticBloomNxImage,dramaticBloomPyImage,dramaticBloomNyImage,dramaticBloomPzImage,dramaticBloomNzImage],this.galaxySkybox.needsUpdate=!0}dispose(){}}return __name(TextureManagerService2,"TextureManagerService"),TextureManagerService2.\u0275fac=__name(function(t){return new(t||TextureManagerService2)},"TextureManagerService_Factory"),TextureManagerService2.\u0275prov=core.Yz7({token:TextureManagerService2,factory:TextureManagerService2.\u0275fac,providedIn:"root"}),TextureManagerService2})(),GalaxyScene=(()=>{class GalaxyScene2 extends GameScene{constructor(sceneManager,eventManager,log,textureManager,dataManager){super(),this.sceneManager=sceneManager,this.eventManager=eventManager,this.log=log,this.textureManager=textureManager,this.dataManager=dataManager,this._initialized=!1,this._sectorPlayerOwnedHighlighted=[],this._sectorPlayerOwnedAdded=!1,this.BrightnessContrastShader={uniforms:{tDiffuse:null,uContrast:{value:.04},uBrightness:{value:.01}},vertexShader:brightness_contrast_default(),fragmentShader:shaders_brightness_contrast_default()},this.HueSaturationShader={uniforms:{tDiffuse:null,uHue:{value:0},uSaturation:{value:.25}},vertexShader:hue_saturation_default(),fragmentShader:shaders_hue_saturation_default()},this.name="Galaxy Scene"}get composer(){return this._composer}dispose(){this.log.warn("onDispose",this),this.deactivate(),this.removeGalaxy(),this.removeEvents(),this._galaxy?.dispose?.(),this._grid?.dispose?.(),this._clouds?.dispose?.(),this._dust?.dispose?.(),this._core?.dispose?.(),this._initialized=!1}init(){return this.log.warn("onInit",this),this._initialized||(this._renderPass=this.setupRenderpass(),this._composer=this.setupComposer(),this._galaxy=new GalaxyMesh(this.dataManager.velorum.solarSystems,this.sceneManager.Camera),this._clouds=new NebulaeCloudsMesh,this._dust=new NebulaeDustMesh,this._core=new NebulaeCoreMesh,this._grid=new SectorsGridMesh(this.dataManager.velorum.sectors),this._sectorHighlighted=new HighlightedSectorMesh,this._sectorHighlightedCallout=GalaxySectorHoverMesh.SetupCallout(),this.setupPostProcessing(),this.addBackground().addGalaxy(),this.addEvents(),this._initialized=!0),this}activate(onlyIfInactive=!1){return onlyIfInactive&&this.sceneManager.GetActive()&&this.sceneManager.GetActive()?.name===this.name||(this.initRenderer(),this.initControls(),this.initCamera(),this.sceneManager.SetActiveByName(this.name),this.sceneManager.IntroComplete&&this.addSectorHoverCallout()),this}deactivate(){return this.removeCallouts(),this.removeSectorHoverCallout(),this.removePlayerOwnedCallouts(),this.removeSectorHighlight(),this}initRenderer(){return this.sceneManager.RendererWebGL.setSize(window.innerWidth,window.innerHeight),this.sceneManager.RendererWebGL.toneMappingExposure=.9,this}initCamera(){return this.sceneManager.Camera.near=5,this.sceneManager.Camera.far=5e6,this.sceneManager.Camera.updateProjectionMatrix(),this}initControls(){return this.sceneManager.Controls.enabled=!0,this.sceneManager.Controls.maxPolarAngle=(0,MathUtils.Id)(85),this.sceneManager.Controls.minPolarAngle=(0,MathUtils.Id)(5),this.sceneManager.Controls.minDistance=7500,this.sceneManager.Controls.maxDistance=2e5,this.sceneManager.Controls.distance=7e4,this.sceneManager.Controls.dollySpeed=.1,this.sceneManager.Controls.dampingFactor=.1,this.sceneManager.Controls.setPosition(-65e3,39e3,900),this.sceneManager.Controls.setBoundary(new Box3.Z(new Vector3.P(-5e4,-5e3,-5e4),new Vector3.P(5e4,5e3,5e4))),this}addEvents(){this._eventSub2=this.eventManager.on(OnPlayerClaimedSectorsLoadedEvent,sectors=>this.onPlayerClaimedSectorsLoaded(sectors),this),this._introSub1=this.eventManager.on(OnIntroCompleteEvent,()=>this.onIntroComplete(),this)}removeEvents(){this.eventManager.off(OnGalaxyCalloutToggleEvent,this._eventSub1),this.eventManager.off(OnPlayerClaimedSectorsLoadedEvent,this._eventSub2),this.eventManager.off(OnIntroCompleteEvent,this._introSub1),this.eventManager.off(OnIntroArgosCalloutClickEvent,this._introSub2),this.eventManager.off(OnIntroShowArgosCalloutEvent,this._introSub3),this.eventManager.off(OnIntroShowSaulCalloutEvent,this._introSub4),this.eventManager.off(OnIntroCompleteSaveEvent,this._introSub5)}onIntroComplete(){this.addSectorHighlight().addSectorHoverCallout(),this._sectorPlayerOwnedAdded&&this.showPlayerOwnedCallouts()}onPlayerClaimedSectorsLoaded(systems){if(this._sectorPlayerOwnedHighlighted=[],systems){const sectors=[];for(let i=0;i<systems.length;i++){const currentSystem=systems[i],sector=sectors.find(sector2=>sector2.id===currentSystem.sector),vSystem=this.dataManager.velorum.solarSystems[currentSystem.id];sector?sector.systems.push(vSystem):sectors.push({id:currentSystem.sector,sector:this.dataManager.velorum.sectors[currentSystem.sector],systems:[vSystem]})}sectors.forEach(sector=>{const callout=GalaxySectorPlayerOwnedMesh.SetupCallout(sector.sector,sector.systems);callout.setPosition(sector.sector.coordinates),callout.element.onclick=()=>{this.eventManager.emit(OnGalaxySectorClickEvent,{id:sector.sector.id,x:sector.sector.coordinates.x,y:sector.sector.coordinates.z},this)},this._sectorPlayerOwnedHighlighted.push(callout)}),this.removePlayerOwnedCallouts().addPlayerOwnedCallouts().showPlayerOwnedCallouts()}}showPlayerOwnedCallouts(){this._sectorPlayerOwnedHighlighted.forEach(callout=>callout.show())}addPlayerOwnedCallouts(){return this._sectorPlayerOwnedHighlighted.length>0&&this.add(...this._sectorPlayerOwnedHighlighted),this._sectorPlayerOwnedAdded=!0,this}removePlayerOwnedCallouts(){const playerOwned=this.children.filter(c=>c.name===GalaxySectorPlayerOwnedMesh.name);return playerOwned.length>0&&this.remove(...playerOwned),this}addGalaxy(){return this.add(this._galaxy,this._clouds,this._dust,this._core,this._grid),this}addSectorHighlight(){return this.add(this._sectorHighlighted),this}removeSectorHighlight(){return this.remove(this._sectorHighlighted),this}addBackground(){return this.background=this.textureManager.galaxySkybox,this}removeGalaxy(){return this.remove(this._galaxy,this._clouds,this._dust,this._core,this._grid),this}addSectorHoverCallout(){return this.add(this._sectorHighlightedCallout),this}removeCallouts(){const callouts=this.children.filter(c=>"GalaxyCaptainPOIMesh"===c.name||"GalaxyLocationPOIMesh"===c.name);return this.remove(...callouts),this}removeSectorHoverCallout(){return this.remove(this._sectorHighlightedCallout),this}update(delta){return this._galaxy.update(delta),this._grid.update(delta),this._sectorHighlighted.update(delta),this._clouds.update(delta),this._dust.update(delta),this._core.update(delta),this._sectorHighlightedCallout.update(delta),this._composer.render(delta),this.sceneManager.RendererCSS2D.render(this,this.sceneManager.Camera),this}handleRaycast(raycaster){let gridHits=null,gridHitcount=0;if(gridHits=raycaster.intersectObject(this._grid),gridHitcount=gridHits.length,gridHitcount>0){const hit=gridHits[0],matrix=new Matrix4.y;this._grid.getMatrixAt(hit.instanceId,matrix);const hoveredTilePosition=new Vector2.F(matrix.elements[12],matrix.elements[14]);this._sectorHighlighted.moveTo(hoveredTilePosition);const instanceId=hit.instanceId,sector=this.dataManager.velorum.sectors[instanceId];this._sectorHighlighted.setTileCoordinates(sector.coordinates.x,sector.coordinates.y),this._sectorHighlighted.setInstanceId(instanceId),this._sectorHighlightedCallout.setPositionVector2(hoveredTilePosition),this._sectorHighlightedCallout.setText(sector.name)}return this}onClick(raycaster){let sectorHits=null,sectorHitcount=0;sectorHits=raycaster.intersectObject(this._sectorHighlighted),sectorHitcount=sectorHits.length,sectorHitcount>0&&this.eventManager.emit(OnGalaxySectorClickEvent,{id:this._sectorHighlighted.instanceId,x:this._sectorHighlighted.tilex,y:this._sectorHighlighted.tiley},this)}setupPostProcessing(){const bloomEffect=new UnrealBloomPass.m(new Vector2.F(512,512),1.25,.25,0);this._composer.addPass(bloomEffect)}setupRenderpass(){return new RenderPass.C(this,this.sceneManager.Camera)}setupComposer(){const composer=new EffectComposer.x(this.sceneManager.RendererWebGL);return composer.addPass(this._renderPass),composer.addPass(new ShaderPass.T(this.BrightnessContrastShader)),composer.addPass(new ShaderPass.T(this.HueSaturationShader)),composer}}return __name(GalaxyScene2,"GalaxyScene"),GalaxyScene2.\u0275fac=__name(function(t){return new(t||GalaxyScene2)(core.LFG(SceneManagerService),core.LFG(EventManagerService),core.LFG(LogManagerService),core.LFG(TextureManagerService),core.LFG(DataManagerService))},"GalaxyScene_Factory"),GalaxyScene2.\u0275prov=core.Yz7({token:GalaxyScene2,factory:GalaxyScene2.\u0275fac,providedIn:"root"}),GalaxyScene2})();var tween_esm=__webpack_require__(7734);class SectorStarMesh extends InstancedMesh.S{constructor(sector){super(void 0,void 0,sector.stars.length),this._uniforms={uCameraQueternion:{value:new Vector4.L}},this._pulsars={},this._pulsarIds=[],this._scaleMultiplier={multiplier:-.05},this._geometry=new PlaneGeometry._(1,1),this._texture=(new TextureLoader.d).load("assets/velorum/galaxy-map/sun-glow-mask.png"),this._material=new MeshBasicMaterial.v({map:this._texture,alphaTest:.01,transparent:!0,side:constants.ehD,depthWrite:!1,depthTest:!0,color:16777215,opacity:1}),this._material.onBeforeCompile=shader=>{shader.uniforms.uCameraQueternion=this._uniforms.uCameraQueternion,shader.vertexShader=`\n        uniform vec4 uCameraQueternion;\n\n        vec3 applyQuaternionToVector( vec4 q, vec3 v ){\n            return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n        }\n\n        ${shader.vertexShader}\n      `.replace("#include <begin_vertex>","#include <begin_vertex>\n\n        transformed = applyQuaternionToVector(uCameraQueternion, transformed);\n        ")},this.geometry=this._geometry,this.material=this._material;for(let i=0;i<sector.stars.length;i++){const star=sector.stars[i],matrix=new Matrix4.y,size=StellarSize.NormalizeToRange(star.radius,1e-5,10,2.5,20);matrix.setPosition(star.coordinates),matrix.scale(new Vector3.P(size,size,size));const tempColor=TemperatureToColor.GetColorFromStellarClass(star.type);this.setColorAt(i,new Color.I(tempColor.Color)),star.type===StellarClass.Pulsar&&(this._pulsars[i]=star),this.setMatrixAt(i,matrix)}this._pulsarIds=Object.keys(this._pulsars).map(i=>parseInt(i)),this._pulsarMatrix=new Matrix4.y,this.setPulsarBounceTween()}get camera(){return this._camera}set camera(value){this._camera=value}dispose(){this._geometry?.dispose?.(),this._material?.dispose?.(),this._bounceTween?.stop?.(),this._bounceTween=null}update(delta){return this._uniforms.uCameraQueternion.value.copy(this._camera.quaternion),tween_esm.Vx(),this._pulsarIds.forEach(instanceId=>{this.getMatrixAt(instanceId,this._pulsarMatrix);const translation=new Vector3.P,rotation=new Quaternion._,scale=new Vector3.P;this._pulsarMatrix.decompose(translation,rotation,scale),scale.addScalar(this._scaleMultiplier.multiplier),this._pulsarMatrix.compose(translation,rotation,scale),this.setMatrixAt(instanceId,this._pulsarMatrix)}),this.instanceMatrix.needsUpdate=!0,this}setPulsarBounceTween(){this._bounceTween=new tween_esm.kX(this._scaleMultiplier).to({multiplier:.05},75).yoyo(!0).repeat(1/0).start()}}__name(SectorStarMesh,"SectorStarMesh");class SectorStarsBoundaryMesh extends InstancedMesh.S{constructor(sector){super(void 0,void 0,sector.solarSystems.length),this._geometry=new PlaneGeometry._(1,1),this._geometry.rotateX((0,MathUtils.Id)(-90)),this._texture=(new TextureLoader.d).load("assets/velorum/galaxy-map/system-boundary.png"),this._material=new MeshBasicMaterial.v({map:this._texture,side:constants.ehD,transparent:!0,depthTest:!0,depthWrite:!1,opacity:.4,color:16777215}),this.geometry=this._geometry,this.material=this._material;for(let i=0;i<sector.solarSystems.length;i++){const system=sector.solarSystems[i],matrix=new Matrix4.y,scale=StellarSize.NormalizeToRange(system.primary.radius,1e-5,10,4,10);matrix.setPosition(system.coordinates),matrix.scale(new Vector3.P(10*scale,1,10*scale)),this.setMatrixAt(i,matrix),this.setColorAt(i,new Color.I(16777215))}}update(delta){return this}dispose(){this._geometry.dispose(),this._material.dispose()}}__name(SectorStarsBoundaryMesh,"SectorStarsBoundaryMesh");var BoxGeometry=__webpack_require__(7310);class SectorStarsBoundingBoxMesh extends InstancedMesh.S{constructor(sector){super(void 0,void 0,sector.solarSystems.length),this._geometry=new BoxGeometry.D(1,1,1),this._material=new MeshBasicMaterial.v({transparent:!0,blending:constants.WMw,side:constants.ehD,depthWrite:!1,depthTest:!0,color:0,opacity:0}),this.geometry=this._geometry,this.material=this._material;for(let i=0;i<sector.solarSystems.length;i++){const system=sector.solarSystems[i],matrix=new Matrix4.y,size=StellarSize.NormalizeToRange(system.primary.radius,1e-5,10,3,3);matrix.setPosition(system.coordinates),matrix.scale(new Vector3.P(6*size,6*size,6*size)),this.setMatrixAt(i,matrix)}}dispose(){this._geometry.dispose(),this._material.dispose()}update(delta){return this}}__name(SectorStarsBoundingBoxMesh,"SectorStarsBoundingBoxMesh");class SectorSystemCalloutMesh extends CSS2DRenderer.j{constructor(element,position,enabled=!1){super(element),this._enabled=!1,this.name="SectorSystemCalloutMesh",enabled&&(this._enabled=enabled),position&&this.position.set(position.x,position.y,position.z)}static SetupCallout(system){const element=SectorSystemCalloutMesh.CreateHTMLElement(system?.name);return new SectorSystemCalloutMesh(element,system?.coordinates)}static CreateHTMLElement(name){const newCallout=document.createElement("div");newCallout.className="system-hover-callout";const calloutContainer=document.createElement("div");calloutContainer.className="details";const calloutSystemName=document.createElement("span");return calloutSystemName.className="name",calloutSystemName.innerText=`${name}`,calloutContainer.appendChild(calloutSystemName),newCallout.appendChild(calloutContainer),newCallout}setPosition(position){this.position.set(position.x,position.y,position.z)}update(delta){}toggle(){this._enabled=!this._enabled}}__name(SectorSystemCalloutMesh,"SectorSystemCalloutMesh");class SectorSelectedSystemCalloutMesh extends CSS2DRenderer.j{constructor(element,position){super(element),this.name="SectorSelectedSystemCalloutMesh",position?this.position.set(position.x,position.y,position.z):this.position.set(0,5e5,0)}static SetupCallout(system){const element=SectorSelectedSystemCalloutMesh.CreateHTMLElement(system?.name);return new SectorSelectedSystemCalloutMesh(element,system?.coordinates)}static CreateHTMLElement(name){const newCallout=document.createElement("div");newCallout.className="system-selected-callout";const spinnerContainer=document.createElement("div");spinnerContainer.className="reticle-container";const spinner2=document.createElement("div");spinner2.className="reticle",spinnerContainer.appendChild(spinner2);const calloutContainer=document.createElement("div");calloutContainer.className="details";const calloutSystemName=document.createElement("span");return calloutSystemName.className="name",calloutSystemName.innerText=`${name}`,calloutContainer.appendChild(calloutSystemName),newCallout.appendChild(spinnerContainer),newCallout.appendChild(calloutContainer),newCallout}setPosition(position){this.position.set(position.x,position.y,position.z)}update(delta){}}__name(SectorSelectedSystemCalloutMesh,"SectorSelectedSystemCalloutMesh");class SectorHoverSystemCalloutMesh extends CSS2DRenderer.j{constructor(element,position,enabled=!1){super(element),this._enabled=!1,this.name="SectorHoverSystemCalloutMesh",enabled&&(this._enabled=enabled),position&&this.position.set(position.x,position.y,position.z)}static SetupCallout(system){const element=SectorHoverSystemCalloutMesh.CreateHTMLElement(system?.name);return new SectorHoverSystemCalloutMesh(element,system?.coordinates)}static CreateHTMLElement(name){const newCallout=document.createElement("div");newCallout.className="system-selected-callout";const spinnerContainer=document.createElement("div");spinnerContainer.className="reticle-container";const spinner2=document.createElement("div");spinner2.className="reticle",spinnerContainer.appendChild(spinner2);const calloutContainer=document.createElement("div");calloutContainer.className="details";const calloutSystemName=document.createElement("span");return calloutSystemName.className="name",calloutSystemName.innerText=`${name}`,calloutContainer.appendChild(calloutSystemName),newCallout.appendChild(spinnerContainer),newCallout.appendChild(calloutContainer),newCallout}setPosition(position){this.position.set(position.x,position.y,position.z)}update(delta){}toggle(){this._enabled=!this._enabled}}__name(SectorHoverSystemCalloutMesh,"SectorHoverSystemCalloutMesh");class SectorIntroSystemCalloutMesh extends CSS2DRenderer.j{constructor(element,position){super(element),this.name="SectorIntroSystemCalloutMesh",position&&this.position.set(position.x,position.y,position.z)}static SetupCallout(system){const element=SectorIntroSystemCalloutMesh.CreateHTMLElement(system?.name);return new SectorIntroSystemCalloutMesh(element,system?.coordinates)}static CreateHTMLElement(name){const newCallout=document.createElement("div");newCallout.className="system-intro-callout";const spinnerContainer=document.createElement("div");spinnerContainer.className="reticle-container";const spinner2=document.createElement("div");spinner2.className="reticle",spinnerContainer.appendChild(spinner2);const calloutContainer=document.createElement("div");calloutContainer.className="details";const calloutSystemName=document.createElement("span");return calloutSystemName.className="name",calloutSystemName.innerText=`${name}`,calloutContainer.appendChild(calloutSystemName),newCallout.appendChild(spinnerContainer),newCallout.appendChild(calloutContainer),newCallout}setPosition(position){this.position.set(position.x,position.y,position.z)}update(delta){}}__name(SectorIntroSystemCalloutMesh,"SectorIntroSystemCalloutMesh");class SectorClaimedStarsBoundaryMesh extends InstancedMesh.S{constructor(sector,systems){super(void 0,void 0,systems.length),this._rotationSpeed=10,this.name="SectorClaimedStarsBoundaryMesh",this._geometry=new PlaneGeometry._(1,1),this._geometry.rotateX((0,MathUtils.Id)(-90)),this._texture=(new TextureLoader.d).load("assets/velorum/galaxy-map/sector-selected-object-base-glow.png"),this._material=new MeshBasicMaterial.v({map:this._texture,side:constants.ehD,transparent:!0,depthTest:!0,depthWrite:!1,opacity:1,color:7125745}),this.geometry=this._geometry,this.material=this._material;for(let i=0;i<systems.length;i++){const system=systems[i],matrix=new Matrix4.y,scale=StellarSize.NormalizeToRange(system.primary.radius,1e-5,10,4,10);matrix.setPosition(system.coordinates.x,system.coordinates.y+.01,system.coordinates.z),matrix.scale(new Vector3.P(14*scale,1,14*scale)),this.setMatrixAt(i,matrix)}}update(delta){return this._geometry.rotateY((0,MathUtils.Id)(-delta*this._rotationSpeed)),this}dispose(){this._geometry.dispose(),this._material.dispose()}}__name(SectorClaimedStarsBoundaryMesh,"SectorClaimedStarsBoundaryMesh");class SectorClaimedStarsIndicatorMesh extends InstancedMesh.S{constructor(sector,systems){super(void 0,void 0,systems.length),this._uniforms={uCameraQueternion:{value:new Vector4.L}},this.name="SectorClaimedStarsIndicatorMesh",this._geometry=new PlaneGeometry._(1,1),this._texture=(new TextureLoader.d).load("assets/velorum/galaxy-map/chevron-down-1.png"),this._material=new MeshBasicMaterial.v({map:this._texture,alphaTest:.01,side:constants.ehD,transparent:!0,depthTest:!0,depthWrite:!1,opacity:.75,color:14151935}),this._material.onBeforeCompile=shader=>{shader.uniforms.uCameraQueternion=this._uniforms.uCameraQueternion,shader.vertexShader=`\n        uniform vec4 uCameraQueternion;\n\n        vec3 applyQuaternionToVector( vec4 q, vec3 v ){\n            return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n        }\n\n        ${shader.vertexShader}\n      `.replace("#include <begin_vertex>","#include <begin_vertex>\n\n        transformed = applyQuaternionToVector(uCameraQueternion, transformed);\n        ")},this.geometry=this._geometry,this.material=this._material;for(let i=0;i<systems.length;i++){const system=systems[i],matrix=new Matrix4.y;matrix.setPosition(system.coordinates.x,system.coordinates.y+12,system.coordinates.z),matrix.scale(new Vector3.P(10,13,10)),this.setMatrixAt(i,matrix)}}get camera(){return this._camera}set camera(value){this._camera=value}update(delta){return this._uniforms.uCameraQueternion.value.copy(this._camera.quaternion),this}dispose(){this._geometry.dispose(),this._material.dispose()}}__name(SectorClaimedStarsIndicatorMesh,"SectorClaimedStarsIndicatorMesh");var BufferAttribute=__webpack_require__(6192),BufferGeometry=__webpack_require__(875),LineBasicMaterial=__webpack_require__(8252),LineSegments=__webpack_require__(3633);class PolarGridHelper extends LineSegments.e{constructor(radius=10,sectors=16,rings=8,divisions=64,color1=4473924,color2=8947848,opacity=.5){const _color1=new Color.I(color1),_color2=new Color.I(color2);let _color=_color1;const vertices=[],colors=[];if(sectors>1)for(let i=0;i<sectors;i++){const v=i/sectors*(2*Math.PI),x=Math.sin(v)*radius,z=Math.cos(v)*radius;vertices.push(0,0,0),vertices.push(x,0,z),_color=1&i?_color1:_color2,colors.push(_color.r,_color.g,_color.b),colors.push(_color.r,_color.g,_color.b)}for(let i=0;i<rings;i++){_color=1&i?_color1:_color2;const r=radius-radius/rings*i;for(let j=0;j<divisions;j++){let v=j/divisions*(2*Math.PI),x=Math.sin(v)*r,z=Math.cos(v)*r;vertices.push(x,0,z),colors.push(_color.r,_color.g,_color.b),v=(j+1)/divisions*(2*Math.PI),x=Math.sin(v)*r,z=Math.cos(v)*r,vertices.push(x,0,z),colors.push(_color.r,_color.g,_color.b)}}const geometry=new BufferGeometry.u;geometry.setAttribute("position",new BufferAttribute.a$(vertices,3)),geometry.setAttribute("color",new BufferAttribute.a$(colors,3)),super(geometry,new LineBasicMaterial.n({vertexColors:!0,transparent:!0,opacity})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}__name(PolarGridHelper,"PolarGridHelper");var troika_three_text_esm=__webpack_require__(1870);class SectorPolarGridMesh extends Group.Z{constructor(camera,radius=700,sectors=8,segments=16,divisions=128,opacity=.4){super(),this.camera=camera,this._textLabels=[],this._textMaterial=new MeshBasicMaterial.v({side:constants.ehD,depthTest:!0,depthWrite:!1,transparent:!0,opacity:.75,color:7191013}),this._polarGrid=new PolarGridHelper(radius,sectors,segments,divisions,680338,1004400,opacity);for(let index=0;index<segments;index++){const sectorTextPX=new troika_three_text_esm.xv,sectorTextNX=new troika_three_text_esm.xv,sectorTextPZ=new troika_three_text_esm.xv,sectorTextNZ=new troika_three_text_esm.xv;sectorTextPX.fontSize=5,sectorTextNX.fontSize=5,sectorTextPZ.fontSize=5,sectorTextNZ.fontSize=5,sectorTextPX.material=this._textMaterial,sectorTextNX.material=this._textMaterial,sectorTextPZ.material=this._textMaterial,sectorTextNZ.material=this._textMaterial,sectorTextPX.material.opacity=.75-index/30,sectorTextNX.material.opacity=.75-index/30,sectorTextPZ.material.opacity=.75-index/30,sectorTextNZ.material.opacity=.75-index/30,sectorTextPX.text=""+5*(index+1),sectorTextNX.text=""+5*(index+1),sectorTextPZ.text=""+5*(index+1),sectorTextNZ.text=""+5*(index+1),sectorTextPX.position.x=43.8*(index+1)-3,sectorTextPX.position.z=0,sectorTextNX.position.x=-43.8*(index+1)-3,sectorTextNX.position.z=0,sectorTextPZ.position.x=0,sectorTextPZ.position.z=43.8*(index+1)-3,sectorTextNZ.position.x=0,sectorTextNZ.position.z=-43.8*(index+1)-3,sectorTextPX.position.y=7,sectorTextNX.position.y=7,sectorTextPZ.position.y=7,sectorTextNZ.position.y=7,sectorTextPX.sync(),sectorTextNX.sync(),sectorTextPZ.sync(),sectorTextNZ.sync(),this._textLabels.push(sectorTextPX,sectorTextNX,sectorTextPZ,sectorTextNZ)}this.add(...this._textLabels),this.add(this._polarGrid)}update(delta){return this._textLabels.forEach(text=>{text.lookAt(this.camera.position)}),this}dispose(){this._polarGrid?.dispose?.()}}__name(SectorPolarGridMesh,"SectorPolarGridMesh");let SectorScene=(()=>{class SectorScene2 extends GameScene{constructor(sceneManager,textureManager,log,eventManager,dataManager){super(),this.sceneManager=sceneManager,this.textureManager=textureManager,this.log=log,this.eventManager=eventManager,this.dataManager=dataManager,this._initialized=!1,this.BrightnessContrastShader={uniforms:{tDiffuse:null,uContrast:{value:.05},uBrightness:{value:.01}},vertexShader:brightness_contrast_default(),fragmentShader:shaders_brightness_contrast_default()},this.HueSaturationShader={uniforms:{tDiffuse:null,uHue:{value:0},uSaturation:{value:.35}},vertexShader:hue_saturation_default(),fragmentShader:shaders_hue_saturation_default()},this._systemCallouts=[],this._enabled=!1,this.name="Sector Scene"}get composer(){return this._composer}dispose(){this.log.warn("onDispose",this),this.deactivate(),this.removeMeshes(),this.removeEvents(),this._polarGrid?.dispose?.(),this._sectorStars?.dispose?.(),this._sectorStarsBoundary?.dispose?.(),this._sectorStarsBoundingBox?.dispose?.(),this._sectorClaimedSystemsBoundary?.dispose?.(),this._sectorClaimedSystemsIndicator?.dispose?.(),this._initialized=!1}init(){return this.log.warn("onInit",this),this._initialized||(this.sceneManager.RendererWebGL.compile(this,this.sceneManager.Camera),this._composer=this.setupComposer(),this._polarGrid=new SectorPolarGridMesh(this.sceneManager.Camera),this.setupPostProcessing(),this.addEvents(),this.addBackground().addMeshes().addCallouts(),this._initialized=!0),this}activate(onlyIfInactive=!1){return onlyIfInactive&&this.sceneManager.GetActive()&&this.sceneManager.GetActive()?.name===this.name||(this.initRenderer(),this.initCamera(),this.initControls(),this.sceneManager.SetActiveByName(this.name),this.removeStars(),this.removeCallouts(),this.removeIntroCallouts(),this.removePlayerSystems(),this.createSectorMeshes(),this.sceneManager.IntroComplete||this.sceneManager.Controls.setPosition(14845,241,15683)),this}deactivate(){return this.hideCalloutSelectedStar(),this.removeCallouts(),this.removeIntroCallouts(),this.removeStars(),this.removePlayerSystems(),this}initRenderer(){return this.sceneManager.RendererWebGL.setSize(window.innerWidth,window.innerHeight),this.sceneManager.RendererWebGL.toneMappingExposure=.8,this}initCamera(){return this.sceneManager.Camera.near=5,this.sceneManager.Camera.far=5e6,this.sceneManager.Camera.updateProjectionMatrix(),this}initControls(){return this.sceneManager.Controls.enabled=!0,this.sceneManager.Controls.maxPolarAngle=(0,MathUtils.Id)(85),this.sceneManager.Controls.minPolarAngle=(0,MathUtils.Id)(5),this.sceneManager.Controls.minDistance=20,this.sceneManager.Controls.maxDistance=3e3,this.sceneManager.Controls.distance=1e3,this.sceneManager.Controls.dollySpeed=.5,this.sceneManager.Controls.dampingFactor=.1,this.sceneManager.Controls.setBoundary(new Box3.Z(new Vector3.P(-5e4,-5e3,-5e4),new Vector3.P(5e4,5e3,5e4))),this.sceneManager.Controls.setLookAt(this.dataManager.velorum.SelectedSector.center.z-500,this.dataManager.velorum.SelectedSector.center.y+150,this.dataManager.velorum.SelectedSector.center.x-750,this.dataManager.velorum.SelectedSector.center.z,this.dataManager.velorum.SelectedSector.center.y,this.dataManager.velorum.SelectedSector.center.x,!1),this}addEvents(){this._eventSub1=this.eventManager.on(OnSolarSystemSelectedEvent,system=>this.onSolarSystemSelected(system),this),this._eventSub2=this.eventManager.on(OnSolarSystemDeselectedEvent,()=>this.onSolarSystemDeselected(),this),this._eventSub3=this.eventManager.on(OnMintedAvailableSolarSystemsLoadedEvent,systems=>this.onSectorMintedAvailableSystemsLoaded(systems),this),this._eventSub4=this.eventManager.on(OnPlayerClaimedSolarSystemsLoadedEvent,systems=>this.onPlayerClaimedSolarSystemsLoaded(systems),this),this.addIntroEvents()}removeEvents(){this.eventManager.off(OnSolarSystemSelectedEvent,this._eventSub1),this.eventManager.off(OnSolarSystemDeselectedEvent,this._eventSub2),this.eventManager.off(OnMintedAvailableSolarSystemsLoadedEvent,this._eventSub3),this.eventManager.off(OnPlayerClaimedSolarSystemsLoadedEvent,this._eventSub4),this.removeIntroEvents()}addIntroEvents(){this._introSub1=this.eventManager.on(OnIntroCompleteEvent,()=>this.onIntroComplete(),this),this._introSub2=this.eventManager.on(OnIntroShowSystemReticleEvent,()=>this.onIntroShowSystemReticle(),this),this._introSub3=this.eventManager.on(OnIntroSystemReticleClickEvent,()=>this.onIntroSystemReticleClick(),this),this._introSub4=this.eventManager.on(OnIntroBackToGalaxyViewEvent,()=>this.onIntroGoBackToGalaxyView(),this)}removeIntroEvents(){this.eventManager.off(OnIntroCompleteEvent,this._introSub1),this.eventManager.off(OnIntroShowSystemReticleEvent,this._introSub2),this.eventManager.off(OnIntroSystemReticleClickEvent,this._introSub3),this.eventManager.off(OnIntroBackToGalaxyViewEvent,this._introSub4)}onIntroComplete(){this._enabled=!0}addBackground(){return this.background=this.textureManager.galaxySkybox,this}removeMeshes(){return this.remove(this._polarGrid),this}addMeshes(){return this.add(this._polarGrid),this}addCallouts(){return this._hoverSystemCallout=SectorHoverSystemCalloutMesh.SetupCallout(void 0),this._selectedStarCallout=SectorSelectedSystemCalloutMesh.SetupCallout(void 0),this._hoverSystemCallout.setPosition(new Vector3.P(0,1e6,0)),this._selectedStarCallout.setPosition(new Vector3.P(0,1e6,0)),this.add(this._hoverSystemCallout,this._selectedStarCallout),this}addIntroCallout(){const grummieSystem=this.dataManager.velorum.solarSystems.find(s=>108459===s.id);return this._introSystemCallout=SectorIntroSystemCalloutMesh.SetupCallout(grummieSystem),this._introSystemCallout.element.onclick=()=>{this.eventManager.emit(OnIntroSystemReticleClickEvent,void 0,this)},this.add(this._introSystemCallout),this}addSystemsCallouts(){return this._systemCallouts=this.setupSystemCallouts(),this.add(...this._systemCallouts),this}removeStars(){return this.remove(this._sectorStars,this._sectorStarsBoundary,this._sectorStarsBoundingBox),this}removePlayerSystems(){const boundaries=this.children.filter(c=>c.name===SectorClaimedStarsBoundaryMesh.name),indicators=this.children.filter(c=>c.name===SectorClaimedStarsIndicatorMesh.name);return boundaries.length>0&&this.remove(...boundaries),indicators.length>0&&this.remove(...indicators),this}removeCallouts(){this._hoverSystemCallout.remove(),this._hoverSystemCallout.element.parentNode?.removeChild(this._hoverSystemCallout.element),this._selectedStarCallout.remove(),this._selectedStarCallout.element.parentNode?.removeChild(this._selectedStarCallout.element);const systemCallouts=this.children.filter(c=>"SectorSystemCalloutMesh"===c.name);return this.remove(...systemCallouts),this._systemCallouts=[],this}removeIntroCallouts(){return this._introSystemCallout&&(this._introSystemCallout.remove(),this._introSystemCallout.element.parentNode?.removeChild(this._introSystemCallout.element),this.remove(this._introSystemCallout)),this}createSectorMeshes(){return this._sectorStars=new SectorStarMesh(this.dataManager.velorum.SelectedSector),this._sectorStarsBoundary=new SectorStarsBoundaryMesh(this.dataManager.velorum.SelectedSector),this._sectorStarsBoundingBox=new SectorStarsBoundingBoxMesh(this.dataManager.velorum.SelectedSector),this._sectorStars.camera=this.sceneManager.Camera,this.add(this._sectorStars,this._sectorStarsBoundary,this._sectorStarsBoundingBox),this.addSystemsCallouts(),this._polarGrid.position.set(this.dataManager.velorum.SelectedSector.center.z,this.dataManager.velorum.SelectedSector.center.y,this.dataManager.velorum.SelectedSector.center.x),this}update(delta){return this._sectorStars.update(delta),this._sectorStarsBoundary.update(delta),this._sectorStarsBoundingBox.update(delta),this._sectorClaimedSystemsBoundary?.update?.(delta),this._sectorClaimedSystemsIndicator?.update?.(delta),this._polarGrid?.update?.(delta),this._composer.render(delta),this.sceneManager.RendererCSS2D.render(this,this.sceneManager.Camera),this}handleRaycast(raycaster){let systemsHit=null,systemsHitcount=0;if(systemsHit=raycaster.intersectObject(this._sectorStarsBoundingBox),systemsHitcount=systemsHit.length,systemsHitcount>0){const system=this.dataManager.velorum.SelectedSector.solarSystems[systemsHit[0].instanceId];if(!this.sceneManager.IntroComplete&&108459===system.id)return this;this.onSystemMouseOver(system)}else this.onSystemMouseOut();return this}onClick(raycaster){let systemsHit=null,systemsHitcount=0;this._enabled&&(systemsHit=raycaster.intersectObject(this._sectorStarsBoundingBox),systemsHitcount=systemsHit.length,systemsHitcount>0)&&this.eventManager.emit(OnClickSolarSystemEvent,this.dataManager.velorum.SelectedSector.solarSystems[systemsHit[0].instanceId],this)}onIntroShowSystemReticle(){this.addIntroCallout()}onIntroSystemReticleClick(){this.removeIntroCallouts();const grummieSystem=this.dataManager.velorum.solarSystems.find(s=>108459===s.id);this.eventManager.emit(OnClickSolarSystemEvent,grummieSystem,this)}onIntroGoBackToGalaxyView(){this.eventManager.emit(OnSolarSystemDeselectedEvent,void 0,this),this.eventManager.emit(OnGoBackToGalaxyEvent,void 0,this)}onSolarSystemSelected(system){if(this.dataManager.velorum.SelectedSector.SelectedSystem){this.sceneManager.Controls.setTarget(system.coordinates.x,system.coordinates.y,system.coordinates.z,!0);const cameraPosition=new Vector3.P;this.sceneManager.Controls.getPosition(cameraPosition);const dollyAmount=system.coordinates.distanceTo(cameraPosition)-500;this.sceneManager.Controls.dolly(dollyAmount,!0),this.changeSelectedStarCalloutDetails(system),this.hideCalloutDetails()}}onSolarSystemDeselected(){this.dataManager.velorum.SelectedSector.SelectedSystem&&(this.sceneManager.Controls.dolly(-500,!0),this.hideCalloutSelectedStar())}onSystemMouseOver(system){(!this.dataManager.velorum.SelectedSector.SelectedSystem||this.dataManager.velorum.SelectedSector.SelectedSystem.id!==system.id)&&this.changeDetailsCalloutDetails(system)}onSystemMouseOut(){this.hideCalloutDetails()}onSectorMintedAvailableSystemsLoaded(event){if(0===event.length)return;const systems=this.dataManager.velorum.SelectedSector.solarSystems.filter(ss=>event.find(es=>es.id===ss.id));this._sectorClaimedSystemsBoundary=new SectorClaimedStarsBoundaryMesh(this.dataManager.velorum.SelectedSector,systems),this._sectorClaimedSystemsIndicator=new SectorClaimedStarsIndicatorMesh(this.dataManager.velorum.SelectedSector,systems),this._sectorClaimedSystemsIndicator.camera=this.sceneManager.Camera,this.removePlayerSystems(),this.add(this._sectorClaimedSystemsBoundary,this._sectorClaimedSystemsIndicator)}onPlayerClaimedSolarSystemsLoaded(event){if(0===event.length)return;const sectorSystems=event.filter(s=>s.sector===this.dataManager.velorum.SelectedSector.id),systems=this.dataManager.velorum.SelectedSector.solarSystems.filter(ss=>sectorSystems.some(s=>s.id===ss.id));this._sectorClaimedSystemsBoundary=new SectorClaimedStarsBoundaryMesh(this.dataManager.velorum.SelectedSector,systems),this._sectorClaimedSystemsIndicator=new SectorClaimedStarsIndicatorMesh(this.dataManager.velorum.SelectedSector,systems),this._sectorClaimedSystemsIndicator.camera=this.sceneManager.Camera,this.removePlayerSystems(),this.add(this._sectorClaimedSystemsBoundary,this._sectorClaimedSystemsIndicator)}setupPostProcessing(){const bloomEffect=new UnrealBloomPass.m(new Vector2.F(1024,1024),1.25,.75,0);this._composer.addPass(bloomEffect)}setupComposer(){const composer=new EffectComposer.x(this.sceneManager.RendererWebGL);return composer.addPass(new RenderPass.C(this,this.sceneManager.Camera)),composer.addPass(new ShaderPass.T(this.BrightnessContrastShader)),composer.addPass(new ShaderPass.T(this.HueSaturationShader)),composer}getRandomSystems(count){return[...this.dataManager.velorum.SelectedSector.solarSystems].sort(()=>.5-Math.random()).slice(0,count)}setupSystemCallouts(){let callouts=[];const percentage=1-StellarSize.NormalizeToRange(this.dataManager.velorum.SelectedSector.solarSystems.length,1,750,0,1),count=StellarSize.Clamp(this.dataManager.velorum.SelectedSector.solarSystems.length*percentage,0,45);let systems=this.getRandomSystems(this.dataManager.velorum.SelectedSector.solarSystems.length<45?this.dataManager.velorum.SelectedSector.solarSystems.length:count);return this.sceneManager.IntroComplete||(systems=systems.filter(s=>108459!==s.id)),callouts=systems.map(system=>SectorSystemCalloutMesh.SetupCallout(system)),callouts}changeDetailsCalloutDetails(system){this._hoverSystemCallout.element.querySelector(".name").innerHTML=system.name,this._hoverSystemCallout.position.set(system?.coordinates.x,system?.coordinates.y,system?.coordinates.z)}hideCalloutDetails(){this._hoverSystemCallout.element.querySelector(".name").innerHTML="",this._hoverSystemCallout.position.set(0,3e4,0)}changeSelectedStarCalloutDetails(system){this._selectedStarCallout.element.querySelector(".name").innerHTML=system.name,this._selectedStarCallout.position.set(system?.coordinates.x,system?.coordinates.y,system?.coordinates.z)}hideCalloutSelectedStar(){this._selectedStarCallout.element.querySelector(".name").innerHTML="",this._selectedStarCallout.position.set(0,3e4,0)}}return __name(SectorScene2,"SectorScene"),SectorScene2.\u0275fac=__name(function(t){return new(t||SectorScene2)(core.LFG(SceneManagerService),core.LFG(TextureManagerService),core.LFG(LogManagerService),core.LFG(EventManagerService),core.LFG(DataManagerService))},"SectorScene_Factory"),SectorScene2.\u0275prov=core.Yz7({token:SectorScene2,factory:SectorScene2.\u0275fac,providedIn:"root"}),SectorScene2})(),GameHeadlineComponent=(()=>{class GameHeadlineComponent2{get fadeout(){return this._fadeOut}get fadein(){return this._fadeIn}constructor(eventManager){this.eventManager=eventManager,this.name="GameHeadlineComponent",this._fadeOut=!1,this._fadeIn=!1}ngOnInit(){this._sub=this.eventManager.on(OnShowHeadlineEvent,({text,duration})=>{this._fadeIn=!0,this._fadeOut=!1,this.text=text,this._timeout=setTimeout(()=>{this._fadeOut=!0,this._fadeIn=!1},duration)},this)}ngOnDestroy(){this.clearTimeouts(),this.eventManager.off(OnShowHeadlineEvent,this._sub)}clearTimeouts(){this._timeout&&clearTimeout(this._timeout)}}return __name(GameHeadlineComponent2,"GameHeadlineComponent"),GameHeadlineComponent2.\u0275fac=__name(function(t){return new(t||GameHeadlineComponent2)(core.Y36(EventManagerService))},"GameHeadlineComponent_Factory"),GameHeadlineComponent2.\u0275cmp=core.Xpm({type:GameHeadlineComponent2,selectors:[["velorum-game-headline"]],hostVars:4,hostBindings:__name(function(rf,ctx){2&rf&&core.ekj("fade-out",ctx.fadeout)("fade-in",ctx.fadein)},"GameHeadlineComponent_HostBindings"),decls:5,vars:1,consts:[[1,"headline-border","top"],[1,"content"],[1,"headline-border","bottom"]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"div",0),core.TgZ(1,"div",1)(2,"span"),core._uU(3),core.qZA()(),core._UZ(4,"div",2)),2&rf&&(core.xp6(3),core.Oqu(ctx.text))},"GameHeadlineComponent_Template"),styles:["[_nghost-%COMP%]{position:absolute;pointer-events:none;width:650px;height:100px;top:85px;left:calc(50% - 325px);z-index:6;opacity:0;transition:1s opacity}.fade-in[_nghost-%COMP%]{opacity:1;transition:2s opacity}.fade-out[_nghost-%COMP%]{opacity:0;transition:1s opacity}[_nghost-%COMP%]   .headline-border[_ngcontent-%COMP%]{position:absolute;height:1px;width:100%;background:rgb(0,0,0);background:linear-gradient(90deg,rgba(0,0,0,0) 0%,rgba(133,208,245,.5) 20%,rgba(133,208,245,.5) 80%,rgba(0,0,0,0) 100%)}[_nghost-%COMP%]   .headline-border.top[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .headline-border.bottom[_ngcontent-%COMP%]{bottom:0}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:rgb(0,0,0);background:linear-gradient(90deg,rgba(0,0,0,0) 0%,rgba(0,0,0,.5) 20%,rgba(0,0,0,.5) 80%,rgba(0,0,0,0) 100%)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Rajdhani;font-size:4rem;font-weight:500;padding-top:7px;text-shadow:0 0 1px rgba(50,251,226,.8),0 0 2px rgba(50,251,226,.8),0 0 5px rgba(50,251,226,.8)}"]}),GameHeadlineComponent2})();const game_stats_component_c0=__name(function(a0){return{"fade-in":a0}},"game_stats_component_c0");let GameStatsComponent=(()=>{class GameStatsComponent2{constructor(dataManager,eventManager,changeDetector){this.dataManager=dataManager,this.eventManager=eventManager,this.changeDetector=changeDetector,this.name="GameStatsComponent",this.fadeIn$=new Subject.x,this.showSectors=!0,this.showSystems=!1,this._sectorsValue="",this._systemsValue="",this._sectorsTooltip="Sectors",this._systemsTooltip="Solar Systems"}ngOnInit(){this._subShow=this.eventManager.on(OnShowGalaxyStatsEvent,()=>{this._sectorsValue=this.dataManager.velorum.sectors.length.toLocaleString(),this._systemsValue=this.dataManager.velorum.solarSystems.length.toString(),this._sectorsTooltip="Sectors",this._systemsTooltip="Solar Systems",this.showSectors=!0,this.showSystems=!0,this.fadeIn$.next(!0),this.changeDetector.detectChanges()},this),this._subHide=this.eventManager.on(OnShowSectorStatsEvent,()=>{this._sectorsValue=this.dataManager.velorum.SelectedSector?.name,this._systemsValue=this.dataManager.velorum.SelectedSector?.solarSystems?.length.toLocaleString()||"0",this._sectorsTooltip="Current Sector",this._systemsTooltip="Solar Systems in this Sector",this.showSectors=!0,this.showSystems=!0,this.fadeIn$.next(!0),this.changeDetector.detectChanges()},this)}ngOnDestroy(){this.eventManager.off(OnShowSectorStatsEvent,this._subHide),this.eventManager.off(OnShowGalaxyStatsEvent,this._subShow)}get sectorsValue(){return this._sectorsValue}get systemsValue(){return this._systemsValue}get sectorsTooltip(){return this._sectorsTooltip}get systemsTooltip(){return this._systemsTooltip}}return __name(GameStatsComponent2,"GameStatsComponent"),GameStatsComponent2.\u0275fac=__name(function(t){return new(t||GameStatsComponent2)(core.Y36(DataManagerService),core.Y36(EventManagerService),core.Y36(core.sBO))},"GameStatsComponent_Factory"),GameStatsComponent2.\u0275cmp=core.Xpm({type:GameStatsComponent2,selectors:[["velorum-game-stats"]],decls:14,vars:9,consts:[[1,"grouper",3,"ngClass"],["placement","bottom",3,"content"],[1,"stat","second","mr-4"],[1,"label"],[1,"fa-solid","fa-circle"],[1,"value"],[1,"stat","third"],[1,"fa-regular","fa-circle"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"sl-tooltip",1)(3,"div",2)(4,"span",3),core._UZ(5,"i",4),core.qZA(),core.TgZ(6,"span",5),core._uU(7),core.qZA()()(),core.TgZ(8,"sl-tooltip",1)(9,"div",6)(10,"span",3),core._UZ(11,"i",7),core.qZA(),core.TgZ(12,"span",5),core._uU(13),core.qZA()()()()),2&rf&&(core.Q6J("ngClass",core.VKq(7,game_stats_component_c0,core.lcZ(1,5,ctx.fadeIn$))),core.xp6(2),core.s9C("content",ctx.sectorsTooltip),core.xp6(5),core.Oqu(ctx.sectorsValue),core.xp6(1),core.s9C("content",ctx.systemsTooltip),core.xp6(5),core.Oqu(ctx.systemsValue))},"GameStatsComponent_Template"),dependencies:[common.mk,common.Ov],styles:["[_nghost-%COMP%]{position:absolute;top:8px;left:calc(50% - 100px);z-index:6;width:200px}[_nghost-%COMP%]   .grouper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;opacity:0;transition:.5s opacity}[_nghost-%COMP%]   .grouper.fade-in[_ngcontent-%COMP%]{opacity:1;transition:1s opacity}[_nghost-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100px}[_nghost-%COMP%]   .stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:2px;font-weight:700;color:#bebebe}[_nghost-%COMP%]   .stat[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{font-weight:500;letter-spacing:2px;margin-left:10px;text-align:left;text-transform:uppercase;color:#fff}[_nghost-%COMP%]   .stat.first.value[_ngcontent-%COMP%]{color:#999;font-weight:300}"]}),GameStatsComponent2})(),GameLoadingComponent=(()=>{class GameLoadingComponent2{get fadeout(){return this._fadeOut}get fadein(){return this._fadeIn}constructor(eventManager){this.eventManager=eventManager,this.name="GameLoadingComponent",this._fadeIn=!1,this._fadeOut=!1}ngOnInit(){this._fadeIn=!0,this._sub=this.eventManager.on(OnScenesReadyEvent,()=>{this._fadeOut=!0,setTimeout(()=>{this.eventManager.emit(OnLoadingScreenFadedOutEvent,void 0,this)},500)},this)}ngOnDestroy(){this.eventManager.off(OnScenesReadyEvent,this._sub)}}return __name(GameLoadingComponent2,"GameLoadingComponent"),GameLoadingComponent2.\u0275fac=__name(function(t){return new(t||GameLoadingComponent2)(core.Y36(EventManagerService))},"GameLoadingComponent_Factory"),GameLoadingComponent2.\u0275cmp=core.Xpm({type:GameLoadingComponent2,selectors:[["velorum-game-loading"]],hostVars:4,hostBindings:__name(function(rf,ctx){2&rf&&core.ekj("fade-out",ctx.fadeout)("fade-in",ctx.fadein)},"GameLoadingComponent_HostBindings"),decls:9,vars:0,consts:[[1,"stars"],[1,"stars2"],[1,"stars3"],[1,"message"],[1,"headline"],[1,"status"]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"div",0)(1,"div",1)(2,"div",2),core.TgZ(3,"div",3)(4,"span",4),core._uU(5,"SINGULARITY"),core.qZA(),core._UZ(6,"br"),core.TgZ(7,"span",5),core._uU(8,"LOADING GALAXY"),core.qZA()())},"GameLoadingComponent_Template"),styles:['[_nghost-%COMP%]{position:absolute;pointer-events:none;width:100%;height:100%;top:0;left:0;z-index:6;opacity:0;transition:1s opacity;background-color:#000;background:radial-gradient(ellipse at bottom,#020c19 0%,#000000 100%)}.fade-in[_nghost-%COMP%]{opacity:1;transition:.25s opacity}.fade-out[_nghost-%COMP%]{opacity:0;transition:1s opacity}[_nghost-%COMP%]   .stars[_ngcontent-%COMP%]{width:1px;height:1px;background:transparent;box-shadow:1153px 588px #a1d3f1,1149px 889px #a1d3f1,1204px 898px #a1d3f1,654px 1739px #a1d3f1,863px 1735px #a1d3f1,736px 912px #a1d3f1,122px 661px #a1d3f1,1053px 1736px #a1d3f1,525px 1000px #a1d3f1,1953px 1217px #a1d3f1,1051px 709px #a1d3f1,1551px 281px #a1d3f1,1619px 1628px #a1d3f1,1722px 64px #a1d3f1,338px 722px #a1d3f1,438px 1585px #a1d3f1,381px 1353px #a1d3f1,1189px 300px #a1d3f1,573px 209px #a1d3f1,1257px 510px #a1d3f1,839px 906px #a1d3f1,1198px 1666px #a1d3f1,274px 801px #a1d3f1,606px 1385px #a1d3f1,1424px 1397px #a1d3f1,523px 1287px #a1d3f1,738px 1677px #a1d3f1,1978px 988px #a1d3f1,198px 1795px #a1d3f1,597px 780px #a1d3f1,1220px 767px #a1d3f1,1322px 873px #a1d3f1,936px 1789px #a1d3f1,704px 1919px #a1d3f1,176px 1543px #a1d3f1,368px 265px #a1d3f1,628px 903px #a1d3f1,1311px 1748px #a1d3f1,1983px 530px #a1d3f1,129px 530px #a1d3f1,674px 994px #a1d3f1,776px 1245px #a1d3f1,228px 639px #a1d3f1,1184px 1854px #a1d3f1,1195px 609px #a1d3f1,728px 220px #a1d3f1,1744px 743px #a1d3f1,1705px 1578px #a1d3f1,1881px 1810px #a1d3f1,1436px 703px #a1d3f1,1658px 363px #a1d3f1,884px 1355px #a1d3f1,880px 2px #a1d3f1,1586px 1947px #a1d3f1,211px 51px #a1d3f1,1265px 955px #a1d3f1,645px 1962px #a1d3f1,102px 407px #a1d3f1,817px 314px #a1d3f1,1891px 581px #a1d3f1,1985px 1023px #a1d3f1,1030px 1654px #a1d3f1,1829px 592px #a1d3f1,1936px 738px #a1d3f1,556px 621px #a1d3f1,1877px 295px #a1d3f1,1839px 578px #a1d3f1,1905px 270px #a1d3f1,1139px 1073px #a1d3f1,863px 1097px #a1d3f1,305px 429px #a1d3f1,320px 943px #a1d3f1,772px 1880px #a1d3f1,1461px 409px #a1d3f1,1141px 1573px #a1d3f1,1018px 308px #a1d3f1,35px 397px #a1d3f1,1750px 542px #a1d3f1,828px 38px #a1d3f1,934px 73px #a1d3f1,1184px 441px #a1d3f1,1035px 937px #a1d3f1,102px 3px #a1d3f1,445px 59px #a1d3f1,1928px 1874px #a1d3f1,572px 987px #a1d3f1,86px 1335px #a1d3f1,201px 1887px #a1d3f1,1979px 721px #a1d3f1,905px 1603px #a1d3f1,1228px 432px #a1d3f1,1670px 787px #a1d3f1,183px 1438px #a1d3f1,1496px 1794px #a1d3f1,985px 1888px #a1d3f1,179px 1718px #a1d3f1,404px 852px #a1d3f1,760px 1048px #a1d3f1,695px 1401px #a1d3f1,633px 921px #a1d3f1,162px 1901px #a1d3f1,1459px 963px #a1d3f1,695px 405px #a1d3f1,1001px 473px #a1d3f1,691px 1997px #a1d3f1,769px 1788px #a1d3f1,1845px 1801px #a1d3f1,164px 343px #a1d3f1,995px 846px #a1d3f1,412px 126px #a1d3f1,1232px 536px #a1d3f1,486px 1976px #a1d3f1,732px 1798px #a1d3f1,889px 1253px #a1d3f1,323px 1662px #a1d3f1,1729px 1828px #a1d3f1,582px 1539px #a1d3f1,142px 909px #a1d3f1,599px 952px #a1d3f1,1648px 797px #a1d3f1,1726px 566px #a1d3f1,141px 33px #a1d3f1,1893px 1555px #a1d3f1,1771px 1030px #a1d3f1,546px 250px #a1d3f1,1394px 592px #a1d3f1,1048px 125px #a1d3f1,703px 754px #a1d3f1,423px 1239px #a1d3f1,797px 730px #a1d3f1,989px 1669px #a1d3f1,743px 1320px #a1d3f1,1268px 1391px #a1d3f1,1116px 1745px #a1d3f1,1663px 107px #a1d3f1,1709px 1942px #a1d3f1,127px 1619px #a1d3f1,1902px 1606px #a1d3f1,1300px 184px #a1d3f1,1597px 1026px #a1d3f1,1333px 782px #a1d3f1,1747px 1388px #a1d3f1,272px 41px #a1d3f1,509px 1096px #a1d3f1,674px 627px #a1d3f1,8px 754px #a1d3f1,394px 641px #a1d3f1,1761px 664px #a1d3f1,1444px 236px #a1d3f1,1646px 1692px #a1d3f1,983px 1127px #a1d3f1,34px 1150px #a1d3f1,271px 351px #a1d3f1,691px 972px #a1d3f1,461px 1938px #a1d3f1,1934px 898px #a1d3f1,759px 1854px #a1d3f1,1181px 1026px #a1d3f1,528px 366px #a1d3f1,1321px 1344px #a1d3f1,126px 389px #a1d3f1,602px 678px #a1d3f1,1958px 1314px #a1d3f1,510px 228px #a1d3f1,808px 1341px #a1d3f1,891px 639px #a1d3f1,1694px 96px #a1d3f1,1892px 280px #a1d3f1,826px 547px #a1d3f1,535px 845px #a1d3f1,707px 1971px #a1d3f1,1327px 1835px #a1d3f1,184px 360px #a1d3f1,1640px 997px #a1d3f1,340px 1239px #a1d3f1,766px 983px #a1d3f1,776px 1322px #a1d3f1,258px 169px #a1d3f1,708px 1263px #a1d3f1,984px 107px #a1d3f1,1750px 1919px #a1d3f1,1026px 650px #a1d3f1,1931px 1117px #a1d3f1,1971px 1710px #a1d3f1,1867px 751px #a1d3f1,439px 569px #a1d3f1,237px 1242px #a1d3f1,270px 1450px #a1d3f1,45px 1216px #a1d3f1,177px 1908px #a1d3f1,1048px 1661px #a1d3f1,511px 219px #a1d3f1,486px 123px #a1d3f1,672px 250px #a1d3f1,130px 75px #a1d3f1,241px 599px #a1d3f1,1156px 1230px #a1d3f1,611px 140px #a1d3f1,657px 1453px #a1d3f1,1764px 290px #a1d3f1,1881px 809px #a1d3f1,1522px 588px #a1d3f1,195px 1187px #a1d3f1,148px 36px #a1d3f1,1256px 1421px #a1d3f1,448px 1384px #a1d3f1,1160px 892px #a1d3f1,1773px 677px #a1d3f1,1876px 1052px #a1d3f1,8px 660px #a1d3f1,1797px 151px #a1d3f1,1690px 1413px #a1d3f1,1774px 1411px #a1d3f1,964px 1112px #a1d3f1,144px 390px #a1d3f1,383px 692px #a1d3f1,503px 223px #a1d3f1,1239px 1350px #a1d3f1,1707px 1027px #a1d3f1,153px 695px #a1d3f1,1926px 1001px #a1d3f1,444px 1663px #a1d3f1,400px 1064px #a1d3f1,226px 1826px #a1d3f1,672px 72px #a1d3f1,367px 1924px #a1d3f1,1479px 1519px #a1d3f1,531px 949px #a1d3f1,908px 1316px #a1d3f1,1810px 943px #a1d3f1,294px 657px #a1d3f1,304px 513px #a1d3f1,798px 1818px #a1d3f1,962px 2000px #a1d3f1,304px 1907px #a1d3f1,1520px 1607px #a1d3f1,1022px 1958px #a1d3f1,1090px 726px #a1d3f1,1840px 340px #a1d3f1,1490px 863px #a1d3f1,1852px 1374px #a1d3f1,185px 1268px #a1d3f1,1182px 1220px #a1d3f1,409px 1886px #a1d3f1,1969px 167px #a1d3f1,1228px 1968px #a1d3f1,1018px 1619px #a1d3f1,377px 1679px #a1d3f1,1821px 492px #a1d3f1,139px 65px #a1d3f1,626px 1938px #a1d3f1,826px 1120px #a1d3f1,839px 713px #a1d3f1,1543px 844px #a1d3f1,1027px 1325px #a1d3f1,108px 1122px #a1d3f1,646px 1853px #a1d3f1,336px 1436px #a1d3f1,1121px 891px #a1d3f1,1435px 1146px #a1d3f1,108px 1687px #a1d3f1,725px 1195px #a1d3f1,698px 1550px #a1d3f1,1459px 1972px #a1d3f1,169px 1316px #a1d3f1,406px 893px #a1d3f1,1143px 185px #a1d3f1,1728px 1569px #a1d3f1,917px 1409px #a1d3f1,964px 1287px #a1d3f1,1780px 1677px #a1d3f1,378px 1649px #a1d3f1,1062px 1281px #a1d3f1,913px 1336px #a1d3f1,1306px 1834px #a1d3f1,1357px 284px #a1d3f1,832px 69px #a1d3f1,1799px 1201px #a1d3f1,663px 686px #a1d3f1,627px 1773px #a1d3f1,1339px 860px #a1d3f1,498px 1521px #a1d3f1,748px 719px #a1d3f1,959px 1375px #a1d3f1,1998px 1553px #a1d3f1,760px 1708px #a1d3f1,1332px 301px #a1d3f1,867px 1531px #a1d3f1,945px 1757px #a1d3f1,1375px 1705px #a1d3f1,561px 529px #a1d3f1,1758px 1639px #a1d3f1,1481px 1212px #a1d3f1,1581px 1328px #a1d3f1,256px 95px #a1d3f1,159px 920px #a1d3f1,1225px 470px #a1d3f1,720px 1672px #a1d3f1,1353px 903px #a1d3f1,1006px 1112px #a1d3f1,759px 1298px #a1d3f1,636px 508px #a1d3f1,648px 397px #a1d3f1,134px 1505px #a1d3f1,1634px 455px #a1d3f1,708px 862px #a1d3f1,1916px 1155px #a1d3f1,1403px 1212px #a1d3f1,1959px 1619px #a1d3f1,1650px 415px #a1d3f1,264px 6px #a1d3f1,1619px 433px #a1d3f1,1968px 1500px #a1d3f1,671px 510px #a1d3f1,1623px 319px #a1d3f1,1723px 1092px #a1d3f1,253px 970px #a1d3f1,700px 148px #a1d3f1,1607px 81px #a1d3f1,1003px 1250px #a1d3f1,1959px 1126px #a1d3f1,611px 1292px #a1d3f1,1762px 864px #a1d3f1,927px 1055px #a1d3f1,1776px 1491px #a1d3f1,63px 1732px #a1d3f1,1998px 166px #a1d3f1,1850px 677px #a1d3f1,548px 856px #a1d3f1,86px 1083px #a1d3f1,1937px 1350px #a1d3f1,317px 44px #a1d3f1,862px 1863px #a1d3f1,1183px 1695px #a1d3f1,1292px 1009px #a1d3f1,403px 1609px #a1d3f1,414px 601px #a1d3f1,659px 1580px #a1d3f1,163px 410px #a1d3f1,1990px 267px #a1d3f1,250px 1381px #a1d3f1,492px 591px #a1d3f1,1854px 211px #a1d3f1,1656px 1155px #a1d3f1,802px 1844px #a1d3f1,30px 837px #a1d3f1,1319px 265px #a1d3f1,1126px 497px #a1d3f1,1087px 433px #a1d3f1,381px 1510px #a1d3f1,26px 1715px #a1d3f1,1532px 1817px #a1d3f1,253px 100px #a1d3f1,310px 789px #a1d3f1,731px 132px #a1d3f1,1221px 129px #a1d3f1,149px 563px #a1d3f1,547px 1548px #a1d3f1,1904px 922px #a1d3f1,1936px 1661px #a1d3f1,1006px 1207px #a1d3f1,345px 627px #a1d3f1,258px 1787px #a1d3f1,881px 791px #a1d3f1,1819px 911px #a1d3f1,634px 1042px #a1d3f1,1726px 254px #a1d3f1,1130px 1224px #a1d3f1,735px 481px #a1d3f1,894px 300px #a1d3f1,295px 1131px #a1d3f1,232px 1720px #a1d3f1,377px 183px #a1d3f1,1456px 1850px #a1d3f1,1914px 1368px #a1d3f1,542px 1225px #a1d3f1,150px 373px #a1d3f1,1030px 1006px #a1d3f1,149px 1819px #a1d3f1,1881px 1933px #a1d3f1,1147px 848px #a1d3f1,321px 131px #a1d3f1,995px 1272px #a1d3f1,1858px 1581px #a1d3f1,204px 1795px #a1d3f1,112px 1729px #a1d3f1,121px 1111px #a1d3f1,800px 1989px #a1d3f1,1898px 1078px #a1d3f1,1153px 350px #a1d3f1,1046px 710px #a1d3f1,1463px 412px #a1d3f1,111px 1739px #a1d3f1,1026px 281px #a1d3f1,1336px 1944px #a1d3f1,648px 854px #a1d3f1,1454px 1085px #a1d3f1,727px 85px #a1d3f1,50px 1778px #a1d3f1,1437px 1757px #a1d3f1,1346px 928px #a1d3f1,1880px 2px #a1d3f1,755px 38px #a1d3f1,1859px 1999px #a1d3f1,1352px 1759px #a1d3f1,122px 488px #a1d3f1,351px 77px #a1d3f1,539px 349px #a1d3f1,1463px 1024px #a1d3f1,1615px 6px #a1d3f1,810px 23px #a1d3f1,355px 1035px #a1d3f1,1810px 1680px #a1d3f1,134px 628px #a1d3f1,1298px 1507px #a1d3f1,1172px 675px #a1d3f1,1338px 320px #a1d3f1,1701px 1364px #a1d3f1,950px 820px #a1d3f1,1587px 1159px #a1d3f1,1535px 1354px #a1d3f1,1662px 1167px #a1d3f1,1414px 782px #a1d3f1,1788px 1370px #a1d3f1,772px 891px #a1d3f1,559px 491px #a1d3f1,1898px 498px #a1d3f1,92px 1633px #a1d3f1,1439px 1384px #a1d3f1,1178px 1610px #a1d3f1,1080px 1689px #a1d3f1,1153px 1632px #a1d3f1,274px 210px #a1d3f1,490px 1675px #a1d3f1,189px 821px #a1d3f1,1729px 1275px #a1d3f1,1457px 426px #a1d3f1,892px 1655px #a1d3f1,581px 1068px #a1d3f1,868px 558px #a1d3f1,1881px 655px #a1d3f1,1238px 792px #a1d3f1,293px 1230px #a1d3f1,1059px 879px #a1d3f1,1779px 1354px #a1d3f1,531px 1278px #a1d3f1,948px 1174px #a1d3f1,233px 548px #a1d3f1,1961px 1323px #a1d3f1,1548px 561px #a1d3f1,1564px 34px #a1d3f1,125px 979px #a1d3f1,1291px 525px #a1d3f1,417px 1295px #a1d3f1,793px 1199px #a1d3f1,1410px 653px #a1d3f1,7px 1350px #a1d3f1,895px 409px #a1d3f1,1172px 770px #a1d3f1,218px 96px #a1d3f1,1536px 456px #a1d3f1,1604px 1983px #a1d3f1,1584px 1780px #a1d3f1,471px 534px #a1d3f1,1017px 1302px #a1d3f1,1504px 693px #a1d3f1,800px 1655px #a1d3f1,342px 1566px #a1d3f1,312px 241px #a1d3f1,1411px 1772px #a1d3f1,829px 1478px #a1d3f1,1147px 214px #a1d3f1,1830px 35px #a1d3f1,1226px 381px #a1d3f1,1908px 876px #a1d3f1,333px 1190px #a1d3f1,1710px 1507px #a1d3f1,66px 408px #a1d3f1,1813px 143px #a1d3f1,1655px 1778px #a1d3f1,801px 154px #a1d3f1,287px 1418px #a1d3f1,1031px 428px #a1d3f1,1020px 939px #a1d3f1,563px 1125px #a1d3f1,1430px 25px #a1d3f1,580px 1219px #a1d3f1,1629px 1427px #a1d3f1,1413px 1845px #a1d3f1,1652px 249px #a1d3f1,1249px 1875px #a1d3f1,1984px 1844px #a1d3f1,298px 1212px #a1d3f1,1557px 56px #a1d3f1,996px 1127px #a1d3f1,386px 871px #a1d3f1,1703px 1086px #a1d3f1,187px 1903px #a1d3f1,1417px 1174px #a1d3f1,1991px 214px #a1d3f1,80px 563px #a1d3f1,254px 1230px #a1d3f1,1344px 1606px #a1d3f1,695px 1792px #a1d3f1,1521px 581px #a1d3f1,382px 240px #a1d3f1,560px 1144px #a1d3f1,632px 1053px #a1d3f1,1653px 247px #a1d3f1,119px 1812px #a1d3f1,1650px 863px #a1d3f1,1275px 1890px #a1d3f1,686px 1136px #a1d3f1,1735px 878px #a1d3f1,340px 1949px #a1d3f1,1968px 279px #a1d3f1,1907px 973px #a1d3f1,695px 1595px #a1d3f1,475px 1298px #a1d3f1,330px 561px #a1d3f1,1132px 1548px #a1d3f1,1815px 1633px #a1d3f1,1533px 282px #a1d3f1,584px 1280px #a1d3f1,292px 152px #a1d3f1,1373px 1058px #a1d3f1,1047px 1279px #a1d3f1,445px 82px #a1d3f1,171px 812px #a1d3f1,245px 1507px #a1d3f1,1694px 2000px #a1d3f1,501px 50px #a1d3f1,1414px 878px #a1d3f1,182px 839px #a1d3f1,685px 414px #a1d3f1,885px 275px #a1d3f1,1893px 113px #a1d3f1,220px 565px #a1d3f1,924px 433px #a1d3f1,1001px 1014px #a1d3f1,420px 1172px #a1d3f1,1283px 1080px #a1d3f1,138px 1113px #a1d3f1,1807px 189px #a1d3f1,1153px 344px #a1d3f1,499px 931px #a1d3f1,1363px 1710px #a1d3f1,1012px 931px #a1d3f1,217px 878px #a1d3f1,1753px 1028px #a1d3f1,1670px 1845px #a1d3f1,959px 488px #a1d3f1,1058px 840px #a1d3f1,557px 1807px #a1d3f1,218px 452px #a1d3f1,1881px 575px #a1d3f1,335px 1656px #a1d3f1,1964px 1070px #a1d3f1,1691px 298px #a1d3f1,1300px 216px #a1d3f1,68px 1247px #a1d3f1,1322px 197px #a1d3f1,844px 1455px #a1d3f1,1133px 1699px #a1d3f1,368px 713px #a1d3f1,824px 1924px #a1d3f1,298px 526px #a1d3f1,904px 126px #a1d3f1,978px 1446px #a1d3f1,774px 398px #a1d3f1,1474px 303px #a1d3f1,1707px 1850px #a1d3f1,150px 1940px #a1d3f1,955px 425px #a1d3f1,1837px 1855px #a1d3f1,468px 1336px #a1d3f1,254px 1768px #a1d3f1,510px 1407px #a1d3f1,1412px 344px #a1d3f1,128px 176px #a1d3f1,117px 260px #a1d3f1,663px 1548px #a1d3f1,1012px 213px #a1d3f1,1406px 95px #a1d3f1,722px 1998px #a1d3f1,1927px 1826px #a1d3f1,1738px 1126px #a1d3f1,1078px 145px #a1d3f1,1718px 1579px #a1d3f1,1687px 1854px #a1d3f1,1415px 1662px #a1d3f1,1601px 560px #a1d3f1,1417px 484px #a1d3f1,1418px 1255px #a1d3f1,1152px 402px #a1d3f1,760px 907px #a1d3f1,512px 1625px #a1d3f1,868px 35px #a1d3f1,240px 910px #a1d3f1,1677px 681px #a1d3f1,1705px 1298px #a1d3f1,1329px 682px #a1d3f1,106px 1878px #a1d3f1,511px 692px #a1d3f1,853px 394px #a1d3f1,1057px 163px #a1d3f1,1250px 211px #a1d3f1,1968px 1087px #a1d3f1,1529px 251px #a1d3f1,1698px 1239px #a1d3f1,7px 978px #a1d3f1,316px 1628px #a1d3f1,714px 1006px #a1d3f1,1169px 796px #a1d3f1,1542px 1853px #a1d3f1,1950px 1499px #a1d3f1,1623px 694px #a1d3f1,1330px 1936px #a1d3f1,873px 1231px #a1d3f1,1085px 1359px #a1d3f1,1259px 1786px #a1d3f1,1484px 826px #a1d3f1,1459px 1763px #a1d3f1,214px 341px #a1d3f1,3px 1310px #a1d3f1,1612px 1849px #a1d3f1,1121px 321px #a1d3f1,865px 685px #a1d3f1,1683px 829px #a1d3f1,960px 116px #a1d3f1,1207px 1800px #a1d3f1,465px 1738px #a1d3f1,1815px 417px #a1d3f1,169px 704px #a1d3f1,1013px 536px #a1d3f1,1613px 177px #a1d3f1,1045px 1413px #a1d3f1,1337px 581px #a1d3f1,1338px 1728px #a1d3f1,807px 985px #a1d3f1,1721px 1300px #a1d3f1,1917px 1320px #a1d3f1,205px 741px #a1d3f1,1066px 1507px #a1d3f1,1629px 434px #a1d3f1,401px 65px #a1d3f1,1476px 485px #a1d3f1,478px 875px #a1d3f1,362px 418px #a1d3f1,267px 1565px #a1d3f1,1025px 1871px #a1d3f1,1382px 392px #a1d3f1,1568px 145px #a1d3f1,1766px 1793px #a1d3f1,651px 1503px #a1d3f1,181px 506px #a1d3f1,379px 1272px #a1d3f1,1902px 116px #a1d3f1,1249px 1758px #a1d3f1,1110px 1711px #a1d3f1,302px 1482px #a1d3f1,1770px 333px #a1d3f1,1090px 307px #a1d3f1,401px 1245px #a1d3f1,794px 1248px #a1d3f1,1370px 1388px #a1d3f1,1013px 904px #a1d3f1,1567px 502px #a1d3f1,1405px 391px #a1d3f1,13px 277px #a1d3f1,1380px 1452px #a1d3f1,168px 310px #a1d3f1,1094px 1983px #a1d3f1,409px 389px #a1d3f1,260px 938px #a1d3f1,1826px 33px #a1d3f1,1680px 1350px #a1d3f1,969px 1960px #a1d3f1,1974px 1479px #a1d3f1,1636px 380px #a1d3f1,975px 604px #a1d3f1,479px 1571px #a1d3f1,1185px 1282px #a1d3f1,1157px 1436px #a1d3f1,795px 1323px #a1d3f1,497px 966px #a1d3f1,1211px 352px #a1d3f1,1688px 877px #a1d3f1,1558px 175px #a1d3f1,378px 607px #a1d3f1,1723px 1956px #a1d3f1,1948px 1177px #a1d3f1,569px 10px #a1d3f1,1489px 1527px #a1d3f1,1182px 1582px #a1d3f1,107px 1089px #a1d3f1,1105px 1466px #a1d3f1,618px 507px #a1d3f1,1049px 99px #a1d3f1,1008px 1625px #a1d3f1;animation:animStar 100s linear infinite}[_nghost-%COMP%]   .stars[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:2000px;width:1px;height:1px;background:transparent;box-shadow:1153px 588px #a1d3f1,1149px 889px #a1d3f1,1204px 898px #a1d3f1,654px 1739px #a1d3f1,863px 1735px #a1d3f1,736px 912px #a1d3f1,122px 661px #a1d3f1,1053px 1736px #a1d3f1,525px 1000px #a1d3f1,1953px 1217px #a1d3f1,1051px 709px #a1d3f1,1551px 281px #a1d3f1,1619px 1628px #a1d3f1,1722px 64px #a1d3f1,338px 722px #a1d3f1,438px 1585px #a1d3f1,381px 1353px #a1d3f1,1189px 300px #a1d3f1,573px 209px #a1d3f1,1257px 510px #a1d3f1,839px 906px #a1d3f1,1198px 1666px #a1d3f1,274px 801px #a1d3f1,606px 1385px #a1d3f1,1424px 1397px #a1d3f1,523px 1287px #a1d3f1,738px 1677px #a1d3f1,1978px 988px #a1d3f1,198px 1795px #a1d3f1,597px 780px #a1d3f1,1220px 767px #a1d3f1,1322px 873px #a1d3f1,936px 1789px #a1d3f1,704px 1919px #a1d3f1,176px 1543px #a1d3f1,368px 265px #a1d3f1,628px 903px #a1d3f1,1311px 1748px #a1d3f1,1983px 530px #a1d3f1,129px 530px #a1d3f1,674px 994px #a1d3f1,776px 1245px #a1d3f1,228px 639px #a1d3f1,1184px 1854px #a1d3f1,1195px 609px #a1d3f1,728px 220px #a1d3f1,1744px 743px #a1d3f1,1705px 1578px #a1d3f1,1881px 1810px #a1d3f1,1436px 703px #a1d3f1,1658px 363px #a1d3f1,884px 1355px #a1d3f1,880px 2px #a1d3f1,1586px 1947px #a1d3f1,211px 51px #a1d3f1,1265px 955px #a1d3f1,645px 1962px #a1d3f1,102px 407px #a1d3f1,817px 314px #a1d3f1,1891px 581px #a1d3f1,1985px 1023px #a1d3f1,1030px 1654px #a1d3f1,1829px 592px #a1d3f1,1936px 738px #a1d3f1,556px 621px #a1d3f1,1877px 295px #a1d3f1,1839px 578px #a1d3f1,1905px 270px #a1d3f1,1139px 1073px #a1d3f1,863px 1097px #a1d3f1,305px 429px #a1d3f1,320px 943px #a1d3f1,772px 1880px #a1d3f1,1461px 409px #a1d3f1,1141px 1573px #a1d3f1,1018px 308px #a1d3f1,35px 397px #a1d3f1,1750px 542px #a1d3f1,828px 38px #a1d3f1,934px 73px #a1d3f1,1184px 441px #a1d3f1,1035px 937px #a1d3f1,102px 3px #a1d3f1,445px 59px #a1d3f1,1928px 1874px #a1d3f1,572px 987px #a1d3f1,86px 1335px #a1d3f1,201px 1887px #a1d3f1,1979px 721px #a1d3f1,905px 1603px #a1d3f1,1228px 432px #a1d3f1,1670px 787px #a1d3f1,183px 1438px #a1d3f1,1496px 1794px #a1d3f1,985px 1888px #a1d3f1,179px 1718px #a1d3f1,404px 852px #a1d3f1,760px 1048px #a1d3f1,695px 1401px #a1d3f1,633px 921px #a1d3f1,162px 1901px #a1d3f1,1459px 963px #a1d3f1,695px 405px #a1d3f1,1001px 473px #a1d3f1,691px 1997px #a1d3f1,769px 1788px #a1d3f1,1845px 1801px #a1d3f1,164px 343px #a1d3f1,995px 846px #a1d3f1,412px 126px #a1d3f1,1232px 536px #a1d3f1,486px 1976px #a1d3f1,732px 1798px #a1d3f1,889px 1253px #a1d3f1,323px 1662px #a1d3f1,1729px 1828px #a1d3f1,582px 1539px #a1d3f1,142px 909px #a1d3f1,599px 952px #a1d3f1,1648px 797px #a1d3f1,1726px 566px #a1d3f1,141px 33px #a1d3f1,1893px 1555px #a1d3f1,1771px 1030px #a1d3f1,546px 250px #a1d3f1,1394px 592px #a1d3f1,1048px 125px #a1d3f1,703px 754px #a1d3f1,423px 1239px #a1d3f1,797px 730px #a1d3f1,989px 1669px #a1d3f1,743px 1320px #a1d3f1,1268px 1391px #a1d3f1,1116px 1745px #a1d3f1,1663px 107px #a1d3f1,1709px 1942px #a1d3f1,127px 1619px #a1d3f1,1902px 1606px #a1d3f1,1300px 184px #a1d3f1,1597px 1026px #a1d3f1,1333px 782px #a1d3f1,1747px 1388px #a1d3f1,272px 41px #a1d3f1,509px 1096px #a1d3f1,674px 627px #a1d3f1,8px 754px #a1d3f1,394px 641px #a1d3f1,1761px 664px #a1d3f1,1444px 236px #a1d3f1,1646px 1692px #a1d3f1,983px 1127px #a1d3f1,34px 1150px #a1d3f1,271px 351px #a1d3f1,691px 972px #a1d3f1,461px 1938px #a1d3f1,1934px 898px #a1d3f1,759px 1854px #a1d3f1,1181px 1026px #a1d3f1,528px 366px #a1d3f1,1321px 1344px #a1d3f1,126px 389px #a1d3f1,602px 678px #a1d3f1,1958px 1314px #a1d3f1,510px 228px #a1d3f1,808px 1341px #a1d3f1,891px 639px #a1d3f1,1694px 96px #a1d3f1,1892px 280px #a1d3f1,826px 547px #a1d3f1,535px 845px #a1d3f1,707px 1971px #a1d3f1,1327px 1835px #a1d3f1,184px 360px #a1d3f1,1640px 997px #a1d3f1,340px 1239px #a1d3f1,766px 983px #a1d3f1,776px 1322px #a1d3f1,258px 169px #a1d3f1,708px 1263px #a1d3f1,984px 107px #a1d3f1,1750px 1919px #a1d3f1,1026px 650px #a1d3f1,1931px 1117px #a1d3f1,1971px 1710px #a1d3f1,1867px 751px #a1d3f1,439px 569px #a1d3f1,237px 1242px #a1d3f1,270px 1450px #a1d3f1,45px 1216px #a1d3f1,177px 1908px #a1d3f1,1048px 1661px #a1d3f1,511px 219px #a1d3f1,486px 123px #a1d3f1,672px 250px #a1d3f1,130px 75px #a1d3f1,241px 599px #a1d3f1,1156px 1230px #a1d3f1,611px 140px #a1d3f1,657px 1453px #a1d3f1,1764px 290px #a1d3f1,1881px 809px #a1d3f1,1522px 588px #a1d3f1,195px 1187px #a1d3f1,148px 36px #a1d3f1,1256px 1421px #a1d3f1,448px 1384px #a1d3f1,1160px 892px #a1d3f1,1773px 677px #a1d3f1,1876px 1052px #a1d3f1,8px 660px #a1d3f1,1797px 151px #a1d3f1,1690px 1413px #a1d3f1,1774px 1411px #a1d3f1,964px 1112px #a1d3f1,144px 390px #a1d3f1,383px 692px #a1d3f1,503px 223px #a1d3f1,1239px 1350px #a1d3f1,1707px 1027px #a1d3f1,153px 695px #a1d3f1,1926px 1001px #a1d3f1,444px 1663px #a1d3f1,400px 1064px #a1d3f1,226px 1826px #a1d3f1,672px 72px #a1d3f1,367px 1924px #a1d3f1,1479px 1519px #a1d3f1,531px 949px #a1d3f1,908px 1316px #a1d3f1,1810px 943px #a1d3f1,294px 657px #a1d3f1,304px 513px #a1d3f1,798px 1818px #a1d3f1,962px 2000px #a1d3f1,304px 1907px #a1d3f1,1520px 1607px #a1d3f1,1022px 1958px #a1d3f1,1090px 726px #a1d3f1,1840px 340px #a1d3f1,1490px 863px #a1d3f1,1852px 1374px #a1d3f1,185px 1268px #a1d3f1,1182px 1220px #a1d3f1,409px 1886px #a1d3f1,1969px 167px #a1d3f1,1228px 1968px #a1d3f1,1018px 1619px #a1d3f1,377px 1679px #a1d3f1,1821px 492px #a1d3f1,139px 65px #a1d3f1,626px 1938px #a1d3f1,826px 1120px #a1d3f1,839px 713px #a1d3f1,1543px 844px #a1d3f1,1027px 1325px #a1d3f1,108px 1122px #a1d3f1,646px 1853px #a1d3f1,336px 1436px #a1d3f1,1121px 891px #a1d3f1,1435px 1146px #a1d3f1,108px 1687px #a1d3f1,725px 1195px #a1d3f1,698px 1550px #a1d3f1,1459px 1972px #a1d3f1,169px 1316px #a1d3f1,406px 893px #a1d3f1,1143px 185px #a1d3f1,1728px 1569px #a1d3f1,917px 1409px #a1d3f1,964px 1287px #a1d3f1,1780px 1677px #a1d3f1,378px 1649px #a1d3f1,1062px 1281px #a1d3f1,913px 1336px #a1d3f1,1306px 1834px #a1d3f1,1357px 284px #a1d3f1,832px 69px #a1d3f1,1799px 1201px #a1d3f1,663px 686px #a1d3f1,627px 1773px #a1d3f1,1339px 860px #a1d3f1,498px 1521px #a1d3f1,748px 719px #a1d3f1,959px 1375px #a1d3f1,1998px 1553px #a1d3f1,760px 1708px #a1d3f1,1332px 301px #a1d3f1,867px 1531px #a1d3f1,945px 1757px #a1d3f1,1375px 1705px #a1d3f1,561px 529px #a1d3f1,1758px 1639px #a1d3f1,1481px 1212px #a1d3f1,1581px 1328px #a1d3f1,256px 95px #a1d3f1,159px 920px #a1d3f1,1225px 470px #a1d3f1,720px 1672px #a1d3f1,1353px 903px #a1d3f1,1006px 1112px #a1d3f1,759px 1298px #a1d3f1,636px 508px #a1d3f1,648px 397px #a1d3f1,134px 1505px #a1d3f1,1634px 455px #a1d3f1,708px 862px #a1d3f1,1916px 1155px #a1d3f1,1403px 1212px #a1d3f1,1959px 1619px #a1d3f1,1650px 415px #a1d3f1,264px 6px #a1d3f1,1619px 433px #a1d3f1,1968px 1500px #a1d3f1,671px 510px #a1d3f1,1623px 319px #a1d3f1,1723px 1092px #a1d3f1,253px 970px #a1d3f1,700px 148px #a1d3f1,1607px 81px #a1d3f1,1003px 1250px #a1d3f1,1959px 1126px #a1d3f1,611px 1292px #a1d3f1,1762px 864px #a1d3f1,927px 1055px #a1d3f1,1776px 1491px #a1d3f1,63px 1732px #a1d3f1,1998px 166px #a1d3f1,1850px 677px #a1d3f1,548px 856px #a1d3f1,86px 1083px #a1d3f1,1937px 1350px #a1d3f1,317px 44px #a1d3f1,862px 1863px #a1d3f1,1183px 1695px #a1d3f1,1292px 1009px #a1d3f1,403px 1609px #a1d3f1,414px 601px #a1d3f1,659px 1580px #a1d3f1,163px 410px #a1d3f1,1990px 267px #a1d3f1,250px 1381px #a1d3f1,492px 591px #a1d3f1,1854px 211px #a1d3f1,1656px 1155px #a1d3f1,802px 1844px #a1d3f1,30px 837px #a1d3f1,1319px 265px #a1d3f1,1126px 497px #a1d3f1,1087px 433px #a1d3f1,381px 1510px #a1d3f1,26px 1715px #a1d3f1,1532px 1817px #a1d3f1,253px 100px #a1d3f1,310px 789px #a1d3f1,731px 132px #a1d3f1,1221px 129px #a1d3f1,149px 563px #a1d3f1,547px 1548px #a1d3f1,1904px 922px #a1d3f1,1936px 1661px #a1d3f1,1006px 1207px #a1d3f1,345px 627px #a1d3f1,258px 1787px #a1d3f1,881px 791px #a1d3f1,1819px 911px #a1d3f1,634px 1042px #a1d3f1,1726px 254px #a1d3f1,1130px 1224px #a1d3f1,735px 481px #a1d3f1,894px 300px #a1d3f1,295px 1131px #a1d3f1,232px 1720px #a1d3f1,377px 183px #a1d3f1,1456px 1850px #a1d3f1,1914px 1368px #a1d3f1,542px 1225px #a1d3f1,150px 373px #a1d3f1,1030px 1006px #a1d3f1,149px 1819px #a1d3f1,1881px 1933px #a1d3f1,1147px 848px #a1d3f1,321px 131px #a1d3f1,995px 1272px #a1d3f1,1858px 1581px #a1d3f1,204px 1795px #a1d3f1,112px 1729px #a1d3f1,121px 1111px #a1d3f1,800px 1989px #a1d3f1,1898px 1078px #a1d3f1,1153px 350px #a1d3f1,1046px 710px #a1d3f1,1463px 412px #a1d3f1,111px 1739px #a1d3f1,1026px 281px #a1d3f1,1336px 1944px #a1d3f1,648px 854px #a1d3f1,1454px 1085px #a1d3f1,727px 85px #a1d3f1,50px 1778px #a1d3f1,1437px 1757px #a1d3f1,1346px 928px #a1d3f1,1880px 2px #a1d3f1,755px 38px #a1d3f1,1859px 1999px #a1d3f1,1352px 1759px #a1d3f1,122px 488px #a1d3f1,351px 77px #a1d3f1,539px 349px #a1d3f1,1463px 1024px #a1d3f1,1615px 6px #a1d3f1,810px 23px #a1d3f1,355px 1035px #a1d3f1,1810px 1680px #a1d3f1,134px 628px #a1d3f1,1298px 1507px #a1d3f1,1172px 675px #a1d3f1,1338px 320px #a1d3f1,1701px 1364px #a1d3f1,950px 820px #a1d3f1,1587px 1159px #a1d3f1,1535px 1354px #a1d3f1,1662px 1167px #a1d3f1,1414px 782px #a1d3f1,1788px 1370px #a1d3f1,772px 891px #a1d3f1,559px 491px #a1d3f1,1898px 498px #a1d3f1,92px 1633px #a1d3f1,1439px 1384px #a1d3f1,1178px 1610px #a1d3f1,1080px 1689px #a1d3f1,1153px 1632px #a1d3f1,274px 210px #a1d3f1,490px 1675px #a1d3f1,189px 821px #a1d3f1,1729px 1275px #a1d3f1,1457px 426px #a1d3f1,892px 1655px #a1d3f1,581px 1068px #a1d3f1,868px 558px #a1d3f1,1881px 655px #a1d3f1,1238px 792px #a1d3f1,293px 1230px #a1d3f1,1059px 879px #a1d3f1,1779px 1354px #a1d3f1,531px 1278px #a1d3f1,948px 1174px #a1d3f1,233px 548px #a1d3f1,1961px 1323px #a1d3f1,1548px 561px #a1d3f1,1564px 34px #a1d3f1,125px 979px #a1d3f1,1291px 525px #a1d3f1,417px 1295px #a1d3f1,793px 1199px #a1d3f1,1410px 653px #a1d3f1,7px 1350px #a1d3f1,895px 409px #a1d3f1,1172px 770px #a1d3f1,218px 96px #a1d3f1,1536px 456px #a1d3f1,1604px 1983px #a1d3f1,1584px 1780px #a1d3f1,471px 534px #a1d3f1,1017px 1302px #a1d3f1,1504px 693px #a1d3f1,800px 1655px #a1d3f1,342px 1566px #a1d3f1,312px 241px #a1d3f1,1411px 1772px #a1d3f1,829px 1478px #a1d3f1,1147px 214px #a1d3f1,1830px 35px #a1d3f1,1226px 381px #a1d3f1,1908px 876px #a1d3f1,333px 1190px #a1d3f1,1710px 1507px #a1d3f1,66px 408px #a1d3f1,1813px 143px #a1d3f1,1655px 1778px #a1d3f1,801px 154px #a1d3f1,287px 1418px #a1d3f1,1031px 428px #a1d3f1,1020px 939px #a1d3f1,563px 1125px #a1d3f1,1430px 25px #a1d3f1,580px 1219px #a1d3f1,1629px 1427px #a1d3f1,1413px 1845px #a1d3f1,1652px 249px #a1d3f1,1249px 1875px #a1d3f1,1984px 1844px #a1d3f1,298px 1212px #a1d3f1,1557px 56px #a1d3f1,996px 1127px #a1d3f1,386px 871px #a1d3f1,1703px 1086px #a1d3f1,187px 1903px #a1d3f1,1417px 1174px #a1d3f1,1991px 214px #a1d3f1,80px 563px #a1d3f1,254px 1230px #a1d3f1,1344px 1606px #a1d3f1,695px 1792px #a1d3f1,1521px 581px #a1d3f1,382px 240px #a1d3f1,560px 1144px #a1d3f1,632px 1053px #a1d3f1,1653px 247px #a1d3f1,119px 1812px #a1d3f1,1650px 863px #a1d3f1,1275px 1890px #a1d3f1,686px 1136px #a1d3f1,1735px 878px #a1d3f1,340px 1949px #a1d3f1,1968px 279px #a1d3f1,1907px 973px #a1d3f1,695px 1595px #a1d3f1,475px 1298px #a1d3f1,330px 561px #a1d3f1,1132px 1548px #a1d3f1,1815px 1633px #a1d3f1,1533px 282px #a1d3f1,584px 1280px #a1d3f1,292px 152px #a1d3f1,1373px 1058px #a1d3f1,1047px 1279px #a1d3f1,445px 82px #a1d3f1,171px 812px #a1d3f1,245px 1507px #a1d3f1,1694px 2000px #a1d3f1,501px 50px #a1d3f1,1414px 878px #a1d3f1,182px 839px #a1d3f1,685px 414px #a1d3f1,885px 275px #a1d3f1,1893px 113px #a1d3f1,220px 565px #a1d3f1,924px 433px #a1d3f1,1001px 1014px #a1d3f1,420px 1172px #a1d3f1,1283px 1080px #a1d3f1,138px 1113px #a1d3f1,1807px 189px #a1d3f1,1153px 344px #a1d3f1,499px 931px #a1d3f1,1363px 1710px #a1d3f1,1012px 931px #a1d3f1,217px 878px #a1d3f1,1753px 1028px #a1d3f1,1670px 1845px #a1d3f1,959px 488px #a1d3f1,1058px 840px #a1d3f1,557px 1807px #a1d3f1,218px 452px #a1d3f1,1881px 575px #a1d3f1,335px 1656px #a1d3f1,1964px 1070px #a1d3f1,1691px 298px #a1d3f1,1300px 216px #a1d3f1,68px 1247px #a1d3f1,1322px 197px #a1d3f1,844px 1455px #a1d3f1,1133px 1699px #a1d3f1,368px 713px #a1d3f1,824px 1924px #a1d3f1,298px 526px #a1d3f1,904px 126px #a1d3f1,978px 1446px #a1d3f1,774px 398px #a1d3f1,1474px 303px #a1d3f1,1707px 1850px #a1d3f1,150px 1940px #a1d3f1,955px 425px #a1d3f1,1837px 1855px #a1d3f1,468px 1336px #a1d3f1,254px 1768px #a1d3f1,510px 1407px #a1d3f1,1412px 344px #a1d3f1,128px 176px #a1d3f1,117px 260px #a1d3f1,663px 1548px #a1d3f1,1012px 213px #a1d3f1,1406px 95px #a1d3f1,722px 1998px #a1d3f1,1927px 1826px #a1d3f1,1738px 1126px #a1d3f1,1078px 145px #a1d3f1,1718px 1579px #a1d3f1,1687px 1854px #a1d3f1,1415px 1662px #a1d3f1,1601px 560px #a1d3f1,1417px 484px #a1d3f1,1418px 1255px #a1d3f1,1152px 402px #a1d3f1,760px 907px #a1d3f1,512px 1625px #a1d3f1,868px 35px #a1d3f1,240px 910px #a1d3f1,1677px 681px #a1d3f1,1705px 1298px #a1d3f1,1329px 682px #a1d3f1,106px 1878px #a1d3f1,511px 692px #a1d3f1,853px 394px #a1d3f1,1057px 163px #a1d3f1,1250px 211px #a1d3f1,1968px 1087px #a1d3f1,1529px 251px #a1d3f1,1698px 1239px #a1d3f1,7px 978px #a1d3f1,316px 1628px #a1d3f1,714px 1006px #a1d3f1,1169px 796px #a1d3f1,1542px 1853px #a1d3f1,1950px 1499px #a1d3f1,1623px 694px #a1d3f1,1330px 1936px #a1d3f1,873px 1231px #a1d3f1,1085px 1359px #a1d3f1,1259px 1786px #a1d3f1,1484px 826px #a1d3f1,1459px 1763px #a1d3f1,214px 341px #a1d3f1,3px 1310px #a1d3f1,1612px 1849px #a1d3f1,1121px 321px #a1d3f1,865px 685px #a1d3f1,1683px 829px #a1d3f1,960px 116px #a1d3f1,1207px 1800px #a1d3f1,465px 1738px #a1d3f1,1815px 417px #a1d3f1,169px 704px #a1d3f1,1013px 536px #a1d3f1,1613px 177px #a1d3f1,1045px 1413px #a1d3f1,1337px 581px #a1d3f1,1338px 1728px #a1d3f1,807px 985px #a1d3f1,1721px 1300px #a1d3f1,1917px 1320px #a1d3f1,205px 741px #a1d3f1,1066px 1507px #a1d3f1,1629px 434px #a1d3f1,401px 65px #a1d3f1,1476px 485px #a1d3f1,478px 875px #a1d3f1,362px 418px #a1d3f1,267px 1565px #a1d3f1,1025px 1871px #a1d3f1,1382px 392px #a1d3f1,1568px 145px #a1d3f1,1766px 1793px #a1d3f1,651px 1503px #a1d3f1,181px 506px #a1d3f1,379px 1272px #a1d3f1,1902px 116px #a1d3f1,1249px 1758px #a1d3f1,1110px 1711px #a1d3f1,302px 1482px #a1d3f1,1770px 333px #a1d3f1,1090px 307px #a1d3f1,401px 1245px #a1d3f1,794px 1248px #a1d3f1,1370px 1388px #a1d3f1,1013px 904px #a1d3f1,1567px 502px #a1d3f1,1405px 391px #a1d3f1,13px 277px #a1d3f1,1380px 1452px #a1d3f1,168px 310px #a1d3f1,1094px 1983px #a1d3f1,409px 389px #a1d3f1,260px 938px #a1d3f1,1826px 33px #a1d3f1,1680px 1350px #a1d3f1,969px 1960px #a1d3f1,1974px 1479px #a1d3f1,1636px 380px #a1d3f1,975px 604px #a1d3f1,479px 1571px #a1d3f1,1185px 1282px #a1d3f1,1157px 1436px #a1d3f1,795px 1323px #a1d3f1,497px 966px #a1d3f1,1211px 352px #a1d3f1,1688px 877px #a1d3f1,1558px 175px #a1d3f1,378px 607px #a1d3f1,1723px 1956px #a1d3f1,1948px 1177px #a1d3f1,569px 10px #a1d3f1,1489px 1527px #a1d3f1,1182px 1582px #a1d3f1,107px 1089px #a1d3f1,1105px 1466px #a1d3f1,618px 507px #a1d3f1,1049px 99px #a1d3f1,1008px 1625px #a1d3f1}[_nghost-%COMP%]   .stars2[_ngcontent-%COMP%]{width:1.5px;height:1.5px;background:transparent;box-shadow:852px 307px #a1d3f2,166px 1313px #a1d3f2,213px 1497px #a1d3f2,1057px 1282px #a1d3f2,1454px 1266px #a1d3f2,490px 1757px #a1d3f2,1793px 478px #a1d3f2,1885px 958px #a1d3f2,187px 113px #a1d3f2,1120px 1766px #a1d3f2,578px 1273px #a1d3f2,253px 1823px #a1d3f2,753px 478px #a1d3f2,269px 76px #a1d3f2,1916px 1967px #a1d3f2,255px 1725px #a1d3f2,631px 1315px #a1d3f2,540px 1271px #a1d3f2,1715px 1487px #a1d3f2,1931px 826px #a1d3f2,1919px 958px #a1d3f2,34px 1796px #a1d3f2,789px 438px #a1d3f2,471px 723px #a1d3f2,1502px 618px #a1d3f2,1253px 513px #a1d3f2,1655px 1148px #a1d3f2,1390px 816px #a1d3f2,809px 1774px #a1d3f2,497px 782px #a1d3f2,920px 1739px #a1d3f2,514px 375px #a1d3f2,1598px 491px #a1d3f2,48px 1627px #a1d3f2,517px 131px #a1d3f2,271px 1638px #a1d3f2,703px 1384px #a1d3f2,809px 437px #a1d3f2,629px 309px #a1d3f2,1046px 1673px #a1d3f2,805px 293px #a1d3f2,1431px 1135px #a1d3f2,186px 1715px #a1d3f2,1782px 767px #a1d3f2,1833px 67px #a1d3f2,843px 206px #a1d3f2,975px 1188px #a1d3f2,1507px 1124px #a1d3f2,1502px 1251px #a1d3f2,78px 925px #a1d3f2,1392px 1176px #a1d3f2,597px 646px #a1d3f2,1191px 804px #a1d3f2,1151px 1640px #a1d3f2,1975px 895px #a1d3f2,1035px 1733px #a1d3f2,1644px 882px #a1d3f2,1415px 734px #a1d3f2,670px 277px #a1d3f2,1735px 410px #a1d3f2,1860px 117px #a1d3f2,178px 864px #a1d3f2,1176px 1349px #a1d3f2,1929px 630px #a1d3f2,772px 1754px #a1d3f2,1536px 402px #a1d3f2,527px 682px #a1d3f2,1549px 1392px #a1d3f2,583px 413px #a1d3f2,177px 789px #a1d3f2,562px 1246px #a1d3f2,1907px 1436px #a1d3f2,1469px 797px #a1d3f2,435px 1513px #a1d3f2,189px 1599px #a1d3f2,9px 1238px #a1d3f2,22px 1413px #a1d3f2,284px 381px #a1d3f2,1335px 1963px #a1d3f2,1726px 1255px #a1d3f2,621px 385px #a1d3f2,949px 1455px #a1d3f2,1189px 815px #a1d3f2,55px 941px #a1d3f2,1175px 124px #a1d3f2,1600px 1862px #a1d3f2,146px 969px #a1d3f2,571px 1723px #a1d3f2,711px 407px #a1d3f2,617px 1533px #a1d3f2,1778px 1459px #a1d3f2,1081px 189px #a1d3f2,684px 361px #a1d3f2,1863px 1351px #a1d3f2,1673px 1593px #a1d3f2,608px 1939px #a1d3f2,843px 1470px #a1d3f2,8px 1881px #a1d3f2,1193px 221px #a1d3f2,624px 1419px #a1d3f2,886px 1775px #a1d3f2,1642px 1847px #a1d3f2,999px 916px #a1d3f2,921px 1797px #a1d3f2,657px 1763px #a1d3f2,1928px 433px #a1d3f2,958px 1501px #a1d3f2,827px 518px #a1d3f2,1851px 1880px #a1d3f2,363px 1648px #a1d3f2,595px 1747px #a1d3f2,975px 1946px #a1d3f2,1993px 607px #a1d3f2,201px 1854px #a1d3f2,669px 517px #a1d3f2,1512px 641px #a1d3f2,587px 1221px #a1d3f2,511px 1066px #a1d3f2,1029px 1773px #a1d3f2,862px 509px #a1d3f2,1288px 40px #a1d3f2,501px 391px #a1d3f2,1595px 784px #a1d3f2,627px 399px #a1d3f2,498px 1112px #a1d3f2,749px 426px #a1d3f2,131px 754px #a1d3f2,1076px 1814px #a1d3f2,1938px 485px #a1d3f2,1962px 1147px #a1d3f2,1539px 176px #a1d3f2,289px 212px #a1d3f2,1991px 1446px #a1d3f2,776px 1101px #a1d3f2,1314px 468px #a1d3f2,496px 1488px #a1d3f2,1636px 587px #a1d3f2,533px 1525px #a1d3f2,559px 1264px #a1d3f2,1710px 903px #a1d3f2,1640px 199px #a1d3f2,1055px 1300px #a1d3f2,1545px 1820px #a1d3f2,1817px 1510px #a1d3f2,855px 282px #a1d3f2,756px 1245px #a1d3f2,887px 280px #a1d3f2,1163px 411px #a1d3f2,783px 1869px #a1d3f2,273px 513px #a1d3f2,1717px 1320px #a1d3f2,215px 723px #a1d3f2,481px 795px #a1d3f2,1249px 798px #a1d3f2,1177px 1908px #a1d3f2,1838px 508px #a1d3f2,1111px 286px #a1d3f2,1415px 1655px #a1d3f2,48px 1362px #a1d3f2,1824px 1752px #a1d3f2,1483px 1837px #a1d3f2,1249px 150px #a1d3f2,1025px 1318px #a1d3f2,447px 893px #a1d3f2,1862px 1878px #a1d3f2,1919px 773px #a1d3f2,1474px 951px #a1d3f2,1150px 1315px #a1d3f2,342px 1951px #a1d3f2,896px 768px #a1d3f2,1661px 1154px #a1d3f2,1210px 1935px #a1d3f2,245px 1041px #a1d3f2,1843px 643px #a1d3f2,1561px 218px #a1d3f2,344px 850px #a1d3f2,1333px 1565px #a1d3f2,1584px 460px #a1d3f2,322px 20px #a1d3f2,836px 1935px #a1d3f2,228px 809px #a1d3f2,1931px 125px #a1d3f2,529px 502px #a1d3f2,1020px 408px #a1d3f2,2px 376px #a1d3f2,26px 1596px #a1d3f2,304px 208px #a1d3f2,165px 219px #a1d3f2,556px 189px #a1d3f2,464px 1031px #a1d3f2,1892px 717px #a1d3f2,918px 1128px #a1d3f2,161px 1931px #a1d3f2,155px 1555px #a1d3f2,1422px 1814px #a1d3f2,706px 1713px #a1d3f2,873px 372px #a1d3f2,1239px 924px #a1d3f2,1973px 1288px #a1d3f2,507px 775px #a1d3f2;animation:animStar 125s linear infinite}[_nghost-%COMP%]   .stars2[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:2000px;width:2px;height:2px;background:transparent;box-shadow:852px 307px #a1d3f2,166px 1313px #a1d3f2,213px 1497px #a1d3f2,1057px 1282px #a1d3f2,1454px 1266px #a1d3f2,490px 1757px #a1d3f2,1793px 478px #a1d3f2,1885px 958px #a1d3f2,187px 113px #a1d3f2,1120px 1766px #a1d3f2,578px 1273px #a1d3f2,253px 1823px #a1d3f2,753px 478px #a1d3f2,269px 76px #a1d3f2,1916px 1967px #a1d3f2,255px 1725px #a1d3f2,631px 1315px #a1d3f2,540px 1271px #a1d3f2,1715px 1487px #a1d3f2,1931px 826px #a1d3f2,1919px 958px #a1d3f2,34px 1796px #a1d3f2,789px 438px #a1d3f2,471px 723px #a1d3f2,1502px 618px #a1d3f2,1253px 513px #a1d3f2,1655px 1148px #a1d3f2,1390px 816px #a1d3f2,809px 1774px #a1d3f2,497px 782px #a1d3f2,920px 1739px #a1d3f2,514px 375px #a1d3f2,1598px 491px #a1d3f2,48px 1627px #a1d3f2,517px 131px #a1d3f2,271px 1638px #a1d3f2,703px 1384px #a1d3f2,809px 437px #a1d3f2,629px 309px #a1d3f2,1046px 1673px #a1d3f2,805px 293px #a1d3f2,1431px 1135px #a1d3f2,186px 1715px #a1d3f2,1782px 767px #a1d3f2,1833px 67px #a1d3f2,843px 206px #a1d3f2,975px 1188px #a1d3f2,1507px 1124px #a1d3f2,1502px 1251px #a1d3f2,78px 925px #a1d3f2,1392px 1176px #a1d3f2,597px 646px #a1d3f2,1191px 804px #a1d3f2,1151px 1640px #a1d3f2,1975px 895px #a1d3f2,1035px 1733px #a1d3f2,1644px 882px #a1d3f2,1415px 734px #a1d3f2,670px 277px #a1d3f2,1735px 410px #a1d3f2,1860px 117px #a1d3f2,178px 864px #a1d3f2,1176px 1349px #a1d3f2,1929px 630px #a1d3f2,772px 1754px #a1d3f2,1536px 402px #a1d3f2,527px 682px #a1d3f2,1549px 1392px #a1d3f2,583px 413px #a1d3f2,177px 789px #a1d3f2,562px 1246px #a1d3f2,1907px 1436px #a1d3f2,1469px 797px #a1d3f2,435px 1513px #a1d3f2,189px 1599px #a1d3f2,9px 1238px #a1d3f2,22px 1413px #a1d3f2,284px 381px #a1d3f2,1335px 1963px #a1d3f2,1726px 1255px #a1d3f2,621px 385px #a1d3f2,949px 1455px #a1d3f2,1189px 815px #a1d3f2,55px 941px #a1d3f2,1175px 124px #a1d3f2,1600px 1862px #a1d3f2,146px 969px #a1d3f2,571px 1723px #a1d3f2,711px 407px #a1d3f2,617px 1533px #a1d3f2,1778px 1459px #a1d3f2,1081px 189px #a1d3f2,684px 361px #a1d3f2,1863px 1351px #a1d3f2,1673px 1593px #a1d3f2,608px 1939px #a1d3f2,843px 1470px #a1d3f2,8px 1881px #a1d3f2,1193px 221px #a1d3f2,624px 1419px #a1d3f2,886px 1775px #a1d3f2,1642px 1847px #a1d3f2,999px 916px #a1d3f2,921px 1797px #a1d3f2,657px 1763px #a1d3f2,1928px 433px #a1d3f2,958px 1501px #a1d3f2,827px 518px #a1d3f2,1851px 1880px #a1d3f2,363px 1648px #a1d3f2,595px 1747px #a1d3f2,975px 1946px #a1d3f2,1993px 607px #a1d3f2,201px 1854px #a1d3f2,669px 517px #a1d3f2,1512px 641px #a1d3f2,587px 1221px #a1d3f2,511px 1066px #a1d3f2,1029px 1773px #a1d3f2,862px 509px #a1d3f2,1288px 40px #a1d3f2,501px 391px #a1d3f2,1595px 784px #a1d3f2,627px 399px #a1d3f2,498px 1112px #a1d3f2,749px 426px #a1d3f2,131px 754px #a1d3f2,1076px 1814px #a1d3f2,1938px 485px #a1d3f2,1962px 1147px #a1d3f2,1539px 176px #a1d3f2,289px 212px #a1d3f2,1991px 1446px #a1d3f2,776px 1101px #a1d3f2,1314px 468px #a1d3f2,496px 1488px #a1d3f2,1636px 587px #a1d3f2,533px 1525px #a1d3f2,559px 1264px #a1d3f2,1710px 903px #a1d3f2,1640px 199px #a1d3f2,1055px 1300px #a1d3f2,1545px 1820px #a1d3f2,1817px 1510px #a1d3f2,855px 282px #a1d3f2,756px 1245px #a1d3f2,887px 280px #a1d3f2,1163px 411px #a1d3f2,783px 1869px #a1d3f2,273px 513px #a1d3f2,1717px 1320px #a1d3f2,215px 723px #a1d3f2,481px 795px #a1d3f2,1249px 798px #a1d3f2,1177px 1908px #a1d3f2,1838px 508px #a1d3f2,1111px 286px #a1d3f2,1415px 1655px #a1d3f2,48px 1362px #a1d3f2,1824px 1752px #a1d3f2,1483px 1837px #a1d3f2,1249px 150px #a1d3f2,1025px 1318px #a1d3f2,447px 893px #a1d3f2,1862px 1878px #a1d3f2,1919px 773px #a1d3f2,1474px 951px #a1d3f2,1150px 1315px #a1d3f2,342px 1951px #a1d3f2,896px 768px #a1d3f2,1661px 1154px #a1d3f2,1210px 1935px #a1d3f2,245px 1041px #a1d3f2,1843px 643px #a1d3f2,1561px 218px #a1d3f2,344px 850px #a1d3f2,1333px 1565px #a1d3f2,1584px 460px #a1d3f2,322px 20px #a1d3f2,836px 1935px #a1d3f2,228px 809px #a1d3f2,1931px 125px #a1d3f2,529px 502px #a1d3f2,1020px 408px #a1d3f2,2px 376px #a1d3f2,26px 1596px #a1d3f2,304px 208px #a1d3f2,165px 219px #a1d3f2,556px 189px #a1d3f2,464px 1031px #a1d3f2,1892px 717px #a1d3f2,918px 1128px #a1d3f2,161px 1931px #a1d3f2,155px 1555px #a1d3f2,1422px 1814px #a1d3f2,706px 1713px #a1d3f2,873px 372px #a1d3f2,1239px 924px #a1d3f2,1973px 1288px #a1d3f2,507px 775px #a1d3f2}[_nghost-%COMP%]   .stars3[_ngcontent-%COMP%]{width:2px;height:2px;background:transparent;box-shadow:23px 1515px #a1d3f3,1195px 512px #a1d3f3,1417px 767px #a1d3f3,487px 1561px #a1d3f3,425px 1563px #a1d3f3,1134px 284px #a1d3f3,1622px 1303px #a1d3f3,293px 1421px #a1d3f3,67px 546px #a1d3f3,306px 1790px #a1d3f3,370px 317px #a1d3f3,927px 1163px #a1d3f3,1635px 1493px #a1d3f3,435px 1102px #a1d3f3,746px 37px #a1d3f3,274px 1159px #a1d3f3,1111px 732px #a1d3f3,1594px 749px #a1d3f3,590px 1216px #a1d3f3,228px 1236px #a1d3f3,797px 829px #a1d3f3,422px 760px #a1d3f3,1142px 1017px #a1d3f3,1460px 140px #a1d3f3,1913px 1378px #a1d3f3,396px 1006px #a1d3f3,1723px 1873px #a1d3f3,1586px 1449px #a1d3f3,199px 128px #a1d3f3,987px 1931px #a1d3f3,1419px 1415px #a1d3f3,401px 1926px #a1d3f3,599px 527px #a1d3f3,1925px 261px #a1d3f3,1556px 1317px #a1d3f3,25px 1870px #a1d3f3,1747px 1223px #a1d3f3,1035px 1513px #a1d3f3,1987px 594px #a1d3f3,115px 1124px #a1d3f3,365px 1547px #a1d3f3,695px 647px #a1d3f3,1035px 1221px #a1d3f3,245px 1197px #a1d3f3,1783px 204px #a1d3f3,1144px 286px #a1d3f3,466px 1072px #a1d3f3,517px 990px #a1d3f3,557px 1198px #a1d3f3,374px 682px #a1d3f3,1746px 1571px #a1d3f3,1664px 251px #a1d3f3,1122px 395px #a1d3f3,587px 587px #a1d3f3,708px 1505px #a1d3f3,397px 1519px #a1d3f3,80px 1986px #a1d3f3,1731px 411px #a1d3f3,1474px 348px #a1d3f3,676px 398px #a1d3f3,190px 1731px #a1d3f3,728px 1273px #a1d3f3,895px 1722px #a1d3f3,1543px 1693px #a1d3f3,411px 103px #a1d3f3,763px 659px #a1d3f3,939px 294px #a1d3f3,1256px 1558px #a1d3f3,1928px 901px #a1d3f3,238px 1382px #a1d3f3,387px 1583px #a1d3f3,158px 1538px #a1d3f3,390px 683px #a1d3f3,1743px 677px #a1d3f3,1049px 1391px #a1d3f3,757px 1466px #a1d3f3,51px 325px #a1d3f3,472px 355px #a1d3f3,879px 1769px #a1d3f3,1440px 679px #a1d3f3,150px 8px #a1d3f3,1719px 971px #a1d3f3,320px 406px #a1d3f3,1303px 937px #a1d3f3,1014px 407px #a1d3f3,1073px 616px #a1d3f3,466px 745px #a1d3f3,1368px 1727px #a1d3f3,199px 846px #a1d3f3,453px 1547px #a1d3f3,1247px 762px #a1d3f3,1858px 513px #a1d3f3,824px 1550px #a1d3f3,494px 521px #a1d3f3,313px 574px #a1d3f3,319px 192px #a1d3f3,345px 424px #a1d3f3,1016px 1129px #a1d3f3,252px 351px #a1d3f3,7px 1855px #a1d3f3;animation:animStar 150s linear infinite}[_nghost-%COMP%]   .stars3[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:2000px;width:2px;height:2px;background:transparent;box-shadow:23px 1515px #a1d3f3,1195px 512px #a1d3f3,1417px 767px #a1d3f3,487px 1561px #a1d3f3,425px 1563px #a1d3f3,1134px 284px #a1d3f3,1622px 1303px #a1d3f3,293px 1421px #a1d3f3,67px 546px #a1d3f3,306px 1790px #a1d3f3,370px 317px #a1d3f3,927px 1163px #a1d3f3,1635px 1493px #a1d3f3,435px 1102px #a1d3f3,746px 37px #a1d3f3,274px 1159px #a1d3f3,1111px 732px #a1d3f3,1594px 749px #a1d3f3,590px 1216px #a1d3f3,228px 1236px #a1d3f3,797px 829px #a1d3f3,422px 760px #a1d3f3,1142px 1017px #a1d3f3,1460px 140px #a1d3f3,1913px 1378px #a1d3f3,396px 1006px #a1d3f3,1723px 1873px #a1d3f3,1586px 1449px #a1d3f3,199px 128px #a1d3f3,987px 1931px #a1d3f3,1419px 1415px #a1d3f3,401px 1926px #a1d3f3,599px 527px #a1d3f3,1925px 261px #a1d3f3,1556px 1317px #a1d3f3,25px 1870px #a1d3f3,1747px 1223px #a1d3f3,1035px 1513px #a1d3f3,1987px 594px #a1d3f3,115px 1124px #a1d3f3,365px 1547px #a1d3f3,695px 647px #a1d3f3,1035px 1221px #a1d3f3,245px 1197px #a1d3f3,1783px 204px #a1d3f3,1144px 286px #a1d3f3,466px 1072px #a1d3f3,517px 990px #a1d3f3,557px 1198px #a1d3f3,374px 682px #a1d3f3,1746px 1571px #a1d3f3,1664px 251px #a1d3f3,1122px 395px #a1d3f3,587px 587px #a1d3f3,708px 1505px #a1d3f3,397px 1519px #a1d3f3,80px 1986px #a1d3f3,1731px 411px #a1d3f3,1474px 348px #a1d3f3,676px 398px #a1d3f3,190px 1731px #a1d3f3,728px 1273px #a1d3f3,895px 1722px #a1d3f3,1543px 1693px #a1d3f3,411px 103px #a1d3f3,763px 659px #a1d3f3,939px 294px #a1d3f3,1256px 1558px #a1d3f3,1928px 901px #a1d3f3,238px 1382px #a1d3f3,387px 1583px #a1d3f3,158px 1538px #a1d3f3,390px 683px #a1d3f3,1743px 677px #a1d3f3,1049px 1391px #a1d3f3,757px 1466px #a1d3f3,51px 325px #a1d3f3,472px 355px #a1d3f3,879px 1769px #a1d3f3,1440px 679px #a1d3f3,150px 8px #a1d3f3,1719px 971px #a1d3f3,320px 406px #a1d3f3,1303px 937px #a1d3f3,1014px 407px #a1d3f3,1073px 616px #a1d3f3,466px 745px #a1d3f3,1368px 1727px #a1d3f3,199px 846px #a1d3f3,453px 1547px #a1d3f3,1247px 762px #a1d3f3,1858px 513px #a1d3f3,824px 1550px #a1d3f3,494px 521px #a1d3f3,313px 574px #a1d3f3,319px 192px #a1d3f3,345px 424px #a1d3f3,1016px 1129px #a1d3f3,252px 351px #a1d3f3,7px 1855px #a1d3f3}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{position:absolute;bottom:20%;left:0;right:0;color:#a1d3f3;text-align:center;text-shadow:none}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#d4eaff;will-change:opacity}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   span.headline[_ngcontent-%COMP%]{font-weight:300;font-size:50px;letter-spacing:30px;padding-left:27px;display:block;height:36px;line-height:36px;background:linear-gradient(180deg,rgb(255,255,255) 0%,rgb(223,235,246) 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 0 transparent,0 0 10px #2695ff,0 0 20px rgba(38,149,255,.4),0 0 40px rgba(38,149,255,.8666666667),0 0 100px rgba(38,149,255,.8),0 0 200px rgba(38,149,255,.7333333333),0 0 300px rgba(38,149,255,.6666666667),0 0 500px rgba(38,149,255,.6),0 0 1000px rgba(38,149,255,.5333333333);animation:blink 4s infinite alternate}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   span.status[_ngcontent-%COMP%]{font-weight:100;font-size:27px;letter-spacing:10px;display:block;height:20px;line-height:20px;background:linear-gradient(180deg,rgb(255,255,255) 0%,rgb(33,112,181) 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}']}),GameLoadingComponent2})(),GameSpinnerComponent=(()=>{class GameSpinnerComponent2{get fadeout(){return this._fadeOut}constructor(eventManager){this.eventManager=eventManager,this.name="GameSpinnerComponent",this._fadeOut=!1}ngOnInit(){this._sub=this.eventManager.on(OnScenesReadyEvent,()=>{this._fadeOut=!0},this)}ngOnDestroy(){this.eventManager.off(OnScenesReadyEvent,this._sub)}}return __name(GameSpinnerComponent2,"GameSpinnerComponent"),GameSpinnerComponent2.\u0275fac=__name(function(t){return new(t||GameSpinnerComponent2)(core.Y36(EventManagerService))},"GameSpinnerComponent_Factory"),GameSpinnerComponent2.\u0275cmp=core.Xpm({type:GameSpinnerComponent2,selectors:[["velorum-game-spinner"]],hostVars:2,hostBindings:__name(function(rf,ctx){2&rf&&core.ekj("fade-out",ctx.fadeout)},"GameSpinnerComponent_HostBindings"),decls:0,vars:0,template:__name(function(rf,ctx){},"GameSpinnerComponent_Template"),styles:['[_nghost-%COMP%]{display:block;position:absolute;z-index:7;left:calc(50% - 45px);top:calc(100% - 170px);width:60px;height:60px;border-radius:50%;border:3px solid transparent;border-top-color:#c8d7e5;animation:spin 2s linear infinite}[_nghost-%COMP%]:before{content:"";position:absolute;inset:4px;border-radius:50%;border:3px solid transparent;border-top-color:#7bb3f4;animation:spin 3s linear infinite}[_nghost-%COMP%]:after{content:"";position:absolute;inset:10px;border-radius:50%;border:3px solid transparent;border-top-color:#85ade9;animation:spin 1.5s linear infinite}.fade-out[_nghost-%COMP%]{opacity:0;transition:1s opacity}']}),GameSpinnerComponent2})();const game_version_component_c0=__name(function(a0){return{"fade-in":a0}},"game_version_component_c0");let GameVersionComponent=(()=>{class GameVersionComponent2{constructor(eventManager,changeDetector){this.eventManager=eventManager,this.changeDetector=changeDetector,this.name="GameVersionComponent",this.fadeIn$=new Subject.x,this._version="1.0.0"}ngOnInit(){this._subShow=this.eventManager.on(OnShowVersionNumberEvent,()=>{this.fadeIn$.next(!0),this.changeDetector.detectChanges()},this)}ngOnDestroy(){this.eventManager.off(OnShowVersionNumberEvent,this._subShow)}get version(){return this._version}}return __name(GameVersionComponent2,"GameVersionComponent"),GameVersionComponent2.\u0275fac=__name(function(t){return new(t||GameVersionComponent2)(core.Y36(EventManagerService),core.Y36(core.sBO))},"GameVersionComponent_Factory"),GameVersionComponent2.\u0275cmp=core.Xpm({type:GameVersionComponent2,selectors:[["velorum-game-version"]],decls:5,vars:6,consts:[[1,"grouper",3,"ngClass"],[1,"stat","first"],[1,"value"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"div",1)(3,"span",2),core._uU(4),core.qZA()()()),2&rf&&(core.Q6J("ngClass",core.VKq(4,game_version_component_c0,core.lcZ(1,2,ctx.fadeIn$))),core.xp6(4),core.Oqu(ctx.version))},"GameVersionComponent_Template"),dependencies:[common.mk,common.Ov],styles:["[_nghost-%COMP%]{position:absolute;top:8px;right:20px;z-index:6;width:18%}[_nghost-%COMP%]   .grouper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;opacity:0;transition:.5s opacity}[_nghost-%COMP%]   .grouper.fade-in[_ngcontent-%COMP%]{opacity:1;transition:1s opacity}[_nghost-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;width:100%}[_nghost-%COMP%]   .stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:2px}[_nghost-%COMP%]   .stat[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{font-weight:300;padding-left:20px;letter-spacing:2px;text-align:right;color:#999}"]}),GameVersionComponent2})(),GameView=(()=>{class GameView2{get fadeOut(){return this._fadeOut}get fadeIn(){return!this._fadeOut}get anywhere(){return this._anywhere}constructor(sceneManager,eventManager,log,textureManager,galaxyScene,sectorScene,dataManager,elementRef){this.sceneManager=sceneManager,this.eventManager=eventManager,this.log=log,this.textureManager=textureManager,this.galaxyScene=galaxyScene,this.sectorScene=sectorScene,this.dataManager=dataManager,this.elementRef=elementRef,this.name="GameView",this.showStart=!1,this.showSpinner=!0,this._anywhere=!1,this._fadeOut=!1}ngOnInit(){this.log.warn("onInit",this);const webglCanvas=this.createHtmlElement("canvas","webgl","webgl"),css2dDivElement=this.createHtmlElement("div","css2d","css2d");this.elementRef.nativeElement.appendChild(webglCanvas),this.elementRef.nativeElement.appendChild(css2dDivElement),this.sceneManager.CanvasWebGL=webglCanvas,this.sceneManager.CanvasCSS2D=css2dDivElement,this.textureManager.LoadSkyboxCubeTexturesFromHTMLImages(),this.addGlobalEvents(),this.dataManager.velorum.loaded?setTimeout(()=>{this.onGalaxyModelReady()},1):this._onGalaxyModelReadyEventSub=this.eventManager.on(OnGalaxyModelReadyEvent,()=>this.onGalaxyModelReady(),this),this._onSectorSelectedEventSub=this.eventManager.on(OnSectorSelectedEvent,sector=>this.onSectorSelected(sector),this)}ngOnDestroy(){this.log.warn("onDestroy",this),this.profileSubscription?.unsubscribe?.(),this.userSubscription?.unsubscribe?.(),this.sceneManager.dispose(),this.eventManager.dispose(),this._clickListener?.(),this.removeGlobalEvents(),this.removeListeners()}addGlobalEvents(){this.onWindowResizeCallback=this.throttle(()=>this.onWindowResize(),250),window.addEventListener("resize",this.onWindowResizeCallback,!0),this.onCanvasClickCallback=event=>this.onCanvasClick(event),this.sceneManager.CanvasWebGL.addEventListener("click",this.onCanvasClickCallback,!0),this.onMouseMoveCallback=event=>this.onMouseMove(event),document.addEventListener("mousemove",this.onMouseMoveCallback,!0),this.onMouseDownCallback=event=>this.onMouseDown(event),document.addEventListener("mousedown",this.onMouseDownCallback,!0),this.onMouseUpCallback=event=>this.onMouseUp(event),document.addEventListener("mouseup",this.onMouseUpCallback,!0)}removeGlobalEvents(){this.sceneManager.CanvasWebGL.removeEventListener("click",this.onCanvasClickCallback,!0),window.removeEventListener("resize",this.onWindowResizeCallback,!0),document.removeEventListener("mousemove",this.onMouseMoveCallback,!0),document.removeEventListener("mousedown",this.onMouseDownCallback,!0),document.removeEventListener("mouseup",this.onMouseUpCallback,!0)}removeListeners(){this.eventManager.off(OnGalaxyModelReadyEvent,this._onGalaxyModelReadyEventSub),this.eventManager.off(OnSectorSelectedEvent,this._onSectorSelectedEventSub)}onGalaxyModelReady(){this.sceneManager.AddScene(this.galaxyScene),this.sceneManager.AddScene(this.sectorScene),this.sceneManager.Init(),this.sceneManager.Animate(),this.sceneManager.warmUpScenes(),this.eventManager.emit(OnScenesReadyEvent,void 0,this)}onSectorSelected(sector){}onWindowResize(){this.sceneManager.Camera&&(this.sceneManager.Camera.aspect=window.innerWidth/window.innerHeight,this.sceneManager.Camera.updateProjectionMatrix(),this.sceneManager.RendererWebGL.setSize(window.innerWidth,window.innerHeight),this.sceneManager.RendererWebGL.setPixelRatio(window.devicePixelRatio),this.sceneManager.RendererCSS2D.setSize(window.innerWidth,window.innerHeight),this.setCanvasDimensions(this.sceneManager.RendererWebGL.domElement,window.innerWidth,window.innerHeight))}onMouseMove(event){event.preventDefault(),this.sceneManager.Mouse&&(this.sceneManager.Mouse.x=event.clientX/window.innerWidth*2-1,this.sceneManager.Mouse.y=-event.clientY/window.innerHeight*2+1,this.sceneManager.QueueRaycast=!this.sceneManager.MouseState.held)}onMouseDown(event){this.sceneManager.MouseState.lastClick=Date.now(),this.sceneManager.MouseState.clicked=!1,this.sceneManager.MouseState.held=!0}onMouseUp(event){this.sceneManager.MouseState.held=!1}onCanvasClick(event){0===event.button&&this.sceneManager.OnClick(event)}setCanvasDimensions(canvas,width,height,set2dTransform=!1){const ratio=window.devicePixelRatio;canvas.width=width*ratio,canvas.height=height*ratio,canvas.style.width=`${width}px`,canvas.style.height=`${height}px`,set2dTransform&&canvas.getContext("2d")?.setTransform(ratio,0,0,ratio,0,0)}throttle(fn,wait=300){let inThrottle,lastFn,lastTime;return(...args)=>{inThrottle?(clearTimeout(lastFn),lastFn=setTimeout(()=>{Date.now()-lastTime>=wait&&(fn.apply(this,args),lastTime=Date.now())},Math.max(wait-(Date.now()-lastTime),0))):(fn.apply(this,args),lastTime=Date.now(),inThrottle=!0)}}createHtmlElement(tagName,id,className){const element=document.createElement(tagName);return element.id=id,element.className=className,element}}return __name(GameView2,"GameView"),GameView2.\u0275fac=__name(function(t){return new(t||GameView2)(core.Y36(SceneManagerService),core.Y36(EventManagerService),core.Y36(LogManagerService),core.Y36(TextureManagerService),core.Y36(GalaxyScene),core.Y36(SectorScene),core.Y36(DataManagerService),core.Y36(core.SBq))},"GameView_Factory"),GameView2.\u0275cmp=core.Xpm({type:GameView2,selectors:[["velorum-galaxy-game"]],hostVars:6,hostBindings:__name(function(rf,ctx){2&rf&&core.ekj("fade-out",ctx.fadeOut)("fade-in",ctx.fadeIn)("anywhere",ctx.anywhere)},"GameView_HostBindings"),decls:12,vars:0,consts:[["width","4096px","height","4096px","id","dramatic-bloom-px","src","assets/skyboxes/dramatic-bloom/px.jpg",1,"skybox","dramatic-bloom"],["width","4096px","height","4096px","id","dramatic-bloom-nx","src","assets/skyboxes/dramatic-bloom/nx.jpg",1,"skybox","dramatic-bloom"],["width","4096px","height","4096px","id","dramatic-bloom-py","src","assets/skyboxes/dramatic-bloom/py.jpg",1,"skybox","dramatic-bloom"],["width","4096px","height","4096px","id","dramatic-bloom-ny","src","assets/skyboxes/dramatic-bloom/ny.jpg",1,"skybox","dramatic-bloom"],["width","4096px","height","4096px","id","dramatic-bloom-pz","src","assets/skyboxes/dramatic-bloom/pz.jpg",1,"skybox","dramatic-bloom"],["width","4096px","height","4096px","id","dramatic-bloom-nz","src","assets/skyboxes/dramatic-bloom/nz.jpg",1,"skybox","dramatic-bloom"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"router-outlet")(1,"velorum-game-spinner")(2,"velorum-game-loading")(3,"velorum-game-headline")(4,"velorum-game-stats")(5,"velorum-game-version")(6,"img",0)(7,"img",1)(8,"img",2)(9,"img",3)(10,"img",4)(11,"img",5)},"GameView_Template"),dependencies:[router.lC,GameHeadlineComponent,GameStatsComponent,GameLoadingComponent,GameSpinnerComponent,GameVersionComponent],styles:["[_nghost-%COMP%]{display:flex;flex:1;justify-content:space-between;z-index:1;width:100%;height:100%}[_nghost-%COMP%]   .skybox[_ngcontent-%COMP%]{position:absolute;z-index:-10;top:-10000px;left:-10000px}[_nghost-%COMP%]   .skybox.dramatic-bloom[_ngcontent-%COMP%]{width:4096px!important;height:4096px!important;max-width:4096px!important;max-height:4096px!important;min-width:4096px!important;min-height:4096px!important}[_nghost-%COMP%]   .social[_ngcontent-%COMP%]{position:absolute;z-index:6;width:14%;height:58px;bottom:0;display:flex;align-items:center;justify-content:flex-end}[_nghost-%COMP%]   .social.right[_ngcontent-%COMP%]{padding-right:20px;padding-left:20px;width:14%;right:0}.fade-out[_nghost-%COMP%]{transition:1.5s opacity;opacity:0}.fade-in[_nghost-%COMP%]{transition:1.5s opacity;opacity:1}"]}),GameView2})();String.prototype.slug=function(){return slugify_default()(this,{replacement:"-",remove:void 0,lower:!0,strict:!0,locale:"en",trim:!0})};let GameButtonComponent=(()=>{class GameButtonComponent2{constructor(){this._isActive=!1,this.delay=250,this.round=!0,this.pressed=new core.vpe}get active(){return this._isActive}get isRound(){return this.round}handleKeyboardEvent(event){event.key===this.keyCode&&(this._isActive=!0,setTimeout(()=>{this._isActive=!1,this.pressed.emit()},this.delay))}}return __name(GameButtonComponent2,"GameButtonComponent"),GameButtonComponent2.\u0275fac=__name(function(t){return new(t||GameButtonComponent2)},"GameButtonComponent_Factory"),GameButtonComponent2.\u0275cmp=core.Xpm({type:GameButtonComponent2,selectors:[["velorum-game-button"]],hostVars:4,hostBindings:__name(function(rf,ctx){1&rf&&core.NdJ("keyup",__name(function($event){return ctx.handleKeyboardEvent($event)},"GameButtonComponent_keyup_HostBindingHandler"),!1,core.evT),2&rf&&core.ekj("active",ctx.active)("round",ctx.isRound)},"GameButtonComponent_HostBindings"),inputs:{keyCode:"keyCode",keyCodeText:"keyCodeText",text:"text",delay:"delay",round:"round"},outputs:{pressed:"pressed"},decls:6,vars:2,consts:[[1,"key","flex","flex-col","items-center","justify-center"],[1,"button","flex","items-center","justify-center"],[1,"text"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"span"),core._uU(3),core.qZA()()(),core.TgZ(4,"div",2),core._uU(5),core.qZA()),2&rf&&(core.xp6(3),core.Oqu(ctx.keyCodeText),core.xp6(2),core.Oqu(ctx.text))},"GameButtonComponent_Template"),styles:["[_nghost-%COMP%]{position:relative;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .25s}[_nghost-%COMP%]   .key[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:2px 11px;background-color:#0000;border-radius:20%;border:solid 2px rgba(255,255,255,.8);transition:all .25s}[_nghost-%COMP%]   .key[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#fffc;text-shadow:none;transition:all .25s}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:10px;padding-right:5px;width:auto;white-space:nowrap;letter-spacing:1px;color:#fffc;transition:all .25s}.round[_nghost-%COMP%]   .key[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]:hover   .key[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .active[_nghost-%COMP%]   .key[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:#fff}[_nghost-%COMP%]:hover   .key[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .active[_nghost-%COMP%]   .key[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]:hover   .text[_ngcontent-%COMP%], .active[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff}"]}),GameButtonComponent2})();const sector_view_c0=__name(function(a0){return{"fade-in":a0}},"sector_view_c0");let SectorView=(()=>{class SectorView2{constructor(sceneManager,eventManager,log,dataManager,router2,route,title){this.sceneManager=sceneManager,this.eventManager=eventManager,this.log=log,this.dataManager=dataManager,this.router=router2,this.route=route,this.title=title,this.name="SectorView",this.showActionButtons=!1}ngOnInit(){this.log.warn("onInit",this),this.eventManager.on(OnScenesReadyEvent,()=>this.init(),this),this.addEvents()}ngOnDestroy(){this.log.warn("onDestroy",this),this.removeEvents(),"/galaxy"===this.router.routerState.snapshot.url&&this.sceneManager.GetSceneByName("Sector Scene")?.deactivate?.()}init(){"map-sector-view"===this.route.snapshot.data.routeName&&(this.dataManager.velorum.SelectedSector?.SelectedSystem?.deselect?.(),this.dataManager.velorum.SelectedSector?.deselect(),this.dataManager.velorum.SelectSector(parseInt(this.sectorid,10)),this.title.setTitle(`Velorum Galaxy :: Sector ${this.dataManager.velorum.SelectedSector.name}`),this.sceneManager.GetSceneByName("Sector Scene")?.activate?.(!0),this.eventManager.emit(OnSectorSelectedEvent,this.dataManager.velorum.SelectedSector,this))}addEvents(){"map-sector-view"===this.route.snapshot.data.routeName&&(this._onShowActionButtonsEventSubscription=this.eventManager.on(OnShowActionButtonsEvent,()=>{this.showActionButtons=!0},this),this._onSelectSolarSystemEventSubscription=this.eventManager.on(OnClickSolarSystemEvent,system=>this.onSolarSystemClick(system),this),this._onLoadingScreenFadedOutEventSubscription=this.eventManager.on(OnLoadingScreenFadedOutEvent,()=>this.onLoadingScreenFadedOut(),this),this._onGalaxyClickSubscription=this.eventManager.on(OnGalaxyClickEvent,()=>this.onGoBackToGalaxy(),this),this._onGoBackToGalaxySubscription=this.eventManager.on(OnGoBackToGalaxyEvent,()=>this.onGoBackToGalaxy(),this))}removeEvents(){this.eventManager.off(OnClickSolarSystemEvent,this._onSelectSolarSystemEventSubscription),this.eventManager.off(OnLoadingScreenFadedOutEvent,this._onLoadingScreenFadedOutEventSubscription),this.eventManager.off(OnGalaxyClickEvent,this._onGalaxyClickSubscription),this.eventManager.off(OnGoBackToGalaxyEvent,this._onGoBackToGalaxySubscription),this.eventManager.off(OnShowActionButtonsEvent,this._onShowActionButtonsEventSubscription)}onLoadingScreenFadedOut(){this.sceneManager.IntroComplete&&(this.eventManager.emit(OnIntroAlreadyCompletedEvent,void 0,this),this.eventManager.emit(OnIntroCompleteEvent,void 0,this),this.eventManager.emit(OnShowSocialIconsEvent,void 0,this),this.eventManager.emit(OnShowActionButtonsEvent,void 0,this),this.eventManager.emit(OnShowSectorStatsEvent,void 0,this),this.eventManager.emit(OnShowHeadlineEvent,{text:`SECTOR ${this.dataManager.velorum.SelectedSector.name.toUpperCase()}`,duration:5e3},this))}onSolarSystemClick(system){this.router.navigate(["galaxy",this.dataManager.velorum.SelectedSector.id,system.id])}onGoBackToGalaxy(){this.dataManager.velorum.SelectedSector?.deselect(),this.sceneManager.Controls.moveTo(-1e4,6e3,500,!1),this.sceneManager.Controls.setTarget(0,0,0,!1),this.router.navigate(["galaxy"])}onGalaxyViewActionClick(event){event?.preventDefault(),event?.stopPropagation(),event?.stopImmediatePropagation(),this.eventManager.emit(OnGalaxyClickEvent,void 0,this)}}return __name(SectorView2,"SectorView"),SectorView2.\u0275fac=__name(function(t){return new(t||SectorView2)(core.Y36(SceneManagerService),core.Y36(EventManagerService),core.Y36(LogManagerService),core.Y36(DataManagerService),core.Y36(router.F0),core.Y36(router.gz),core.Y36(platform_browser.Dx))},"SectorView_Factory"),SectorView2.\u0275cmp=core.Xpm({type:SectorView2,selectors:[["velorum-sector-view"]],inputs:{routeName:"routeName",sectorid:"sectorid"},decls:2,vars:6,consts:[[1,"actions","center"],[1,"galaxy-view-action",3,"keyCode","keyCodeText","text","ngClass","pressed","click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"velorum-game-button",1),core.NdJ("pressed",__name(function(){return ctx.onGalaxyViewActionClick()},"SectorView_Template_velorum_game_button_pressed_1_listener"))("click",__name(function($event){return ctx.onGalaxyViewActionClick($event)},"SectorView_Template_velorum_game_button_click_1_listener")),core.qZA()()),2&rf&&(core.xp6(1),core.Q6J("keyCode","g")("keyCodeText","G")("text","Galaxy View")("ngClass",core.VKq(4,sector_view_c0,ctx.showActionButtons)))},"SectorView_Template"),dependencies:[common.mk,GameButtonComponent],styles:["[_nghost-%COMP%]{display:flex;flex:1;justify-content:space-between;padding:10px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{position:absolute;z-index:6;width:20%;height:58px;bottom:0;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .actions.left[_ngcontent-%COMP%]{padding-left:80px;width:24%;left:0}[_nghost-%COMP%]   .actions.right[_ngcontent-%COMP%]{padding-right:200px;padding-left:20px;width:24%;right:0}[_nghost-%COMP%]   .actions.center[_ngcontent-%COMP%]{width:200px;left:calc(50% - 100px)}[_nghost-%COMP%]   .galaxy-view-action[_ngcontent-%COMP%]{opacity:0;transition:.25s opacity}[_nghost-%COMP%]   .galaxy-view-action.fade-in[_ngcontent-%COMP%]{transition:1s opacity;opacity:1}"]}),SectorView2})();function GameSystemDetailsComponent_div_10_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",11)(1,"div",12),core._UZ(2,"i",13),core.qZA(),core.TgZ(3,"div",14)(4,"span",15),core._uU(5),core.qZA(),core.TgZ(6,"span",16)(7,"span",17),core._uU(8),core.qZA(),core.TgZ(9,"span",18),core._uU(10,"R\u2609"),core.qZA(),core.TgZ(11,"span",19),core._uU(12),core.qZA(),core.TgZ(13,"span",20),core._uU(14,"M\u2609"),core.qZA()()()()),2&rf){const star_r1=ctx.$implicit;core.xp6(1),core.Q6J("ngClass",star_r1.classId),core.xp6(4),core.Oqu(star_r1.stellarClass),core.xp6(3),core.Oqu(star_r1.radius),core.xp6(4),core.Oqu(star_r1.mass)}}__name(GameSystemDetailsComponent_div_10_Template,"GameSystemDetailsComponent_div_10_Template");let GameSystemDetailsComponent=(()=>{class GameSystemDetailsComponent2{onContextMenu(event){event.preventDefault()}get isCommon(){return"common"===this.system?.rarity}get isUncommon(){return"uncommon"===this.system?.rarity}get isRare(){return"rare"===this.system?.rarity}get isEpic(){return"epic"===this.system?.rarity}constructor(dataManager){this.dataManager=dataManager,this._isAvailable=!0,this._isClaimed=!0}get sector(){return this.dataManager.velorum?.SelectedSector}get system(){return this.dataManager.velorum?.SelectedSector?.SelectedSystem}get rarity(){return this.system?.rarity}get image(){return this.sector?`https://nft.velorum.games/images/meco/${this.sector.id}/${this.system.id}.jpg`:""}get thumbnail(){return this.sector?`https://nft.velorum.games/images/meco/${this.sector.id}/${this.system.id}_512x512.jpg`:""}get description(){return this.system?.extended.replace("[SECTORNAME]",this.sector.name)}}return __name(GameSystemDetailsComponent2,"GameSystemDetailsComponent"),GameSystemDetailsComponent2.\u0275fac=__name(function(t){return new(t||GameSystemDetailsComponent2)(core.Y36(DataManagerService))},"GameSystemDetailsComponent_Factory"),GameSystemDetailsComponent2.\u0275cmp=core.Xpm({type:GameSystemDetailsComponent2,selectors:[["velorum-game-system-details"]],hostVars:8,hostBindings:__name(function(rf,ctx){1&rf&&core.NdJ("contextmenu",__name(function($event){return ctx.onContextMenu($event)},"GameSystemDetailsComponent_contextmenu_HostBindingHandler")),2&rf&&core.ekj("common",ctx.isCommon)("uncommon",ctx.isUncommon)("rare",ctx.isRare)("epic",ctx.isEpic)},"GameSystemDetailsComponent_HostBindings"),decls:14,vars:5,consts:[[1,"rarity-label","uppercase"],[1,"system-name","p-3","w-full","bottom-separator","flex","flex-col"],[1,"label"],[1,"name"],[1,"system-details","p-3","w-full","bottom-separator","flex","flex-col","flex-fill"],[1,"extended-description","pb-3",3,"innerHTML"],[1,"stars-description"],["class","star-description flex flex-row mb-2",4,"ngFor","ngForOf"],[1,"nft-details","p-3"],[1,"h-52","mb-3","overflow-hidden","rounded-sm"],[1,"-mt-20",3,"src"],[1,"star-description","flex","flex-row","mb-2"],[1,"star-icon","mr-2","flex","flex-col","items-center","justify-center",3,"ngClass"],[1,"fa-solid","fa-circle-dot"],[1,"star-details","flex","flex-col","items-start","justify-center"],[1,"star-class"],[1,"star-stats"],[1,"radius","mr-2"],[1,"units","mr-4"],[1,"mass","mr-2"],[1,"units"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._uU(1),core.qZA(),core.TgZ(2,"div",1)(3,"span",2),core._uU(4,"SYSTEM"),core.qZA(),core.TgZ(5,"span",3),core._uU(6),core.qZA()(),core.TgZ(7,"div",4),core._UZ(8,"div",5),core.TgZ(9,"div",6),core.YNc(10,GameSystemDetailsComponent_div_10_Template,15,4,"div",7),core.qZA()(),core.TgZ(11,"div",8)(12,"div",9),core._UZ(13,"img",10),core.qZA()()),2&rf&&(core.xp6(1),core.Oqu(ctx.rarity),core.xp6(5),core.Oqu(null==ctx.system?null:ctx.system.name),core.xp6(2),core.Q6J("innerHTML",ctx.description,core.oJD),core.xp6(2),core.Q6J("ngForOf",null==ctx.system?null:ctx.system.stars),core.xp6(3),core.s9C("src",ctx.thumbnail,core.LSH))},"GameSystemDetailsComponent_Template"),dependencies:[common.mk,common.sg],styles:["[_nghost-%COMP%]{position:absolute;top:125px;right:60px;z-index:6;width:400px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;pointer-events:none;background-color:#1d262fd6;border:solid 1px #585c5e;box-shadow:0 0 2rem #1b83dc33,0 0 6rem #1b83dc26;opacity:0;transition:.2s opacity}[_nghost-%COMP%]   .rarity-label[_ngcontent-%COMP%]{position:absolute;line-height:26px;font-size:1.3rem;padding:4px 20px;font-weight:700;letter-spacing:3px;transform:rotate(-90deg);text-shadow:none;color:#fff;border-top-left-radius:3px;border-top-right-radius:3px}.common[_nghost-%COMP%]{border:solid 2px #585c5e}.common[_nghost-%COMP%]   .rarity-label[_ngcontent-%COMP%]{left:-76px;top:39px;background-color:#585c5e}.common[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(129,129,129,.46) 0%,rgba(64,64,64,.75) 80%),url(diagonal-pattern-2.d5dc695e8286b09e.png)}.common[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#cccfd1}.uncommon[_nghost-%COMP%]{border:solid 2px #dde2e4}.uncommon[_nghost-%COMP%]   .rarity-label[_ngcontent-%COMP%]{left:-88px;top:51px;background-color:#dde2e4;color:#000}.uncommon[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(204,203,203,.65) 0%,rgba(138,138,138,.86) 80%),url(diagonal-pattern-2.d5dc695e8286b09e.png)}.uncommon[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#dde2e4}.rare[_nghost-%COMP%]{border:solid 2px #d78d16}.rare[_nghost-%COMP%]   .rarity-label[_ngcontent-%COMP%]{left:-61px;top:23px;background-color:#d78d16}.rare[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(183,128,43,.79) 0%,rgba(138,94,13,.82) 80%),url(diagonal-pattern-2.d5dc695e8286b09e.png)}.rare[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#c0c4c0}.epic[_nghost-%COMP%]{border:solid 2px #22b5ef}.epic[_nghost-%COMP%]   .rarity-label[_ngcontent-%COMP%]{left:-57px;top:20px;background-color:#22b5ef}.epic[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(70,99,128,.8) 0%,rgba(71,105,138,.94) 80%),url(diagonal-pattern-2.d5dc695e8286b09e.png)}.epic[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#22b5ef}.fade-in[_nghost-%COMP%]{opacity:1;transition:1s opacity;pointer-events:all}[_nghost-%COMP%]   .bottom-separator[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(167,174,179,.4196078431)}[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]{background-size:100px 100%!important}[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%;text-transform:uppercase;font-weight:700;letter-spacing:3px;font-size:1.35rem;line-height:26px;color:#7e8589;text-shadow:1px 0 1px rgba(0,0,0,.5),0 1px 1px rgba(0,0,0,.5)!important}[_nghost-%COMP%]   .system-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-transform:uppercase;font-weight:500;letter-spacing:3px;font-size:2rem;line-height:26px;color:#fff;text-shadow:1px 0 1px rgba(0,0,0,.5),0 1px 1px rgba(0,0,0,.5)!important}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]{font-weight:300;font-size:1.25rem}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{width:34px;height:52px;background-color:#444;border-radius:3px}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.g2[_ngcontent-%COMP%]{background-color:#ffd5001a}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.g2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{--fa-primary-color: #ffb700;--fa-secondary-color: #c99d1b}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.rd[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.rg[_ngcontent-%COMP%]{background-color:#d223231a}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.rd[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.rg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{--fa-primary-color: #da3012;--fa-secondary-color: #aa361d}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.bg[_ngcontent-%COMP%]{background-color:#2389d21a}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.bg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{--fa-primary-color: #128dda;--fa-secondary-color: #1d79aa}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.ns[_ngcontent-%COMP%]{background-color:#23d2801a}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.ns[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{--fa-primary-color: #0e9610;--fa-secondary-color: #106f15}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.wd[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.psr[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-icon.sg[_ngcontent-%COMP%]{background-color:#ffffff1a}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-details[_ngcontent-%COMP%]   .star-class[_ngcontent-%COMP%]{font-size:1.1rem;color:#929699;text-shadow:none}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-details[_ngcontent-%COMP%]   .star-stats[_ngcontent-%COMP%]{font-weight:500;letter-spacing:1px;font-size:1.35rem;line-height:26px;color:#fff;text-shadow:1px 0 1px rgba(0,0,0,.5),0 1px 1px rgba(0,0,0,.5)!important}[_nghost-%COMP%]   .system-details[_ngcontent-%COMP%]   .stars-description[_ngcontent-%COMP%]   .star-description[_ngcontent-%COMP%]   .star-details[_ngcontent-%COMP%]   .star-stats[_ngcontent-%COMP%]   .units[_ngcontent-%COMP%]{color:#929699}[_nghost-%COMP%]   .nft-details[_ngcontent-%COMP%]   sl-button[_ngcontent-%COMP%]::part(base):hover{opacity:.8}[_nghost-%COMP%]   .nft-details[_ngcontent-%COMP%]   sl-button.mint[_ngcontent-%COMP%]::part(base){font-weight:700}[_nghost-%COMP%]   .nft-details[_ngcontent-%COMP%]   sl-button.opensea[_ngcontent-%COMP%]::part(base){color:#fff;background-color:#2081e2;border-color:#2081e2}[_nghost-%COMP%]   .nft-details[_ngcontent-%COMP%]   sl-button.magiceden[_ngcontent-%COMP%]::part(base){color:#fff;background-color:#e42575;border-color:#e42575}[_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .currency-selector-panel[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .currency-selector-panel[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{max-width:22%;margin-right:12px}[_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .currency-selector-panel[_ngcontent-%COMP%]   .btn-start-claim[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .currency-selector-panel[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .currency-selector-panel[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{border-color:#fff;border-width:2px;border-radius:0;font-size:1.2rem;padding-top:3px;padding-bottom:2px;outline:none;background-color:#2b2b2b;box-shadow:0 0 2px #ffffffe6,0 0 4px #fff6,0 0 1rem #ffffff4d,0 0 4rem #ffffff1a}[_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .claiming-progress-panel[_ngcontent-%COMP%]   .stepspinner[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .claiming-progress-panel[_ngcontent-%COMP%]   .stepspinner.step1[_ngcontent-%COMP%]{top:-32px}[_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .claiming-progress-panel[_ngcontent-%COMP%]   .stepspinner.step3[_ngcontent-%COMP%]{top:32px}[_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .claiming-progress-panel[_ngcontent-%COMP%]   .step.done[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{--fa-primary-color: #fff;--fa-secondary-color: #1ed05f}[_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .claiming-progress-panel[_ngcontent-%COMP%]   .step.done[_ngcontent-%COMP%]   i.fa-check[_ngcontent-%COMP%]{--fa-primary-color: #1ed05f}[_nghost-%COMP%]   .system-actions[_ngcontent-%COMP%]   .claiming-progress-panel[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]{--fa-primary-color: #fff;--fa-secondary-color: #226cc6}"]}),GameSystemDetailsComponent2})();function GameSystemExtendedDetailsComponent_span_6_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"span",16),core.NdJ("mouseenter",__name(function(){const star_r4=core.CHM(_r6).$implicit,ctx_r5=core.oxw();return core.KtG(ctx_r5.selectStar(star_r4))},"GameSystemExtendedDetailsComponent_span_6_Template_span_mouseenter_0_listener")),core.qZA()}if(2&rf){const star_r4=ctx.$implicit,ctx_r0=core.oxw();core.Q6J("ngClass",ctx_r0.getStarSelectorClassName(star_r4))}}function GameSystemExtendedDetailsComponent_div_35_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",17)(1,"div",18)(2,"span",19),core._uU(3,"NO KNOWN PLANETS"),core.qZA()()())}function GameSystemExtendedDetailsComponent_div_36_span_1_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"span",23),core.NdJ("mouseenter",__name(function(){const planet_r8=core.CHM(_r10).$implicit,ctx_r9=core.oxw(2);return core.KtG(ctx_r9.selectPlanet(planet_r8))},"GameSystemExtendedDetailsComponent_div_36_span_1_Template_span_mouseenter_0_listener")),core.qZA()}if(2&rf){const planet_r8=ctx.$implicit,ctx_r7=core.oxw(2);core.Q6J("ngClass",ctx_r7.getOrbitSelectorClassName(planet_r8))}}function GameSystemExtendedDetailsComponent_div_36_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",20),core.YNc(1,GameSystemExtendedDetailsComponent_div_36_span_1_Template,1,1,"span",21),core._UZ(2,"div",22),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r2.planets)}}function GameSystemExtendedDetailsComponent_div_37_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",17)(1,"div",24)(2,"div",25)(3,"span",2),core._uU(4,"ORBIT"),core.qZA(),core.TgZ(5,"span",8),core._uU(6),core.qZA()(),core.TgZ(7,"div",25)(8,"span",2),core._uU(9,"CLASSIFICATION"),core.qZA(),core.TgZ(10,"span",8),core._uU(11),core.qZA()(),core.TgZ(12,"div",25)(13,"span",2),core._uU(14,"DESCRIPTION"),core.qZA(),core.TgZ(15,"span",26),core._uU(16),core.qZA()()()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("ngClass",ctx_r3.getPlanetClassName(null==ctx_r3.selectedPlanet?null:ctx_r3.selectedPlanet.type)),core.xp6(5),core.Oqu(null==ctx_r3.selectedPlanet?null:ctx_r3.selectedPlanet.orbit),core.xp6(5),core.Oqu(ctx_r3.getPlanetClassification(null==ctx_r3.selectedPlanet?null:ctx_r3.selectedPlanet.type)),core.xp6(5),core.Oqu(ctx_r3.getPlanetClassDescription(null==ctx_r3.selectedPlanet?null:ctx_r3.selectedPlanet.type))}}__name(GameSystemExtendedDetailsComponent_span_6_Template,"GameSystemExtendedDetailsComponent_span_6_Template"),__name(GameSystemExtendedDetailsComponent_div_35_Template,"GameSystemExtendedDetailsComponent_div_35_Template"),__name(GameSystemExtendedDetailsComponent_div_36_span_1_Template,"GameSystemExtendedDetailsComponent_div_36_span_1_Template"),__name(GameSystemExtendedDetailsComponent_div_36_Template,"GameSystemExtendedDetailsComponent_div_36_Template"),__name(GameSystemExtendedDetailsComponent_div_37_Template,"GameSystemExtendedDetailsComponent_div_37_Template");let GameSystemExtendedDetailsComponent=(()=>{class GameSystemExtendedDetailsComponent2{onContextMenu(event){event.preventDefault()}get isCommon(){return"common"===this.system?.rarity}get isUncommon(){return"uncommon"===this.system?.rarity}get isRare(){return"rare"===this.system?.rarity}get isEpic(){return"epic"===this.system?.rarity}constructor(eventManager,dataManager){this.eventManager=eventManager,this.dataManager=dataManager,this.name="GameSystemExtendedDetailsComponent"}ngOnInit(){this._onSelectSolarSystemEventSubscription=this.eventManager.on(OnSolarSystemSelectedEvent,system=>{this._selectedStar=this.stars[0],this.planets&&this.planets.length>0&&(this._selectedPlanet=this.planets[0])},this)}ngOnDestroy(){this.eventManager.off(OnSolarSystemSelectedEvent,this._onSelectSolarSystemEventSubscription)}get sector(){return this.dataManager.velorum?.SelectedSector}get system(){return this.dataManager.velorum?.SelectedSector?.SelectedSystem}get rarity(){return this.system?.rarity}get stars(){return this.dataManager.velorum?.SelectedSector?.SelectedSystem?.stars||[]}get planets(){return this.dataManager.velorum?.SelectedSector?.SelectedSystem?.planets||[]}getStarSelectorClassName(star){let className=`${star.classId} `;return this._selectedStar&&star.toJson()===this._selectedStar.toJson()&&(className+="selected"),className}getOrbitSelectorClassName(planet){let className=`${this.getPlanetClassName(planet.type)} `;return this.selectedPlanet&&planet.orbit===this.selectedPlanet.orbit&&(className+="selected"),className}getPlanetClassDescription(c){switch(c){case PlanetClass.D:return"Small, No Atmosphere";case PlanetClass.Y:return"Toxic, High Temperatures";case PlanetClass.L:return"Habitable, No Animal Life";case PlanetClass.M:return"Habitable, Terrestrial";case PlanetClass.K:return"Habitable, Pressure Domes";case PlanetClass.T:case PlanetClass.J:return"Gas Giant";case PlanetClass.N:return"Uninhabitable, Sulfuric";case PlanetClass.H:return"Uninhabitable, Rocky";default:return""}}getPlanetClassification(c){return void 0!==c?PlanetClass[c]:""}getPlanetClassName(c){return void 0!==c?`class${PlanetClass[c]}`.toLowerCase():""}get selectedStar(){return this._selectedStar}selectStar(star){this._selectedStar=star}get selectedPlanet(){return this._selectedPlanet}selectPlanet(planet){this._selectedPlanet&&(this._selectedPlanet.selected=!1),this._selectedPlanet=planet}}return __name(GameSystemExtendedDetailsComponent2,"GameSystemExtendedDetailsComponent"),GameSystemExtendedDetailsComponent2.\u0275fac=__name(function(t){return new(t||GameSystemExtendedDetailsComponent2)(core.Y36(EventManagerService),core.Y36(DataManagerService))},"GameSystemExtendedDetailsComponent_Factory"),GameSystemExtendedDetailsComponent2.\u0275cmp=core.Xpm({type:GameSystemExtendedDetailsComponent2,selectors:[["velorum-game-system-extended-details"]],hostVars:8,hostBindings:__name(function(rf,ctx){1&rf&&core.NdJ("contextmenu",__name(function($event){return ctx.onContextMenu($event)},"GameSystemExtendedDetailsComponent_contextmenu_HostBindingHandler")),2&rf&&core.ekj("common",ctx.isCommon)("uncommon",ctx.isUncommon)("rare",ctx.isRare)("epic",ctx.isEpic)},"GameSystemExtendedDetailsComponent_HostBindings"),decls:61,vars:25,consts:[[1,"rarity-label","uppercase"],[1,"system-stars-heading","p-3","w-full","bottom-separator","flex","flex-col","flex-fill"],[1,"label"],[1,"system-stars-selector","p-3","w-full","bottom-separator","flex","flex-row","items-center","justify-center"],["class","star-selector",3,"ngClass","mouseenter",4,"ngFor","ngForOf"],[1,"system-stars-container","w-full"],[1,"system-stars","p-3","w-full","bottom-separator","flex","flex-col","flex-fill",3,"ngClass"],[1,"stellar-stat","flex","flex-row","items-center","justify-between","flex-fill"],[1,"value"],[1,"system-planets-heading","p-3","w-full","bottom-separator","flex","flex-row","flex-fill"],["class","system-planets-container w-full",4,"ngIf"],["class","system-planets-selector p-3 w-full bottom-separator flex flex-row items-center justify-between",4,"ngIf"],[1,"system-resources-heading","p-3","w-full","bottom-separator","flex","flex-col","flex-fill"],[1,"system-resources-container","w-full","flex","flex-col","items-center","justify-between"],[1,"system-resources","common","p-3","w-full"],[1,"resource-stat","flex","flex-row","items-center","justify-between","flex-fill"],[1,"star-selector",3,"ngClass","mouseenter"],[1,"system-planets-container","w-full"],[1,"system-planets","p-3","w-full","bottom-separator","flex","flex-col","flex-fill"],[1,"main-label"],[1,"system-planets-selector","p-3","w-full","bottom-separator","flex","flex-row","items-center","justify-between"],["class","orbit-selector",3,"ngClass","mouseenter",4,"ngFor","ngForOf"],[1,"system-planets-plane"],[1,"orbit-selector",3,"ngClass","mouseenter"],[1,"system-planets","p-3","w-full","bottom-separator","flex","flex-col","flex-fill",3,"ngClass"],[1,"planet-stat","flex","flex-row","items-center","justify-between","flex-fill"],[1,"value","uppercase"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._uU(1),core.qZA(),core.TgZ(2,"div",1)(3,"span",2),core._uU(4,"STARS"),core.qZA()(),core.TgZ(5,"div",3),core.YNc(6,GameSystemExtendedDetailsComponent_span_6_Template,1,1,"span",4),core.qZA(),core.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"span",2),core._uU(11,"SPECTRAL TYPE"),core.qZA(),core.TgZ(12,"span",8),core._uU(13),core.qZA()(),core.TgZ(14,"div",7)(15,"span",2),core._uU(16,"RADIUS"),core.qZA(),core.TgZ(17,"span",8),core._uU(18),core.ALo(19,"number"),core.qZA()(),core.TgZ(20,"div",7)(21,"span",2),core._uU(22,"MASS"),core.qZA(),core.TgZ(23,"span",8),core._uU(24),core.ALo(25,"number"),core.qZA()(),core.TgZ(26,"div",7)(27,"span",2),core._uU(28,"TEMPERATURE"),core.qZA(),core.TgZ(29,"span",8),core._uU(30),core.ALo(31,"number"),core.qZA()()()(),core.TgZ(32,"div",9)(33,"span",2),core._uU(34,"PLANETS"),core.qZA()(),core.YNc(35,GameSystemExtendedDetailsComponent_div_35_Template,4,0,"div",10),core.YNc(36,GameSystemExtendedDetailsComponent_div_36_Template,3,1,"div",11),core.YNc(37,GameSystemExtendedDetailsComponent_div_37_Template,17,4,"div",10),core.TgZ(38,"div",12)(39,"span",2),core._uU(40,"RESOURCES"),core.qZA()(),core.TgZ(41,"div",13)(42,"div",14)(43,"div",15)(44,"span",2),core._uU(45,"COMMON"),core.qZA(),core.TgZ(46,"span",8),core._uU(47),core.ALo(48,"number"),core.qZA()(),core.TgZ(49,"div",15)(50,"span",2),core._uU(51,"UNCOMMON"),core.qZA(),core.TgZ(52,"span",8),core._uU(53),core.ALo(54,"number"),core.qZA()(),core.TgZ(55,"div",15)(56,"span",2),core._uU(57,"RARE"),core.qZA(),core.TgZ(58,"span",8),core._uU(59),core.ALo(60,"number"),core.qZA()()()()),2&rf&&(core.xp6(1),core.Oqu(ctx.rarity),core.xp6(5),core.Q6J("ngForOf",ctx.stars),core.xp6(2),core.Q6J("ngClass",null==ctx.selectedStar?null:ctx.selectedStar.stellarClassSlug),core.xp6(5),core.Oqu(null==ctx.selectedStar?null:ctx.selectedStar.spectralType),core.xp6(5),core.hij("",core.lcZ(19,13,null==ctx.selectedStar?null:ctx.selectedStar.radius),"R\u2609"),core.xp6(6),core.hij("",core.lcZ(25,15,null==ctx.selectedStar?null:ctx.selectedStar.mass),"M\u2609"),core.xp6(6),core.hij("",core.lcZ(31,17,null==ctx.selectedStar?null:ctx.selectedStar.temperature),"K"),core.xp6(5),core.Q6J("ngIf",0===ctx.planets.length),core.xp6(1),core.Q6J("ngIf",ctx.planets.length>0),core.xp6(1),core.Q6J("ngIf",ctx.planets.length>0),core.xp6(10),core.hij("",core.lcZ(48,19,null==ctx.system||null==ctx.system.resources?null:ctx.system.resources.common),"%"),core.xp6(6),core.hij("",core.lcZ(54,21,null==ctx.system||null==ctx.system.resources?null:ctx.system.resources.uncommon),"%"),core.xp6(6),core.hij("",core.lcZ(60,23,null==ctx.system||null==ctx.system.resources?null:ctx.system.resources.rare),"%"))},"GameSystemExtendedDetailsComponent_Template"),dependencies:[common.mk,common.sg,common.O5,common.JJ],styles:["[_nghost-%COMP%]{position:absolute;top:125px;left:110px;z-index:6;width:400px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;pointer-events:none;background-color:#1d262fd6;border:solid 1px #585c5e;box-shadow:0 0 2rem #1b83dc33,0 0 6rem #1b83dc26;opacity:0;transition:.2s opacity}.fade-in[_nghost-%COMP%]{opacity:1;transition:1s opacity;pointer-events:all}[_nghost-%COMP%]   .rarity-label[_ngcontent-%COMP%]{position:absolute;line-height:26px;font-size:1.3rem;padding:4px 20px;font-weight:700;letter-spacing:3px;left:-76px;top:39px;transform:rotate(-90deg);text-shadow:none;color:#fff;border-top-left-radius:3px;border-top-right-radius:3px}.common[_nghost-%COMP%]{border:solid 2px #585c5e}.common[_nghost-%COMP%]   .rarity-label[_ngcontent-%COMP%]{left:-76px;top:39px;background-color:#585c5e}.common[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%], .common[_nghost-%COMP%]   .system-planets-heading[_ngcontent-%COMP%], .common[_nghost-%COMP%]   .system-resources-heading[_ngcontent-%COMP%]{background:url(diagonal-pattern-2.d5dc695e8286b09e.png);background-size:50px 100%!important}.common[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .common[_nghost-%COMP%]   .system-planets-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .common[_nghost-%COMP%]   .system-resources-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#cccfd1}.common[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(129,129,129,.46) 0%,rgba(64,64,64,.75) 80%),url(diagonal-pattern-2.d5dc695e8286b09e.png)}.uncommon[_nghost-%COMP%]{border:solid 2px #dde2e4}.uncommon[_nghost-%COMP%]   .rarity-label[_ngcontent-%COMP%]{left:-88px;top:51px;background-color:#dde2e4;color:#000}.uncommon[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%], .uncommon[_nghost-%COMP%]   .system-planets-heading[_ngcontent-%COMP%], .uncommon[_nghost-%COMP%]   .system-resources-heading[_ngcontent-%COMP%]{background:url(diagonal-pattern-2.d5dc695e8286b09e.png);background-size:50px 100%!important}.uncommon[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .uncommon[_nghost-%COMP%]   .system-planets-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .uncommon[_nghost-%COMP%]   .system-resources-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#dde2e4}.uncommon[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(204,203,203,.65) 0%,rgba(138,138,138,.86) 80%),url(diagonal-pattern-2.d5dc695e8286b09e.png)}.rare[_nghost-%COMP%]{border:solid 2px #d78d16}.rare[_nghost-%COMP%]   .rarity-label[_ngcontent-%COMP%]{left:-61px;top:23px;background-color:#d78d16}.rare[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%], .rare[_nghost-%COMP%]   .system-planets-heading[_ngcontent-%COMP%], .rare[_nghost-%COMP%]   .system-resources-heading[_ngcontent-%COMP%]{background:url(diagonal-pattern-2.d5dc695e8286b09e.png);background-size:50px 100%!important}.rare[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .rare[_nghost-%COMP%]   .system-planets-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .rare[_nghost-%COMP%]   .system-resources-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#dde2e4}.rare[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(183,128,43,.8) 0%,rgba(138,94,13,.8) 80%),url(diagonal-pattern-2.d5dc695e8286b09e.png)}.epic[_nghost-%COMP%]{border:solid 2px #22b5ef}.epic[_nghost-%COMP%]   .rarity-label[_ngcontent-%COMP%]{left:-57px;top:20px;background-color:#22b5ef}.epic[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%], .epic[_nghost-%COMP%]   .system-planets-heading[_ngcontent-%COMP%], .epic[_nghost-%COMP%]   .system-resources-heading[_ngcontent-%COMP%]{background:url(diagonal-pattern-2.d5dc695e8286b09e.png);background-size:50px 100%!important}.epic[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .epic[_nghost-%COMP%]   .system-planets-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .epic[_nghost-%COMP%]   .system-resources-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#dde2e4}.epic[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(70,99,128,.8) 0%,rgba(71,105,138,.94) 80%),url(diagonal-pattern-2.d5dc695e8286b09e.png)}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .bottom-separator[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(167,174,179,.4196078431)}[_nghost-%COMP%]   .right-separator[_ngcontent-%COMP%]{border-right:solid 1px rgba(167,174,179,.4196078431)}[_nghost-%COMP%]   .system-stars-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-planets-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-resources-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-other-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-survey-heading[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%;text-transform:uppercase;font-weight:700;letter-spacing:3px;font-size:1.35rem;line-height:20px;padding-top:2px;color:#7e8589;text-shadow:1px 0 1px rgba(0,0,0,.5),0 1px 1px rgba(0,0,0,.5)!important}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]{font-weight:300;font-size:1.25rem}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .system-stars-plane[_ngcontent-%COMP%]{position:absolute;border-bottom:2px solid #999;width:calc(100% - 2rem);height:2px;z-index:1}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector[_ngcontent-%COMP%]{border-radius:50%;z-index:2;border:solid 2px #999;background-color:#182027;width:20px;height:20px}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector[_ngcontent-%COMP%]:hover{border:solid 2px #ddd;cursor:pointer}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.selected[_ngcontent-%COMP%]{border:solid 2px #ddd;background-color:#c5af68}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector[_ngcontent-%COMP%]:first-child{margin-right:10px}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.g2[_ngcontent-%COMP%]{background-color:#c5af68}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.rd[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.rg[_ngcontent-%COMP%]{background-color:#c56868}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.bg[_ngcontent-%COMP%]{background-color:#689dc5}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.ns[_ngcontent-%COMP%]{background-color:#70c568}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.wd[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.psr[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.sg[_ngcontent-%COMP%]{background-color:silver}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.g2[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.rd[_ngcontent-%COMP%]{width:20px;height:20px}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.rg[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.bg[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.sg[_ngcontent-%COMP%]{width:70px;height:70px}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.wd[_ngcontent-%COMP%]{width:15px;height:15px}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.ns[_ngcontent-%COMP%]{width:10px;height:10px}[_nghost-%COMP%]   .system-stars-selector[_ngcontent-%COMP%]   .star-selector.psr[_ngcontent-%COMP%]{width:10px;height:10px}[_nghost-%COMP%]   .system-stars[_ngcontent-%COMP%]{background-size:422px;background-repeat:no-repeat;background-position-y:-77px;background-position-x:-71px;background-color:#000}[_nghost-%COMP%]   .system-stars[_ngcontent-%COMP%]   .main-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500;letter-spacing:3px;font-size:1.25rem;line-height:26px;color:#fff;text-shadow:none}[_nghost-%COMP%]   .system-stars[_ngcontent-%COMP%]   .stellar-stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:left;text-transform:uppercase;letter-spacing:1px;font-size:1.25rem;line-height:26px;color:#fff;font-weight:300;text-shadow:1px 0 1px rgba(0,0,0,.5),0 1px 1px rgba(0,0,0,.5),-1px 0 1px rgba(0,0,0,.5),0 -1px 1px rgba(0,0,0,.5)!important}[_nghost-%COMP%]   .system-stars[_ngcontent-%COMP%]   .stellar-stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:right;text-transform:uppercase;letter-spacing:1px;font-size:1.25rem;font-weight:300;line-height:26px;color:#fff;text-shadow:none;text-shadow:2px 0 2px rgba(0,0,0,.5),0 2px 2px rgba(0,0,0,.5),-2px 0 2px rgba(0,0,0,.5),0 -1px 2px rgba(0,0,0,.5)!important}[_nghost-%COMP%]   .system-stars.g-type-g2[_ngcontent-%COMP%]{background-image:url(ms-bg.db1380b1e47ef5d8.jpg)}[_nghost-%COMP%]   .system-stars.red-dwarf[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-stars.red-giant[_ngcontent-%COMP%]{background-image:url(rd-bg.c846abb1bdf7863c.jpg)}[_nghost-%COMP%]   .system-stars.blue-giant[_ngcontent-%COMP%]{background-image:url(bg-bg.7b5b8cfb84eaf6b1.jpg)}[_nghost-%COMP%]   .system-stars.white-dwarf[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-stars.supergiant[_ngcontent-%COMP%], [_nghost-%COMP%]   .system-stars.pulsar[_ngcontent-%COMP%]{background-image:url(wd-bg.97624b6b028039c9.jpg)}[_nghost-%COMP%]   .system-stars.neutron-star[_ngcontent-%COMP%]{background-image:url(ns-bg.97624b6b028039c9.jpg)}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]{font-weight:300;font-size:1.25rem}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .system-planets-plane[_ngcontent-%COMP%]{position:absolute;border-bottom:2px solid #999;width:calc(100% - 2rem);height:2px;z-index:1}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector[_ngcontent-%COMP%]{border-radius:50%;z-index:2;border:solid 2px #999;background-color:#182027;width:20px;height:20px}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector[_ngcontent-%COMP%]:hover{border:solid 2px #ddd;cursor:pointer}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector.selected[_ngcontent-%COMP%]{border:solid 2px #ddd;background-color:#638aac}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector.classd[_ngcontent-%COMP%]{width:12px;height:12px}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector.classy[_ngcontent-%COMP%]{width:20px;height:20px}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector.classl[_ngcontent-%COMP%]{width:25px;height:25px}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector.classm[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector.classk[_ngcontent-%COMP%]{width:25px;height:25px}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector.classt[_ngcontent-%COMP%]{width:70px;height:70px}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector.classj[_ngcontent-%COMP%]{width:55px;height:55px}[_nghost-%COMP%]   .system-planets-selector[_ngcontent-%COMP%]   .orbit-selector.classh[_ngcontent-%COMP%]{width:20px;height:20px}[_nghost-%COMP%]   .system-planets[_ngcontent-%COMP%]{background-size:261px;background-repeat:no-repeat;background-position-y:14px;background-color:#000}[_nghost-%COMP%]   .system-planets.bottom-separator[_ngcontent-%COMP%]:not(:last-child){border-width:5px;border-color:#1d262fd6}[_nghost-%COMP%]   .system-planets[_ngcontent-%COMP%]   .main-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500;letter-spacing:3px;font-size:1.25rem;line-height:26px;color:#fff;text-shadow:none}[_nghost-%COMP%]   .system-planets[_ngcontent-%COMP%]   .planet-stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:left;text-transform:uppercase;letter-spacing:1px;font-size:1.25rem;line-height:26px;color:#becedc;font-weight:100;text-shadow:2px 0 2px rgba(0,0,0,.5),0 2px 2px rgba(0,0,0,.5),-2px 0 2px rgba(0,0,0,.5),0 -1px 2px rgba(0,0,0,.5)!important}[_nghost-%COMP%]   .system-planets[_ngcontent-%COMP%]   .planet-stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:right;text-transform:uppercase;letter-spacing:1px;font-size:1.25rem;font-weight:300;line-height:26px;color:#fff;text-shadow:2px 0 2px rgba(0,0,0,.5),0 2px 2px rgba(0,0,0,.5),-2px 0 2px rgba(0,0,0,.5),0 -1px 2px rgba(0,0,0,.5)!important}[_nghost-%COMP%]   .system-planets.classd[_ngcontent-%COMP%]{background-image:url(moon_05.1e63513be1508d43.jpg)}[_nghost-%COMP%]   .system-planets.classh[_ngcontent-%COMP%]{background-image:url(sand_02.c046fb933091c78e.jpg)}[_nghost-%COMP%]   .system-planets.classj[_ngcontent-%COMP%]{background-image:url(gas_04.023a3eca770f6346.jpg)}[_nghost-%COMP%]   .system-planets.classk[_ngcontent-%COMP%]{background-image:url(moon_06.b8f3790b5ed17676.jpg)}[_nghost-%COMP%]   .system-planets.classl[_ngcontent-%COMP%]{background-image:url(terrestrial-01.58d9628c844eb26f.jpg)}[_nghost-%COMP%]   .system-planets.classm[_ngcontent-%COMP%]{background-image:url(oceanic_03.a0f6180b8c5c400b.jpg)}[_nghost-%COMP%]   .system-planets.classn[_ngcontent-%COMP%]{background-image:url(clouds_03.3c1bf60d35c6a94a.jpg)}[_nghost-%COMP%]   .system-planets.classr[_ngcontent-%COMP%]{background-image:url(frozen_01.b40149194053b959.jpg)}[_nghost-%COMP%]   .system-planets.classt[_ngcontent-%COMP%]{background-image:url(gas_01.9165bbef45894a8c.jpg)}[_nghost-%COMP%]   .system-planets.classy[_ngcontent-%COMP%]{background-image:url(lava_03.c8b36d2106e8ad9b.jpg)}[_nghost-%COMP%]   .system-resources[_ngcontent-%COMP%]{background-size:363px;background-repeat:no-repeat;background-position-y:-29px;background-position-x:-49px;background-color:#000}[_nghost-%COMP%]   .system-resources.bottom-separator[_ngcontent-%COMP%]:not(:last-child){border-width:5px;border-color:#1d262fd6}[_nghost-%COMP%]   .system-resources[_ngcontent-%COMP%]   .main-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500;letter-spacing:3px;font-size:1.25rem;line-height:26px;color:#fff;text-shadow:none}[_nghost-%COMP%]   .system-resources[_ngcontent-%COMP%]   .resource-stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:left;text-transform:uppercase;letter-spacing:1px;font-size:1.25rem;line-height:26px;color:#becedc;font-weight:100;text-shadow:2px 0 2px rgba(0,0,0,.5),0 2px 2px rgba(0,0,0,.5),-2px 0 2px rgba(0,0,0,.5),0 -1px 2px rgba(0,0,0,.5)!important}[_nghost-%COMP%]   .system-resources[_ngcontent-%COMP%]   .resource-stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:right;text-transform:uppercase;letter-spacing:1px;font-size:1.25rem;font-weight:300;line-height:26px;color:#fff;text-shadow:2px 0 2px rgba(0,0,0,.5),0 2px 2px rgba(0,0,0,.5),-2px 0 2px rgba(0,0,0,.5),0 -1px 2px rgba(0,0,0,.5)!important}[_nghost-%COMP%]   .system-resources.common[_ngcontent-%COMP%]{background-image:url(asteroid_02.278c3b4360a8fb82.jpg)}[_nghost-%COMP%]   .system-resources.uncommon[_ngcontent-%COMP%]{background-image:url(asteroid_10.29c0f238bc1e785b.jpg)}[_nghost-%COMP%]   .system-resources.rare[_ngcontent-%COMP%]{background-image:url(asteroid_11.2dbd8cdc42e70d3c.jpg)}"]}),GameSystemExtendedDetailsComponent2})();const system_view_c0=__name(function(a0){return{"fade-in":a0}},"system_view_c0"),routes=[{path:"",data:{routeName:"galaxy"},children:[{path:"",redirectTo:"galaxy",pathMatch:"full"},{path:"",component:GameView,data:{routeName:"map-galaxy"},children:[{path:"galaxy",component:GalaxyView,data:{routeName:"map-galaxy-view"}},{path:"galaxy/:sectorid",component:SectorView,data:{routeName:"map-sector-view"}},{path:"galaxy/:sectorid/:systemid",component:(()=>{class SystemView2{constructor(sceneManager,eventManager,log,dataManager,router2,route,title){this.sceneManager=sceneManager,this.eventManager=eventManager,this.log=log,this.dataManager=dataManager,this.router=router2,this.route=route,this.title=title,this.name="SystemView",this.showDetails=!1,this.showExtendedDetails=!1,this.showActionButtons=!1,this._scenesReady=!1,this.route.params.subscribe(params=>{this._scenesReady&&this.init()}),this.eventManager.on(OnScenesReadyEvent,()=>{this.init(),this._scenesReady=!0},this)}ngOnInit(){this.log.warn("onInit",this),this.addEvents()}ngOnDestroy(){this.log.warn("onDestroy",this),this.removeEvents(),"/velorum/galaxy"===this.router.routerState.snapshot.url&&this.sceneManager.GetSceneByName("Sector Scene")?.deactivate?.()}init(){"map-system-view"===this.route.snapshot.data.routeName&&(this.dataManager.velorum.SelectSector(parseInt(this.route.snapshot.paramMap.get("sectorid"),10)),this.dataManager.velorum.SelectedSector?.SelectedSystem?.deselect?.(),this.dataManager.velorum.SelectedSector.SelectSystem(parseInt(this.route.snapshot.paramMap.get("systemid"),10)),this.title.setTitle(`Velorum Galaxy :: Sector ${this.dataManager.velorum.SelectedSector.name} :: System ${this.dataManager.velorum.SelectedSector.SelectedSystem.name}`),this.sceneManager.GetSceneByName("Sector Scene")?.activate?.(!0),this.eventManager.emit(OnSolarSystemSelectedEvent,this.dataManager.velorum.SelectedSector?.SelectedSystem,this),this.eventManager.emit(OnSectorSelectedEvent,this.dataManager.velorum.SelectedSector,this),setTimeout(()=>{this.showDetails=!0,this.showExtendedDetails=!0},1))}addEvents(){"map-system-view"===this.route.snapshot.data.routeName&&(this._onShowActionButtonsEventSubscription=this.eventManager.on(OnShowActionButtonsEvent,()=>{this.showActionButtons=!0},this),this._onSelectSolarSystemEventSubscription=this.eventManager.on(OnClickSolarSystemEvent,system=>this.onSolarSystemClick(system),this),this._onLoadingScreenFadedOutEventSubscription=this.eventManager.on(OnLoadingScreenFadedOutEvent,()=>this.onLoadingScreenFadedOut(),this),this._onSectorClickSubscription=this.eventManager.on(OnSolarSystemDeselectedEvent,()=>this.onSectorClick(),this),this._onGoBackToGalaxySubscription=this.eventManager.on(OnGoBackToGalaxyEvent,()=>this.onGoBackToGalaxy(),this))}removeEvents(){this.eventManager.off(OnClickSolarSystemEvent,this._onSelectSolarSystemEventSubscription),this.eventManager.off(OnLoadingScreenFadedOutEvent,this._onLoadingScreenFadedOutEventSubscription),this.eventManager.off(OnSolarSystemDeselectedEvent,this._onSectorClickSubscription),this.eventManager.off(OnShowActionButtonsEvent,this._onShowActionButtonsEventSubscription),this.eventManager.off(OnGoBackToGalaxyEvent,this._onGoBackToGalaxySubscription)}onLoadingScreenFadedOut(){this.sceneManager.IntroComplete&&(this.eventManager.emit(OnIntroAlreadyCompletedEvent,void 0,this),this.eventManager.emit(OnIntroCompleteEvent,void 0,this),this.eventManager.emit(OnShowSocialIconsEvent,void 0,this),this.eventManager.emit(OnShowActionButtonsEvent,void 0,this),this.eventManager.emit(OnShowSectorStatsEvent,void 0,this))}onSolarSystemClick(system){this.router.navigate(["galaxy",this.dataManager.velorum.SelectedSector.id,system.id])}onSectorClick(){this.router.navigate(["galaxy",this.dataManager.velorum.SelectedSector.id])}onGoBackToGalaxy(){this.dataManager.velorum.SelectedSector?.deselect(),this.sceneManager.Controls.moveTo(-1e4,6e3,500,!1),this.sceneManager.Controls.setTarget(0,0,0,!1),this.router.navigate(["galaxy"])}onDeselectActionClick(event){event?.preventDefault(),event?.stopPropagation(),event?.stopImmediatePropagation(),this.eventManager.emit(OnSolarSystemDeselectedEvent,void 0,this)}}return __name(SystemView2,"SystemView"),SystemView2.\u0275fac=__name(function(t){return new(t||SystemView2)(core.Y36(SceneManagerService),core.Y36(EventManagerService),core.Y36(LogManagerService),core.Y36(DataManagerService),core.Y36(router.F0),core.Y36(router.gz),core.Y36(platform_browser.Dx))},"SystemView_Factory"),SystemView2.\u0275cmp=core.Xpm({type:SystemView2,selectors:[["velorum-system-view"]],inputs:{routeName:"routeName",sectorid:"sectorid",systemid:"systemid"},decls:4,vars:13,consts:[[3,"ngClass"],[1,"actions","center"],[1,"deselect-system-action",3,"keyCode","keyCodeText","text","round","ngClass","pressed","click"]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"velorum-game-system-details",0)(1,"velorum-game-system-extended-details",0),core.TgZ(2,"div",1)(3,"velorum-game-button",2),core.NdJ("pressed",__name(function(){return ctx.onDeselectActionClick()},"SystemView_Template_velorum_game_button_pressed_3_listener"))("click",__name(function($event){return ctx.onDeselectActionClick($event)},"SystemView_Template_velorum_game_button_click_3_listener")),core.qZA()()),2&rf&&(core.Q6J("ngClass",core.VKq(7,system_view_c0,ctx.showDetails)),core.xp6(1),core.Q6J("ngClass",core.VKq(9,system_view_c0,ctx.showExtendedDetails)),core.xp6(2),core.Q6J("keyCode","Escape")("keyCodeText","ESC")("text","Deselect")("round",!1)("ngClass",core.VKq(11,system_view_c0,ctx.showActionButtons)))},"SystemView_Template"),dependencies:[common.mk,GameButtonComponent,GameSystemDetailsComponent,GameSystemExtendedDetailsComponent],styles:["[_nghost-%COMP%]{display:flex;flex:1;justify-content:space-between;padding:10px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{position:absolute;z-index:6;width:20%;height:58px;bottom:0;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .actions.left[_ngcontent-%COMP%]{padding-left:80px;width:24%;left:0}[_nghost-%COMP%]   .actions.right[_ngcontent-%COMP%]{padding-right:200px;padding-left:20px;width:24%;right:0}[_nghost-%COMP%]   .actions.center[_ngcontent-%COMP%]{width:200px;left:calc(50% - 100px)}[_nghost-%COMP%]   .deselect-system-action[_ngcontent-%COMP%]{opacity:0;transition:.25s opacity}[_nghost-%COMP%]   .deselect-system-action.fade-in[_ngcontent-%COMP%]{transition:1s opacity;opacity:1}"]}),SystemView2})(),data:{routeName:"map-system-view"}}]}]}],routingOptions={initialNavigation:"enabledBlocking",scrollPositionRestoration:"enabled",anchorScrolling:"enabled",onSameUrlNavigation:"reload",bindToComponentInputs:!0};var fesm2022_animations=__webpack_require__(1591);const fadeAnimation=(0,fesm2022_animations.X$)("fadeAnimation",[(0,fesm2022_animations.eR)("* => *",[(0,fesm2022_animations.IO)(":enter",[(0,fesm2022_animations.oB)({opacity:0}),(0,fesm2022_animations.pV)()],{optional:!0}),(0,fesm2022_animations.IO)(":enter",[(0,fesm2022_animations.oB)({opacity:0}),(0,fesm2022_animations.jt)("0.25s",(0,fesm2022_animations.oB)({opacity:1})),(0,fesm2022_animations.pV)()],{optional:!0})])]);let UIService=(()=>{class UIService2{constructor(){this.showTransparentNavbar=!0,this.showNavbar=!1,this.showSocialLinks=!1,this.playing=!1}}return __name(UIService2,"UIService"),UIService2.\u0275fac=__name(function(t){return new(t||UIService2)},"UIService_Factory"),UIService2.\u0275prov=core.Yz7({token:UIService2,factory:UIService2.\u0275fac,providedIn:"root"}),UIService2})(),SocialLinksComponent=(()=>{class SocialLinksComponent2{}return __name(SocialLinksComponent2,"SocialLinksComponent"),SocialLinksComponent2.\u0275fac=__name(function(t){return new(t||SocialLinksComponent2)},"SocialLinksComponent_Factory"),SocialLinksComponent2.\u0275cmp=core.Xpm({type:SocialLinksComponent2,selectors:[["velorum-social-links"]],decls:13,vars:0,consts:[[1,"social"],["content","Follow us on Twitter","placement","top"],["href","https://twitter.com/SingularityMeta","target","_blank"],[1,"fab","fa-twitter","fa-lg"],["content","Join our Discord Server","placement","top"],["href","https://discord.gg/S5agh3UfpZ","target","_blank"],[1,"fab","fa-discord","fa-lg"],["content","Read the Whitepaper","placement","top"],["href","https://whitepaper.velorum.games","target","_blank"],[1,"fa-solid","fa-book-open","fa-lg"],["content","Read our Blog","placement","top-start"],["href","https://quasar.blog","target","_blank"],[1,"fa-solid","fa-rss","fa-lg"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"sl-tooltip",1)(2,"a",2),core._UZ(3,"i",3),core.qZA()(),core.TgZ(4,"sl-tooltip",4)(5,"a",5),core._UZ(6,"i",6),core.qZA()(),core.TgZ(7,"sl-tooltip",7)(8,"a",8),core._UZ(9,"i",9),core.qZA()(),core.TgZ(10,"sl-tooltip",10)(11,"a",11),core._UZ(12,"i",12),core.qZA()()())},"SocialLinksComponent_Template"),styles:["[_nghost-%COMP%]   .social[_ngcontent-%COMP%]{position:fixed;bottom:5px;right:20px;display:flex;flex-direction:row;z-index:10}[_nghost-%COMP%]   .social.in[_ngcontent-%COMP%]{animation-name:fade-out;animation-duration:2s;animation-fill-mode:forwards}[_nghost-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px;color:#fff}[_nghost-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{fill:#fff}[_nghost-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i.fa-solid[_ngcontent-%COMP%]{--fa-primary-opacity: .6;--fa-secondary-opacity: .4}[_nghost-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i.fab[_ngcontent-%COMP%]{opacity:.6}[_nghost-%COMP%]   .social[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]   ii.fa-solid[_ngcontent-%COMP%], [_nghost-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   ii.fa-solid[_ngcontent-%COMP%]{transition:opacity .25s ease;--fa-primary-opacity: 1;--fa-secondary-opacity: .6}[_nghost-%COMP%]   .social[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]   i.fab[_ngcontent-%COMP%], [_nghost-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i.fab[_ngcontent-%COMP%]{transition:opacity .25s ease;opacity:1}"]}),SocialLinksComponent2})();const root_view_c0=["dialog"];function RootView_velorum_social_links_0_Template(rf,ctx){1&rf&&core._UZ(0,"velorum-social-links")}__name(RootView_velorum_social_links_0_Template,"RootView_velorum_social_links_0_Template");let RootView=(()=>{class RootView2{constructor(ui){this.ui=ui,this.ui.showTransparentNavbar="galaxy"===this.routeName,this.ui.showNavbar="meco"!==this.routeName,this.ui.showSocialLinks="meco"!==this.routeName&&"galaxy"!==this.routeName,this.ui.playing="meco"===this.routeName}get audioCdnPath(){return`//${environment.cdn.host}/${environment.cdn.path}/meco/audio/music`}}return __name(RootView2,"RootView"),RootView2.\u0275fac=__name(function(t){return new(t||RootView2)(core.Y36(UIService))},"RootView_Factory"),RootView2.\u0275cmp=core.Xpm({type:RootView2,selectors:[["velorum-root"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(root_view_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.dialog=_t.first)}},"RootView_Query"),inputs:{routeName:"routeName"},decls:4,vars:2,consts:[[4,"ngIf"],[1,"router-container"],["outlet","outlet"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,RootView_velorum_social_links_0_Template,1,0,"velorum-social-links",0),core.TgZ(1,"div",1),core._UZ(2,"router-outlet",null,2),core.qZA()),2&rf){const _r1=core.MAs(3);core.Q6J("ngIf",ctx.ui.showSocialLinks),core.xp6(1),core.Q6J("@fadeAnimation",_r1.isActivated?_r1.activatedRoute:"")}},"RootView_Template"),dependencies:[common.O5,router.lC,SocialLinksComponent],styles:['[_nghost-%COMP%]{display:flex;flex-direction:row;flex:1}[_nghost-%COMP%]   .router-container[_ngcontent-%COMP%]{width:100%;height:100%;z-index:0}[_nghost-%COMP%]:before{content:"";position:absolute;inset:0;opacity:.8;z-index:0}sl-button[_ngcontent-%COMP%]::part(base){border-radius:0}'],data:{animation:[fadeAnimation]}}),RootView2})(),MusicPlayerService=(()=>{class MusicPlayerService2{get player(){return this._audio||(this._audio=new Audio),this._audio}}return __name(MusicPlayerService2,"MusicPlayerService"),MusicPlayerService2.\u0275fac=__name(function(t){return new(t||MusicPlayerService2)},"MusicPlayerService_Factory"),MusicPlayerService2.\u0275prov=core.Yz7({token:MusicPlayerService2,factory:MusicPlayerService2.\u0275fac,providedIn:"root"}),MusicPlayerService2})();var BehaviorSubject=__webpack_require__(1135);class Timer{get name(){return this._timerName}constructor(_name,_tick){this._name=_name,this._tick=_tick,this._timerName="default",this._timerTick=1e3,this._elapsed=0,this.onTick=new BehaviorSubject.X(this._elapsed),this._timerTick=_tick,this._timerName=_name}start(){(!this.onTick||this.onTick.closed)&&(this.onTick=new BehaviorSubject.X(this._elapsed)),this._interval=setInterval(()=>{this._elapsed++,this.onTick.next(this._elapsed)},this._timerTick)}pause(){clearInterval(this._interval),this.onTick.complete()}}__name(Timer,"Timer");let TimerService=(()=>{class TimerService2{constructor(){this._timers=[]}newTimer(name,tick){const timer=new Timer(name,tick);return this._timers.push(timer),timer}find(name){return this._timers.find(t=>t.name===name)}}return __name(TimerService2,"TimerService"),TimerService2.\u0275fac=__name(function(t){return new(t||TimerService2)},"TimerService_Factory"),TimerService2.\u0275prov=core.Yz7({token:TimerService2,factory:TimerService2.\u0275fac,providedIn:"root"}),TimerService2})();const WINDOW=new core.OlP("Window");(0,base_path.t)("@shoelace-style/shoelace/dist");let GameModule=(()=>{class GameModule2{}return __name(GameModule2,"GameModule"),GameModule2.\u0275fac=__name(function(t){return new(t||GameModule2)},"GameModule_Factory"),GameModule2.\u0275mod=core.oAB({type:GameModule2,bootstrap:[RootView]}),GameModule2.\u0275inj=core.cJS({providers:[TimerService,MusicPlayerService,{provide:WINDOW,useFactory:()=>window}],imports:[platform_browser.b2,animations.PW,http.JF,fesm2022_forms.u5,clipboard.Iq,SharedLibModule.forRoot(environment),ngx_markdown.JP.forRoot(),router.Bz.forRoot(routes,routingOptions)]}),GameModule2})();platform_browser.q6().bootstrapModule(GameModule).catch(err=>console.error(err))},1555:module=>{module.exports="#ifdef GL_ES\n  precision highp float;\n#endif\n\nuniform sampler2D tDiffuse;\nuniform float uBrightness;\nuniform float uContrast;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n  gl_FragColor = texture2D( tDiffuse, vUv );\n\n  gl_FragColor.rgb += uBrightness;\n\n  if (uContrast > 0.0) {\n    gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) / (1.0 - uContrast) + 0.5;\n  } else {\n    gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) * (1.0 + uContrast) + 0.5;\n  }\n\n}\n"},3820:module=>{module.exports="#ifdef GL_ES\n  precision highp float;\n#endif\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n"},3761:module=>{module.exports="#ifdef GL_ES\n  precision highp float;\n#endif\n\nuniform sampler2D tDiffuse;\nuniform float uHue;\nuniform float uSaturation;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n  gl_FragColor = texture2D( tDiffuse, vUv );\n\n  // hue\n  float angle = uHue * 3.14159265;\n  float s = sin(angle), c = cos(angle);\n  vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;\n  float len = length(gl_FragColor.rgb);\n\n  gl_FragColor.rgb = vec3(\n    dot(gl_FragColor.rgb, weights.xyz),\n    dot(gl_FragColor.rgb, weights.zxy),\n    dot(gl_FragColor.rgb, weights.yzx)\n  );\n\n  // saturation\n  float average = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;\n  if (uSaturation > 0.0) {\n    gl_FragColor.rgb += (average - gl_FragColor.rgb) * (1.0 - 1.0 / (1.001 - uSaturation));\n  } else {\n    gl_FragColor.rgb += (average - gl_FragColor.rgb) * (-uSaturation);\n  }\n\n}\n"},6527:module=>{module.exports="#ifdef GL_ES\n  precision highp float;\n#endif\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n"}},__webpack_require__=>{var __webpack_exec__=__name(moduleId=>__webpack_require__(__webpack_require__.s=moduleId),"__webpack_exec__");__webpack_require__.O(0,[736],()=>__webpack_exec__(9541)),__webpack_require__.O()}]);